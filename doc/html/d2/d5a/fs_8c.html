<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: fs.c 파일 참조</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'검색');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','검색');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">매크로</a> &#124;
<a href="#func-members">함수</a> &#124;
<a href="#var-members">변수</a>  </div>
  <div class="headertitle">
<div class="title">fs.c 파일 참조</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d9/d49/types_8h_source.html">types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d64/defs_8h_source.html">defs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d33/param_8h_source.html">param.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d1b/stat_8h_source.html">stat.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/df1/mmu_8h_source.html">mmu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d03/proc_8h_source.html">proc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d63/spinlock_8h_source.html">spinlock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d74/sleeplock_8h_source.html">sleeplock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d26/fs_8h_source.html">fs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d6d/buf_8h_source.html">buf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d4d/file_8h_source.html">file.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
fs.c에 대한 include 의존 그래프</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/d4f/fs_8c__incl.png" border="0" usemap="#fs_8c" alt=""/></div>
<map name="fs_8c" id="fs_8c">
<area shape="rect" title=" " alt="" coords="471,5,517,32"/>
<area shape="rect" href="../../d9/d49/types_8h.html" title=" " alt="" coords="5,80,76,107"/>
<area shape="rect" href="../../d5/d64/defs_8h.html" title=" " alt="" coords="100,80,163,107"/>
<area shape="rect" href="../../d5/d33/param_8h.html" title=" " alt="" coords="187,80,263,107"/>
<area shape="rect" href="../../d2/d1b/stat_8h.html" title=" " alt="" coords="287,80,346,107"/>
<area shape="rect" href="../../d2/df1/mmu_8h.html" title=" " alt="" coords="371,80,439,107"/>
<area shape="rect" href="../../df/d03/proc_8h.html" title=" " alt="" coords="463,80,525,107"/>
<area shape="rect" href="../../df/d63/spinlock_8h.html" title=" " alt="" coords="550,80,638,107"/>
<area shape="rect" href="../../d0/d74/sleeplock_8h.html" title=" " alt="" coords="662,80,758,107"/>
<area shape="rect" href="../../df/d26/fs_8h.html" title=" " alt="" coords="783,80,829,107"/>
<area shape="rect" href="../../d6/d6d/buf_8h.html" title=" " alt="" coords="853,80,908,107"/>
<area shape="rect" href="../../d2/d4d/file_8h.html" title=" " alt="" coords="932,80,987,107"/>
</map>
</div>
</div>
<p><a href="../../d2/d5a/fs_8c_source.html">이 파일의 소스 코드 페이지로 가기</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
매크로</h2></td></tr>
<tr class="memitem:ac6afabdc09a49a433ee19d8a9486056d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>(a,  b)&#160;&#160;&#160;((a) &lt; (b) ? (a) : (b))</td></tr>
<tr class="separator:ac6afabdc09a49a433ee19d8a9486056d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
함수</h2></td></tr>
<tr class="memitem:a7c42ba96035fb59aef87372552b1a661"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a7c42ba96035fb59aef87372552b1a661">itrunc</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *)</td></tr>
<tr class="separator:a7c42ba96035fb59aef87372552b1a661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff0080b2133027be2e525ca088b40e78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#aff0080b2133027be2e525ca088b40e78">readsb</a> (int dev, struct <a class="el" href="../../df/d3d/structsuperblock.html">superblock</a> *<a class="el" href="../../d7/d1f/mkfs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>)</td></tr>
<tr class="separator:aff0080b2133027be2e525ca088b40e78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac93f607f4a954323f4c9ea485ca88538"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#ac93f607f4a954323f4c9ea485ca88538">bzero</a> (int dev, int bno)</td></tr>
<tr class="separator:ac93f607f4a954323f4c9ea485ca88538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29272227722d57ff937caaffd03455a9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9">balloc</a> (<a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> dev)</td></tr>
<tr class="separator:a29272227722d57ff937caaffd03455a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2800a4b570ae39363cec0613dac92fd7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a2800a4b570ae39363cec0613dac92fd7">bfree</a> (int dev, <a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> b)</td></tr>
<tr class="separator:a2800a4b570ae39363cec0613dac92fd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a301761a27cf266e0bad483272fb31a3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a301761a27cf266e0bad483272fb31a3c">iinit</a> (int dev)</td></tr>
<tr class="separator:a301761a27cf266e0bad483272fb31a3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa574143402896986fe315a0c2749fffa"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#aa574143402896986fe315a0c2749fffa">iget</a> (<a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> dev, <a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> inum)</td></tr>
<tr class="separator:aa574143402896986fe315a0c2749fffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb360ce0b70a32d19d089fba4cd91293"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#adb360ce0b70a32d19d089fba4cd91293">ialloc</a> (<a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> dev, short type)</td></tr>
<tr class="separator:adb360ce0b70a32d19d089fba4cd91293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7220afa8e5f4bea540eb95879ea7df6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e">iupdate</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *ip)</td></tr>
<tr class="separator:a7220afa8e5f4bea540eb95879ea7df6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b41577cc09b2a009be8f84bfb500079"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a6b41577cc09b2a009be8f84bfb500079">idup</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *ip)</td></tr>
<tr class="separator:a6b41577cc09b2a009be8f84bfb500079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed28187406d84a3aa71f10c6235a03ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec">ilock</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *ip)</td></tr>
<tr class="separator:aed28187406d84a3aa71f10c6235a03ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4e29916219b9293b37f9c34220694fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe">iunlock</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *ip)</td></tr>
<tr class="separator:ae4e29916219b9293b37f9c34220694fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3c447f135c68e4c3c1f8d5866f6e77b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b">iput</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *ip)</td></tr>
<tr class="separator:ab3c447f135c68e4c3c1f8d5866f6e77b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a207b3008bae35596c55ec7c4fc6875eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb">iunlockput</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *ip)</td></tr>
<tr class="separator:a207b3008bae35596c55ec7c4fc6875eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a965e83e1fa9b15abf268784ce74181bb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a965e83e1fa9b15abf268784ce74181bb">bmap</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *ip, <a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> bn)</td></tr>
<tr class="separator:a965e83e1fa9b15abf268784ce74181bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ccff0bd4d9802e709d0af8d71a59861"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a4ccff0bd4d9802e709d0af8d71a59861">stati</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *ip, struct <a class="el" href="../../da/de7/structstat.html">stat</a> *st)</td></tr>
<tr class="separator:a4ccff0bd4d9802e709d0af8d71a59861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aba1fa9f6789d09356aec5b96d91fa8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8">readi</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *ip, char *dst, <a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> off, <a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> n)</td></tr>
<tr class="separator:a3aba1fa9f6789d09356aec5b96d91fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15858f4d8a4cc1def3d84d03c312836b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a15858f4d8a4cc1def3d84d03c312836b">writei</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *ip, char *src, <a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> off, <a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> n)</td></tr>
<tr class="separator:a15858f4d8a4cc1def3d84d03c312836b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae74f6e5b19a4e7f3e72807ee67141819"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#ae74f6e5b19a4e7f3e72807ee67141819">namecmp</a> (const char *s, const char *t)</td></tr>
<tr class="separator:ae74f6e5b19a4e7f3e72807ee67141819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa182c62fade7a0bae9408830d5e06d4f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#aa182c62fade7a0bae9408830d5e06d4f">dirlookup</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *dp, char *<a class="el" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>, <a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *poff)</td></tr>
<tr class="separator:aa182c62fade7a0bae9408830d5e06d4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69a135a0e8a06d9f306d77ebc0c1f7a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0">dirlink</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *dp, char *<a class="el" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>, <a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> inum)</td></tr>
<tr class="separator:a69a135a0e8a06d9f306d77ebc0c1f7a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa696af27cc6f5d87271f9eb1c863f770"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#aa696af27cc6f5d87271f9eb1c863f770">skipelem</a> (char *path, char *<a class="el" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>)</td></tr>
<tr class="separator:aa696af27cc6f5d87271f9eb1c863f770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85139e533a212f0e8961b88e73fd6510"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510">namex</a> (char *path, int <a class="el" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c">nameiparent</a>, char *<a class="el" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>)</td></tr>
<tr class="separator:a85139e533a212f0e8961b88e73fd6510"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9baba030d5bc6e9e20cf8b7d181edf35"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35">namei</a> (char *path)</td></tr>
<tr class="separator:a9baba030d5bc6e9e20cf8b7d181edf35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a987ca4f8ffd579b96a8b9a60e61a7c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c">nameiparent</a> (char *path, char *<a class="el" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>)</td></tr>
<tr class="separator:a5a987ca4f8ffd579b96a8b9a60e61a7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
변수</h2></td></tr>
<tr class="memitem:a0248d0bac625de5a1415f2f8c91f3343"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../df/d3d/structsuperblock.html">superblock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a></td></tr>
<tr class="separator:a0248d0bac625de5a1415f2f8c91f3343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a78db4f7c856337d906f0606b19bff5"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:abb26f91769c8eb57d680eacf2abe54c1"><td class="memItemLeft" >&#160;&#160;&#160;struct <a class="el" href="../../d1/d08/structspinlock.html">spinlock</a>&#160;&#160;&#160;<a class="el" href="../../d2/d5a/fs_8c.html#ab28e82cd5dda7d960095706a3ea20572">lock</a></td></tr>
<tr class="separator:abb26f91769c8eb57d680eacf2abe54c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa108ae4b2c6427c87b305700d0f93225"><td class="memItemLeft" >&#160;&#160;&#160;struct <a class="el" href="../../d0/df8/structinode.html">inode</a>&#160;&#160;&#160;<a class="el" href="../../d2/d5a/fs_8c.html#a6baaf26dd83b71b8d684c5d54a709e31">inode</a> [<a class="el" href="../../d5/d33/param_8h.html#adabafa10c7951be7c875cd2ee212be85">NINODE</a>]</td></tr>
<tr class="separator:aa108ae4b2c6427c87b305700d0f93225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a78db4f7c856337d906f0606b19bff5"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a></td></tr>
<tr class="separator:a5a78db4f7c856337d906f0606b19bff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">매크로 문서화</h2>
<a id="ac6afabdc09a49a433ee19d8a9486056d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6afabdc09a49a433ee19d8a9486056d">&#9670;&nbsp;</a></span>min</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define min</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((a) &lt; (b) ? (a) : (b))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00024">24</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<h2 class="groupheader">함수 문서화</h2>
<a id="a29272227722d57ff937caaffd03455a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29272227722d57ff937caaffd03455a9">&#9670;&nbsp;</a></span>balloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> balloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00057">57</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordtype">int</span> b, bi, m;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d9/dd0/structbuf.html">buf</a> *bp;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  bp = 0;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">for</span> (b = 0; b &lt; <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>.<a class="code" href="../../df/d3d/structsuperblock.html#a7c6e4d6da139ecee74eb7816d5d44fa6">size</a>; b += <a class="code" href="../../df/d26/fs_8h.html#a3c88fd21abb83ef11461ce750c466828">BPB</a>)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    bp = <a class="code" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c">bread</a>(<a class="code" href="../../d9/dd0/structbuf.html#ac96082c2b5f22133ac7092ef81487227">dev</a>, <a class="code" href="../../df/d26/fs_8h.html#a080eb729016328ec6da85bfe125fc04c">BBLOCK</a>(b, <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>));</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">for</span> (bi = 0; bi &lt; <a class="code" href="../../df/d26/fs_8h.html#a3c88fd21abb83ef11461ce750c466828">BPB</a> &amp;&amp; b + bi &lt; <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>.<a class="code" href="../../df/d3d/structsuperblock.html#a7c6e4d6da139ecee74eb7816d5d44fa6">size</a>; bi++)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      m = 1 &lt;&lt; (bi % 8);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <span class="keywordflow">if</span> ((bp-&gt;<a class="code" href="../../d9/dd0/structbuf.html#ab0ec38784ab94ed35e575cf6d33912d2">data</a>[bi / 8] &amp; m) == 0)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      {                        <span class="comment">// Is block free?</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        bp-&gt;<a class="code" href="../../d9/dd0/structbuf.html#ab0ec38784ab94ed35e575cf6d33912d2">data</a>[bi / 8] |= m; <span class="comment">// Mark block in use.</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <a class="code" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c">log_write</a>(bp);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <a class="code" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727">brelse</a>(bp);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <a class="code" href="../../d2/d5a/fs_8c.html#ac93f607f4a954323f4c9ea485ca88538">bzero</a>(<a class="code" href="../../d9/dd0/structbuf.html#ac96082c2b5f22133ac7092ef81487227">dev</a>, b + bi);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">return</span> b + bi;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727">brelse</a>(bp);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;balloc: out of blocks&quot;</span>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a29272227722d57ff937caaffd03455a9_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_a29272227722d57ff937caaffd03455a9_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a29272227722d57ff937caaffd03455a9_cgraph" id="d2/d5a/fs_8c_a29272227722d57ff937caaffd03455a9_cgraph">
<area shape="rect" title=" " alt="" coords="5,777,67,804"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="230,701,289,728"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1583,929,1641,956"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="613,1309,675,1336"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ac93f607f4a954323f4c9ea485ca88538" title=" " alt="" coords="115,777,173,804"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="903,701,986,728"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="345,701,396,728"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="467,879,526,905"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="1057,1056,1127,1083"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="444,600,549,627"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="1057,701,1127,728"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1187,1107,1288,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1202,701,1273,728"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1452,524,1519,551"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1336,727,1404,753"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1211,1056,1264,1083"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1339,575,1401,601"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1579,220,1645,247"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1567,321,1657,348"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1466,473,1505,500"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1466,575,1505,601"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1202,296,1273,323"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="615,549,673,576"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1337,169,1403,196"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1339,220,1401,247"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1336,271,1404,297"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1202,195,1273,221"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="761,321,821,348"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ac44b13cc76bf4040e3baf34df75ff230" title=" " alt="" coords="1202,549,1273,576"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="902,347,987,373"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1062,245,1122,272"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1045,397,1139,424"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ad43d81fa3edec39a200abd0853bc84b1" title=" " alt="" coords="1191,347,1284,373"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ad478e855c39b8cbc88b72327ef4cd6f7" title=" " alt="" coords="1347,423,1393,449"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a4221d3a95c4a39db73a96c2332990ab0" title=" " alt="" coords="1351,372,1389,399"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="892,803,997,829"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="608,955,680,981"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="597,1107,691,1133"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="756,1005,827,1032"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="766,904,817,931"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="764,955,819,981"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="923,955,966,981"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="739,1309,844,1336"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="909,1259,981,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="1052,1259,1132,1285"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a9d55c9f035076ed1a90b6452770d0b62" title=" " alt="" coords="221,803,297,829"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a29272227722d57ff937caaffd03455a9_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a29272227722d57ff937caaffd03455a9_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a29272227722d57ff937caaffd03455a9_icgraph" id="d2/d5a/fs_8c_a29272227722d57ff937caaffd03455a9_icgraph">
<area shape="rect" title=" " alt="" coords="909,208,971,235"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a965e83e1fa9b15abf268784ce74181bb" title=" " alt="" coords="803,208,861,235"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8" title=" " alt="" coords="700,233,755,260"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a15858f4d8a4cc1def3d84d03c312836b" title=" " alt="" coords="581,56,640,83"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="450,157,513,184"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa182c62fade7a0bae9408830d5e06d4f" title=" " alt="" coords="569,233,652,260"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,512,221,539"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a1dc8c87c7e48bdaaf98e9c7047928f29" title=" " alt="" coords="575,309,646,336"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a2eb454962c1a73ea0138f868180f85ed" title=" " alt="" coords="295,107,387,133"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a201acc8337a2893268b61ea5a1ee0d53" title=" " alt="" coords="571,512,650,539"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,259,226,285"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,309,232,336"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,272,98,299"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,221,101,248"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,335,95,361"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="448,309,515,336"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,157,240,184"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,411,372,437"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,309,393,336"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,411,236,437"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,461,230,488"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a54bf714d9e898cbdcbc061b280bbfae0" title=" " alt="" coords="441,360,521,387"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="444,5,519,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a687d939a9e4792af15db96f2c2f34378" title=" " alt="" coords="299,5,383,32"/>
</map>
</div>

</div>
</div>
<a id="a2800a4b570ae39363cec0613dac92fd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2800a4b570ae39363cec0613dac92fd7">&#9670;&nbsp;</a></span>bfree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bfree </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00085">85</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;{</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d9/dd0/structbuf.html">buf</a> *bp;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordtype">int</span> bi, m;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  bp = <a class="code" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c">bread</a>(<a class="code" href="../../d9/dd0/structbuf.html#ac96082c2b5f22133ac7092ef81487227">dev</a>, <a class="code" href="../../df/d26/fs_8h.html#a080eb729016328ec6da85bfe125fc04c">BBLOCK</a>(b, <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>));</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  bi = b % <a class="code" href="../../df/d26/fs_8h.html#a3c88fd21abb83ef11461ce750c466828">BPB</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  m = 1 &lt;&lt; (bi % 8);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">if</span> ((bp-&gt;<a class="code" href="../../d9/dd0/structbuf.html#ab0ec38784ab94ed35e575cf6d33912d2">data</a>[bi / 8] &amp; m) == 0)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;freeing free block&quot;</span>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  bp-&gt;<a class="code" href="../../d9/dd0/structbuf.html#ab0ec38784ab94ed35e575cf6d33912d2">data</a>[bi / 8] &amp;= ~m;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c">log_write</a>(bp);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727">brelse</a>(bp);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a2800a4b570ae39363cec0613dac92fd7_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_a2800a4b570ae39363cec0613dac92fd7_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a2800a4b570ae39363cec0613dac92fd7_cgraph" id="d2/d5a/fs_8c_a2800a4b570ae39363cec0613dac92fd7_cgraph">
<area shape="rect" title=" " alt="" coords="5,1285,61,1312"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="109,1120,168,1147"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1454,968,1511,995"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="483,1348,546,1375"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="774,1323,857,1349"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="216,1120,267,1147"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="338,791,397,817"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="927,968,998,995"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="315,867,420,893"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="927,1221,998,1248"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1057,1019,1159,1045"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1073,1069,1143,1096"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1323,613,1389,640"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1207,765,1275,792"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1081,968,1135,995"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1210,917,1271,944"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1450,284,1515,311"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1437,461,1528,488"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1337,816,1375,843"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1337,512,1375,539"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1073,461,1143,488"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="486,765,543,792"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1207,309,1274,336"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1210,411,1271,437"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1207,360,1275,387"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1073,360,1143,387"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="632,537,692,564"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ac44b13cc76bf4040e3baf34df75ff230" title=" " alt="" coords="1073,689,1143,716"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="773,613,858,640"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="933,563,993,589"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="916,664,1009,691"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ad43d81fa3edec39a200abd0853bc84b1" title=" " alt="" coords="1061,563,1155,589"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ad478e855c39b8cbc88b72327ef4cd6f7" title=" " alt="" coords="1217,461,1264,488"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a4221d3a95c4a39db73a96c2332990ab0" title=" " alt="" coords="1221,563,1260,589"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="763,968,868,995"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="479,107,551,133"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="468,157,561,184"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="627,5,697,32"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="637,56,687,83"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="635,107,689,133"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="794,5,837,32"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="609,1424,715,1451"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="779,1475,851,1501"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="923,1475,1003,1501"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a2800a4b570ae39363cec0613dac92fd7_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a2800a4b570ae39363cec0613dac92fd7_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a2800a4b570ae39363cec0613dac92fd7_icgraph" id="d2/d5a/fs_8c_a2800a4b570ae39363cec0613dac92fd7_icgraph">
<area shape="rect" title=" " alt="" coords="915,216,971,243"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7c42ba96035fb59aef87372552b1a661" title=" " alt="" coords="808,216,867,243"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="713,216,760,243"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="309,64,372,91"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,64,232,91"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ab3db880e623854a39a18d618e360323d" title=" " alt="" coords="461,571,507,597"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="582,647,658,673"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb" title=" " alt="" coords="575,216,665,243"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="451,115,517,141"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,368,236,395"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,115,226,141"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,45,98,72"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,184,101,211"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,393,95,420"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a9d6f0c526148e6002b6776619c7563e6" title=" " alt="" coords="443,723,525,749"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a9a70db941def46ec25939e6c2d30e399" title=" " alt="" coords="301,672,380,699"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a32945488fd39bc405757177b37cd2250" title=" " alt="" coords="441,672,527,699"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,317,221,344"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,165,240,192"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,267,372,293"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,115,393,141"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,216,230,243"/>
</map>
</div>

</div>
</div>
<a id="a965e83e1fa9b15abf268784ce74181bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a965e83e1fa9b15abf268784ce74181bb">&#9670;&nbsp;</a></span>bmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> bmap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>bn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00379">379</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;{</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <a class="code" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> addr, *a;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d9/dd0/structbuf.html">buf</a> *bp;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <a class="code" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> cur;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <a class="code" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> len;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <a class="code" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <span class="keyword">new</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="comment">/*T_CS 파일의 데이터 매핑*/</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8d74bec2898785c057111c328d23fda2">type</a> == <a class="code" href="../../d2/d1b/stat_8h.html#a234ef1d69dd84e7134072c05c5b87eaf">T_CS</a>)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    i = 0;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    cur = 0;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// cprintf(&quot;block: %d\n&quot;, bn);</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">/*bmap은 새로운 데이터를 매핑해주는 역할 뿐만 아니라*/</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">/*기존 데이터 접근할때도 있는지 체크해준 후 매핑을 해준다.*/</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">while</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i])</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <span class="keywordflow">if</span> (i &gt; <a class="code" href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a>)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="comment">/*addrs[i]는 4바이트인데 3바이트는 주소이고 1바이트는 길이이다*/</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="comment">/* 비트 연산으로 &amp; 255를 해주면 하위 1바이트, 즉 길이를 얻을 수 있다.*/</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      len = (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i] &amp; 255);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="comment">/*블럭 넘버 할당*/</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="comment">/*T_CS 파일중에 해당 블럭 넘버가 있는지 체크*/</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">if</span> (bn &gt;= cur &amp;&amp; bn &lt; len + cur)</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="comment">/*addrs[i] &gt;&gt; 8 연산을 하면 상위 3바이트, 즉 주소를 얻을 수 있다.*/</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        addr = (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i] &gt;&gt; 8) + bn - cur;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">return</span> addr;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      cur += len;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      i++;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">// T_CS인데 마지막 NDIRECT(12번지)를 접근할 경우</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">if</span> (i &gt;= <a class="code" href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a>)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <a class="code" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6">cprintf</a>(<span class="stringliteral">&quot;Excess NDIRECT or Data block!&quot;</span>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <span class="comment">// 혹은 panic으로 에러처리</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <span class="keywordflow">return</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i - 1] &gt;&gt; 8);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">/*만약 기존 bn을 찾지 못했을 때? 없을때 새로운 block number을 매핑*/</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// 새로운 블럭 넘버(빈공간) 할당받기</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keyword">new</span> = <a class="code" href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9">balloc</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    len = (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i - 1] &amp; 255);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// 새로운 블럭이 연속된 데이터 블럭일 경우</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">if</span> ((<span class="keyword">new</span> == ((ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i - 1] &gt;&gt; 8) + len) &amp;&amp; (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i - 1] &amp; 255) &lt; 255))</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i - 1] += 1; <span class="comment">// 길이 추가</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i] = (<span class="keyword">new</span> &lt;&lt; 8 | 1);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">/*일반 파일 bmap*/</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">if</span> (bn &lt; <a class="code" href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a>)</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="keywordflow">if</span> ((addr = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[bn]) == 0)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[bn] = addr = <a class="code" href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9">balloc</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <span class="keywordflow">return</span> addr;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    bn -= <a class="code" href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> (bn &lt; <a class="code" href="../../df/d26/fs_8h.html#a6d24f098ea2928d61ff80b123d761715">NINDIRECT</a>)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="comment">// Load indirect block, allocating if necessary.</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="keywordflow">if</span> ((addr = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[<a class="code" href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a>]) == 0)</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[<a class="code" href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a>] = addr = <a class="code" href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9">balloc</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      bp = <a class="code" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c">bread</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>, addr);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      a = (<a class="code" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *)bp-&gt;<a class="code" href="../../d9/dd0/structbuf.html#ab0ec38784ab94ed35e575cf6d33912d2">data</a>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      if ((addr = a[bn]) == 0)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        a[bn] = addr = <a class="code" href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9">balloc</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <a class="code" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c">log_write</a>(bp);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <a class="code" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727">brelse</a>(bp);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordflow">return</span> addr;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;bmap: out of range&quot;</span>);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a965e83e1fa9b15abf268784ce74181bb_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_a965e83e1fa9b15abf268784ce74181bb_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a965e83e1fa9b15abf268784ce74181bb_cgraph" id="d2/d5a/fs_8c_a965e83e1fa9b15abf268784ce74181bb_cgraph">
<area shape="rect" title=" " alt="" coords="5,457,64,484"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9" title=" " alt="" coords="112,558,173,585"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="328,812,387,838"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1710,812,1767,838"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="719,812,781,838"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="435,533,517,560"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1003,420,1067,446"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ac93f607f4a954323f4c9ea485ca88538" title=" " alt="" coords="221,609,280,636"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="451,1166,501,1193"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="589,964,647,990"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="1147,1166,1218,1193"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="565,1622,671,1649"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="1147,1394,1218,1421"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1277,1141,1379,1168"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1293,1382,1363,1409"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1565,1636,1631,1662"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1431,1382,1499,1409"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1301,1192,1355,1218"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1434,1433,1495,1460"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1706,1762,1771,1789"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1693,1636,1784,1662"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1579,1484,1617,1510"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1579,1281,1617,1308"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1293,1712,1363,1738"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="721,1622,779,1649"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1431,1788,1498,1814"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1434,1534,1495,1561"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1431,1737,1499,1764"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1293,1762,1363,1789"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="852,1800,912,1826"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ac44b13cc76bf4040e3baf34df75ff230" title=" " alt="" coords="1293,1502,1363,1529"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="993,1774,1078,1801"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1153,1825,1213,1852"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1136,1724,1229,1750"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="983,1420,1088,1446"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="1292,558,1364,585"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="1551,305,1645,332"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="1429,153,1500,180"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="1573,102,1623,129"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="1437,609,1492,636"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="1577,153,1619,180"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="829,938,935,965"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="999,913,1071,940"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="1143,913,1223,940"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a9d55c9f035076ed1a90b6452770d0b62" title=" " alt="" coords="1560,254,1636,281"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a0504dbe97899f754f22dbe2b1e6b6102" title=" " alt="" coords="1288,356,1368,382"/>
<area shape="rect" href="../../d0/d56/console_8c.html#aafb705f6d5b125c41825313da0d41252" title=" " alt="" coords="1148,356,1217,382"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a9e775e33e5b346aba0be84dbeddcb312" title=" " alt="" coords="1428,204,1501,230"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a571626618a1f05ff6854802e936845d6" title=" " alt="" coords="1427,52,1503,78"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ada0e72e8d0a1a48090829fd03a0b76ba" title=" " alt="" coords="1551,52,1645,78"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a965e83e1fa9b15abf268784ce74181bb_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a965e83e1fa9b15abf268784ce74181bb_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a965e83e1fa9b15abf268784ce74181bb_icgraph" id="d2/d5a/fs_8c_a965e83e1fa9b15abf268784ce74181bb_icgraph">
<area shape="rect" title=" " alt="" coords="803,208,861,235"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8" title=" " alt="" coords="700,233,755,260"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a15858f4d8a4cc1def3d84d03c312836b" title=" " alt="" coords="581,56,640,83"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="450,157,513,184"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa182c62fade7a0bae9408830d5e06d4f" title=" " alt="" coords="569,233,652,260"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,512,221,539"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a1dc8c87c7e48bdaaf98e9c7047928f29" title=" " alt="" coords="575,309,646,336"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a2eb454962c1a73ea0138f868180f85ed" title=" " alt="" coords="295,107,387,133"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a201acc8337a2893268b61ea5a1ee0d53" title=" " alt="" coords="571,512,650,539"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,259,226,285"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,309,232,336"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,272,98,299"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,221,101,248"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,335,95,361"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="448,309,515,336"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,157,240,184"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,411,372,437"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,309,393,336"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,411,236,437"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,461,230,488"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a54bf714d9e898cbdcbc061b280bbfae0" title=" " alt="" coords="441,360,521,387"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="444,5,519,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a687d939a9e4792af15db96f2c2f34378" title=" " alt="" coords="299,5,383,32"/>
</map>
</div>

</div>
</div>
<a id="ac93f607f4a954323f4c9ea485ca88538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac93f607f4a954323f4c9ea485ca88538">&#9670;&nbsp;</a></span>bzero()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bzero </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00043">43</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d9/dd0/structbuf.html">buf</a> *bp;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  bp = <a class="code" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c">bread</a>(<a class="code" href="../../d9/dd0/structbuf.html#ac96082c2b5f22133ac7092ef81487227">dev</a>, bno);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#a9d55c9f035076ed1a90b6452770d0b62">memset</a>(bp-&gt;<a class="code" href="../../d9/dd0/structbuf.html#ab0ec38784ab94ed35e575cf6d33912d2">data</a>, 0, <a class="code" href="../../df/d26/fs_8h.html#a403cf3149c084cea115b85c90721039a">BSIZE</a>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c">log_write</a>(bp);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727">brelse</a>(bp);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_ac93f607f4a954323f4c9ea485ca88538_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_ac93f607f4a954323f4c9ea485ca88538_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_ac93f607f4a954323f4c9ea485ca88538_cgraph" id="d2/d5a/fs_8c_ac93f607f4a954323f4c9ea485ca88538_cgraph">
<area shape="rect" title=" " alt="" coords="5,1380,64,1407"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="121,904,179,931"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="503,1183,566,1209"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="794,1208,877,1235"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a9d55c9f035076ed1a90b6452770d0b62" title=" " alt="" coords="112,1512,188,1539"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="236,701,287,728"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="358,904,417,931"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="947,879,1018,905"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1474,929,1531,956"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="335,512,440,539"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="947,803,1018,829"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1077,955,1179,981"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1093,701,1163,728"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1343,448,1409,475"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1227,600,1295,627"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1101,904,1155,931"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1230,752,1291,779"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1470,93,1535,120"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1457,245,1548,272"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1357,651,1395,677"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1357,397,1395,424"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1093,245,1163,272"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="506,512,563,539"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1227,144,1294,171"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1230,245,1291,272"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1227,195,1295,221"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1093,296,1163,323"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="652,271,712,297"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ac44b13cc76bf4040e3baf34df75ff230" title=" " alt="" coords="1093,549,1163,576"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="793,296,878,323"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="953,245,1013,272"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="936,397,1029,424"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ad43d81fa3edec39a200abd0853bc84b1" title=" " alt="" coords="1081,347,1175,373"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ad478e855c39b8cbc88b72327ef4cd6f7" title=" " alt="" coords="1237,448,1284,475"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a4221d3a95c4a39db73a96c2332990ab0" title=" " alt="" coords="1241,347,1280,373"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="783,803,888,829"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="499,904,571,931"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="488,955,581,981"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="647,904,717,931"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="657,955,707,981"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="655,853,709,880"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="814,853,857,880"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="629,1208,735,1235"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="799,1107,871,1133"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="943,1107,1023,1133"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_ac93f607f4a954323f4c9ea485ca88538_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_ac93f607f4a954323f4c9ea485ca88538_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_ac93f607f4a954323f4c9ea485ca88538_icgraph" id="d2/d5a/fs_8c_ac93f607f4a954323f4c9ea485ca88538_icgraph">
<area shape="rect" title=" " alt="" coords="1019,183,1077,209"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9" title=" " alt="" coords="909,132,971,159"/>
<area shape="rect" href="../../d7/d1f/mkfs_8c.html#a341af7faeda3d6fcb57a5a9fe3a0104a" title=" " alt="" coords="911,233,969,260"/>
<area shape="rect" href="../../d7/d1f/mkfs_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="805,208,859,235"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a965e83e1fa9b15abf268784ce74181bb" title=" " alt="" coords="803,132,861,159"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8" title=" " alt="" coords="700,233,755,260"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a15858f4d8a4cc1def3d84d03c312836b" title=" " alt="" coords="581,56,640,83"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="450,157,513,184"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa182c62fade7a0bae9408830d5e06d4f" title=" " alt="" coords="569,233,652,260"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,512,221,539"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a1dc8c87c7e48bdaaf98e9c7047928f29" title=" " alt="" coords="575,335,646,361"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a2eb454962c1a73ea0138f868180f85ed" title=" " alt="" coords="295,107,387,133"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a201acc8337a2893268b61ea5a1ee0d53" title=" " alt="" coords="571,512,650,539"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,259,226,285"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,309,232,336"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,272,98,299"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,221,101,248"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,335,95,361"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="448,309,515,336"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,157,240,184"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,411,372,437"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,309,393,336"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,411,236,437"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,461,230,488"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a54bf714d9e898cbdcbc061b280bbfae0" title=" " alt="" coords="441,360,521,387"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="444,5,519,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a687d939a9e4792af15db96f2c2f34378" title=" " alt="" coords="299,5,383,32"/>
</map>
</div>

</div>
</div>
<a id="a69a135a0e8a06d9f306d77ebc0c1f7a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69a135a0e8a06d9f306d77ebc0c1f7a0">&#9670;&nbsp;</a></span>dirlink()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dirlink </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>dp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>inum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00657">657</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;{</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keywordtype">int</span> off;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d5/de2/structdirent.html">dirent</a> de;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d0/df8/structinode.html">inode</a> *ip;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="comment">// Check that name is not present.</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">if</span> ((ip = <a class="code" href="../../d2/d5a/fs_8c.html#aa182c62fade7a0bae9408830d5e06d4f">dirlookup</a>(dp, <a class="code" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>, 0)) != 0)</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <a class="code" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b">iput</a>(ip);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="comment">// Look for an empty dirent.</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordflow">for</span> (off = 0; off &lt; dp-&gt;<a class="code" href="../../d0/df8/structinode.html#a918af769c48a8ca8afac057bf83d12de">size</a>; off += <span class="keyword">sizeof</span>(de))</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8">readi</a>(dp, (<span class="keywordtype">char</span> *)&amp;de, off, <span class="keyword">sizeof</span>(de)) != <span class="keyword">sizeof</span>(de))</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <a class="code" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;dirlink read&quot;</span>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">if</span> (de.inum == 0)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#afcc0bb831ec06288e3a951e09e8d5b7d">strncpy</a>(de.name, <a class="code" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>, <a class="code" href="../../df/d26/fs_8h.html#a48246fb9e5cb7f6a71ebc9ebc2f06562">DIRSIZ</a>);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  de.inum = <a class="code" href="../../d0/df8/structinode.html#a8acc2b9df0bfc6856da62925763db7fe">inum</a>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5a/fs_8c.html#a15858f4d8a4cc1def3d84d03c312836b">writei</a>(dp, (<span class="keywordtype">char</span> *)&amp;de, off, <span class="keyword">sizeof</span>(de)) != <span class="keyword">sizeof</span>(de))</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <a class="code" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;dirlink&quot;</span>);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a69a135a0e8a06d9f306d77ebc0c1f7a0_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_a69a135a0e8a06d9f306d77ebc0c1f7a0_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a69a135a0e8a06d9f306d77ebc0c1f7a0_cgraph" id="d2/d5a/fs_8c_a69a135a0e8a06d9f306d77ebc0c1f7a0_cgraph">
<area shape="rect" title=" " alt="" coords="5,423,68,449"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa182c62fade7a0bae9408830d5e06d4f" title=" " alt="" coords="116,144,199,171"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1798,575,1855,601"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8" title=" " alt="" coords="263,397,317,424"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="395,1309,442,1336"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afcc0bb831ec06288e3a951e09e8d5b7d" title=" " alt="" coords="122,499,193,525"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a15858f4d8a4cc1def3d84d03c312836b" title=" " alt="" coords="261,803,319,829"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa574143402896986fe315a0c2749fffa" title=" " alt="" coords="1144,600,1191,627"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae74f6e5b19a4e7f3e72807ee67141819" title=" " alt="" coords="247,43,333,69"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="1273,853,1343,880"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="1273,1208,1343,1235"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1396,803,1497,829"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1411,1208,1482,1235"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1664,1208,1731,1235"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1545,1107,1613,1133"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1420,853,1473,880"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1549,1056,1610,1083"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1794,1385,1859,1412"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1781,1259,1872,1285"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1678,1309,1717,1336"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1678,1157,1717,1184"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a27e878168063a98eae64b4273dcf33cc" title=" " alt="" coords="381,43,456,69"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a965e83e1fa9b15abf268784ce74181bb" title=" " alt="" coords="389,397,448,424"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="744,803,803,829"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="1121,1005,1214,1032"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="742,1056,805,1083"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9" title=" " alt="" coords="504,524,565,551"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="732,600,815,627"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1135,499,1199,525"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ac93f607f4a954323f4c9ea485ca88538" title=" " alt="" coords="619,600,678,627"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="863,853,913,880"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="985,904,1043,931"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="961,1309,1067,1336"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1411,1309,1482,1336"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="1139,1208,1196,1235"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1664,1461,1731,1488"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1549,1309,1610,1336"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1545,1259,1613,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1411,1397,1482,1424"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1278,1448,1338,1475"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="1115,1056,1220,1083"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="1661,448,1733,475"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="961,1461,1067,1488"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="1131,1461,1203,1488"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="1268,1499,1348,1525"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a0504dbe97899f754f22dbe2b1e6b6102" title=" " alt="" coords="1407,600,1487,627"/>
<area shape="rect" href="../../d0/d56/console_8c.html#aafb705f6d5b125c41825313da0d41252" title=" " alt="" coords="1273,549,1343,576"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7c42ba96035fb59aef87372552b1a661" title=" " alt="" coords="505,955,564,981"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="613,1005,684,1032"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a2800a4b570ae39363cec0613dac92fd7" title=" " alt="" coords="621,904,677,931"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a69a135a0e8a06d9f306d77ebc0c1f7a0_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a69a135a0e8a06d9f306d77ebc0c1f7a0_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a69a135a0e8a06d9f306d77ebc0c1f7a0_icgraph" id="d2/d5a/fs_8c_a69a135a0e8a06d9f306d77ebc0c1f7a0_icgraph">
<area shape="rect" title=" " alt="" coords="272,81,335,108"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="155,56,218,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="149,107,224,133"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,5,98,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,56,101,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,107,95,133"/>
</map>
</div>

</div>
</div>
<a id="aa182c62fade7a0bae9408830d5e06d4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa182c62fade7a0bae9408830d5e06d4f">&#9670;&nbsp;</a></span>dirlookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/df8/structinode.html">inode</a>* dirlookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>dp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *&#160;</td>
          <td class="paramname"><em>poff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00628">628</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;{</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <a class="code" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> off, <a class="code" href="../../d0/df8/structinode.html#a8acc2b9df0bfc6856da62925763db7fe">inum</a>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d5/de2/structdirent.html">dirent</a> de;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d0/df8/structinode.html#a8d74bec2898785c057111c328d23fda2">type</a> != <a class="code" href="../../d2/d1b/stat_8h.html#a91136bcd71a9f499304f5d7e7e9d6376">T_DIR</a>)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;dirlookup not DIR&quot;</span>);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160; </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">for</span> (off = 0; off &lt; dp-&gt;<a class="code" href="../../d0/df8/structinode.html#a918af769c48a8ca8afac057bf83d12de">size</a>; off += <span class="keyword">sizeof</span>(de))</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8">readi</a>(dp, (<span class="keywordtype">char</span> *)&amp;de, off, <span class="keyword">sizeof</span>(de)) != <span class="keyword">sizeof</span>(de))</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <a class="code" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;dirlookup read&quot;</span>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">if</span> (de.inum == 0)</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5a/fs_8c.html#ae74f6e5b19a4e7f3e72807ee67141819">namecmp</a>(<a class="code" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>, de.name) == 0)</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      <span class="comment">// entry matches path element</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="keywordflow">if</span> (poff)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        *poff = off;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <a class="code" href="../../d5/de2/structdirent.html#a68698c303a46d2a34232a2226629ac79">inum</a> = de.inum;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/d5a/fs_8c.html#aa574143402896986fe315a0c2749fffa">iget</a>(dp-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>, <a class="code" href="../../d5/de2/structdirent.html#a68698c303a46d2a34232a2226629ac79">inum</a>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_aa182c62fade7a0bae9408830d5e06d4f_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_aa182c62fade7a0bae9408830d5e06d4f_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_aa182c62fade7a0bae9408830d5e06d4f_cgraph" id="d2/d5a/fs_8c_aa182c62fade7a0bae9408830d5e06d4f_cgraph">
<area shape="rect" title=" " alt="" coords="5,490,88,517"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa574143402896986fe315a0c2749fffa" title=" " alt="" coords="1033,1009,1080,1035"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1717,857,1774,883"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae74f6e5b19a4e7f3e72807ee67141819" title=" " alt="" coords="136,375,223,402"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8" title=" " alt="" coords="152,679,207,706"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="1162,1363,1233,1390"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="1162,1009,1233,1035"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1285,1414,1387,1441"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1301,1313,1371,1339"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1572,1515,1639,1542"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1439,1515,1507,1542"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1309,1363,1363,1390"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1442,1313,1503,1339"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1713,1313,1778,1339"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1700,1515,1791,1542"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1586,1313,1625,1339"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1586,1465,1625,1491"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a27e878168063a98eae64b4273dcf33cc" title=" " alt="" coords="271,46,345,73"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a965e83e1fa9b15abf268784ce74181bb" title=" " alt="" coords="279,679,337,706"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="621,857,680,883"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="1559,97,1652,123"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="740,1110,803,1137"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9" title=" " alt="" coords="393,730,455,757"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="609,730,692,757"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1025,299,1089,326"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ac93f607f4a954323f4c9ea485ca88538" title=" " alt="" coords="503,755,561,782"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="746,907,797,934"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="874,882,933,909"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="851,1211,956,1238"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1301,1465,1371,1491"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="1028,1211,1085,1238"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1572,1161,1639,1187"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1442,1363,1503,1390"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1439,1465,1507,1491"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1301,1262,1371,1289"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1167,1186,1227,1213"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="1004,1515,1109,1542"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="1300,553,1372,579"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="1437,451,1508,478"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="1580,249,1631,275"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="1445,603,1500,630"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="1584,198,1627,225"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="851,1262,956,1289"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="1021,1262,1093,1289"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="1157,1287,1237,1314"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a9d55c9f035076ed1a90b6452770d0b62" title=" " alt="" coords="1567,451,1643,478"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a0504dbe97899f754f22dbe2b1e6b6102" title=" " alt="" coords="1296,249,1376,275"/>
<area shape="rect" href="../../d0/d56/console_8c.html#aafb705f6d5b125c41825313da0d41252" title=" " alt="" coords="1163,249,1232,275"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a9e775e33e5b346aba0be84dbeddcb312" title=" " alt="" coords="1436,198,1509,225"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a571626618a1f05ff6854802e936845d6" title=" " alt="" coords="1435,249,1511,275"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_aa182c62fade7a0bae9408830d5e06d4f_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_aa182c62fade7a0bae9408830d5e06d4f_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_aa182c62fade7a0bae9408830d5e06d4f_icgraph" id="d2/d5a/fs_8c_aa182c62fade7a0bae9408830d5e06d4f_icgraph">
<area shape="rect" title=" " alt="" coords="556,81,639,108"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,31,226,57"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="309,56,372,83"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="441,107,508,133"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,132,240,159"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,56,98,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,5,101,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,183,95,209"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,81,232,108"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,208,372,235"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,107,393,133"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,335,221,361"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,183,236,209"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,233,230,260"/>
</map>
</div>

</div>
</div>
<a id="adb360ce0b70a32d19d089fba4cd91293"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb360ce0b70a32d19d089fba4cd91293">&#9670;&nbsp;</a></span>ialloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/df8/structinode.html">inode</a>* ialloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00200">200</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d5/de2/structdirent.html#a68698c303a46d2a34232a2226629ac79">inum</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d9/dd0/structbuf.html">buf</a> *bp;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../db/dfa/structdinode.html">dinode</a> *dip;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">for</span> (inum = 1; inum &lt; <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>.<a class="code" href="../../df/d3d/structsuperblock.html#a355d2a1ebdc51f80820c23e69363cf42">ninodes</a>; inum++)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    bp = <a class="code" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c">bread</a>(dev, <a class="code" href="../../df/d26/fs_8h.html#ac9a5b990015f0f86e5d4c6b21d38ffa0">IBLOCK</a>(inum, <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>));</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    dip = (<span class="keyword">struct </span><a class="code" href="../../db/dfa/structdinode.html">dinode</a> *)bp-&gt;<a class="code" href="../../d9/dd0/structbuf.html#ab0ec38784ab94ed35e575cf6d33912d2">data</a> + inum % <a class="code" href="../../df/d26/fs_8h.html#aadb6c866a6d0a173f5f0a6ed9c7e0228">IPB</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    if (dip-&gt;<a class="code" href="../../db/dfa/structdinode.html#abf6b2a8476a803284f1c927fb3b82259">type</a> == 0)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    { <span class="comment">// a free inode</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <a class="code" href="../../d5/d64/defs_8h.html#a9d55c9f035076ed1a90b6452770d0b62">memset</a>(dip, 0, <span class="keyword">sizeof</span>(*dip));</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      dip-&gt;<a class="code" href="../../db/dfa/structdinode.html#abf6b2a8476a803284f1c927fb3b82259">type</a> = <a class="code" href="../../db/dfa/structdinode.html#abf6b2a8476a803284f1c927fb3b82259">type</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <a class="code" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c">log_write</a>(bp); <span class="comment">// mark it allocated on the disk</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <a class="code" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727">brelse</a>(bp);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/d5a/fs_8c.html#aa574143402896986fe315a0c2749fffa">iget</a>(dev, inum);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727">brelse</a>(bp);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <a class="code" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;ialloc: no inodes&quot;</span>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_adb360ce0b70a32d19d089fba4cd91293_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_adb360ce0b70a32d19d089fba4cd91293_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_adb360ce0b70a32d19d089fba4cd91293_cgraph" id="d2/d5a/fs_8c_adb360ce0b70a32d19d089fba4cd91293_cgraph">
<area shape="rect" title=" " alt="" coords="5,1557,63,1584"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="119,1120,178,1147"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1473,917,1530,944"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="502,1272,565,1299"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa574143402896986fe315a0c2749fffa" title=" " alt="" coords="811,1399,857,1425"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="793,1449,875,1476"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a9d55c9f035076ed1a90b6452770d0b62" title=" " alt="" coords="111,1703,187,1729"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="235,1120,285,1147"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="357,689,415,716"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="946,1095,1017,1121"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="333,943,439,969"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="946,943,1017,969"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1076,1145,1177,1172"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1091,639,1162,665"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1341,487,1408,513"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1225,689,1293,716"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1100,1044,1153,1071"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1229,639,1290,665"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1469,132,1534,159"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1456,233,1547,260"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1355,588,1394,615"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1355,689,1394,716"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1091,284,1162,311"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="505,740,562,767"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1226,132,1293,159"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1229,183,1290,209"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1225,233,1293,260"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1091,183,1162,209"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="651,360,711,387"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ac44b13cc76bf4040e3baf34df75ff230" title=" " alt="" coords="1091,537,1162,564"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="791,385,877,412"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="951,284,1011,311"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="935,487,1028,513"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ad43d81fa3edec39a200abd0853bc84b1" title=" " alt="" coords="1080,335,1173,361"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ad478e855c39b8cbc88b72327ef4cd6f7" title=" " alt="" coords="1236,436,1283,463"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a4221d3a95c4a39db73a96c2332990ab0" title=" " alt="" coords="1240,335,1279,361"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="781,841,887,868"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="497,335,569,361"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="487,284,580,311"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="645,5,716,32"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="655,56,706,83"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="653,107,708,133"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="813,5,855,32"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="628,1297,733,1324"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="798,1297,870,1324"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="941,1297,1021,1324"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_adb360ce0b70a32d19d089fba4cd91293_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_adb360ce0b70a32d19d089fba4cd91293_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_adb360ce0b70a32d19d089fba4cd91293_icgraph" id="d2/d5a/fs_8c_adb360ce0b70a32d19d089fba4cd91293_icgraph">
<area shape="rect" title=" " alt="" coords="260,56,317,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="149,56,212,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,5,98,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,56,101,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,107,95,133"/>
</map>
</div>

</div>
</div>
<a id="a6b41577cc09b2a009be8f84bfb500079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b41577cc09b2a009be8f84bfb500079">&#9670;&nbsp;</a></span>idup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/df8/structinode.html">inode</a>* idup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00284">284</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;{</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8">acquire</a>(&amp;<a class="code" href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a>.lock);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a6a519028ee67f805482b3e1725bf09c5">ref</a>++;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a>(&amp;<a class="code" href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a>.lock);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">return</span> ip;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a6b41577cc09b2a009be8f84bfb500079_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_a6b41577cc09b2a009be8f84bfb500079_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a6b41577cc09b2a009be8f84bfb500079_cgraph" id="d2/d5a/fs_8c_a6b41577cc09b2a009be8f84bfb500079_cgraph">
<area shape="rect" title=" " alt="" coords="5,208,56,235"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="104,157,175,184"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="104,233,175,260"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="223,157,324,184"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="238,208,309,235"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="488,107,555,133"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="619,259,677,285"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="372,5,440,32"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="247,107,300,133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="375,208,437,235"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="615,132,681,159"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="603,81,693,108"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="502,259,541,285"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="502,56,541,83"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a6b41577cc09b2a009be8f84bfb500079_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a6b41577cc09b2a009be8f84bfb500079_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a6b41577cc09b2a009be8f84bfb500079_icgraph" id="d2/d5a/fs_8c_a6b41577cc09b2a009be8f84bfb500079_icgraph">
<area shape="rect" title=" " alt="" coords="556,196,607,223"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="451,171,499,197"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="441,221,508,248"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,145,372,172"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,221,393,248"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,5,221,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,56,236,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,208,232,235"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,132,95,159"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,157,230,184"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,259,226,285"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,309,240,336"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,233,98,260"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,284,101,311"/>
</map>
</div>

</div>
</div>
<a id="aa574143402896986fe315a0c2749fffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa574143402896986fe315a0c2749fffa">&#9670;&nbsp;</a></span>iget()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/df8/structinode.html">inode</a> * iget </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>inum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00248">248</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d0/df8/structinode.html">inode</a> *ip, *empty;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8">acquire</a>(&amp;<a class="code" href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a>.lock);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// Is the inode already cached?</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  empty = 0;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">for</span> (ip = &amp;<a class="code" href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a>.inode[0]; ip &lt; &amp;<a class="code" href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a>.inode[<a class="code" href="../../d5/d33/param_8h.html#adabafa10c7951be7c875cd2ee212be85">NINODE</a>]; ip++)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a6a519028ee67f805482b3e1725bf09c5">ref</a> &gt; 0 &amp;&amp; ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a> == <a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a> &amp;&amp; ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8acc2b9df0bfc6856da62925763db7fe">inum</a> == <a class="code" href="../../d0/df8/structinode.html#a8acc2b9df0bfc6856da62925763db7fe">inum</a>)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a6a519028ee67f805482b3e1725bf09c5">ref</a>++;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <a class="code" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a>(&amp;<a class="code" href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a>.lock);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="keywordflow">return</span> ip;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (empty == 0 &amp;&amp; ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a6a519028ee67f805482b3e1725bf09c5">ref</a> == 0) <span class="comment">// Remember empty slot.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      empty = ip;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">// Recycle an inode cache entry.</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordflow">if</span> (empty == 0)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;iget: no inodes&quot;</span>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  ip = empty;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a> = <a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8acc2b9df0bfc6856da62925763db7fe">inum</a> = <a class="code" href="../../d0/df8/structinode.html#a8acc2b9df0bfc6856da62925763db7fe">inum</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a6a519028ee67f805482b3e1725bf09c5">ref</a> = 1;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  ip-&gt;<a class="code" href="../../d0/df8/structinode.html#aad324382ba30eb83daa5304fce7dca08">valid</a> = 0;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a>(&amp;<a class="code" href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a>.lock);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">return</span> ip;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_aa574143402896986fe315a0c2749fffa_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_aa574143402896986fe315a0c2749fffa_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_aa574143402896986fe315a0c2749fffa_cgraph" id="d2/d5a/fs_8c_aa574143402896986fe315a0c2749fffa_cgraph">
<area shape="rect" title=" " alt="" coords="5,259,52,285"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="100,157,171,184"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="615,309,673,336"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="100,259,171,285"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="219,157,320,184"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="234,208,305,235"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="484,107,551,133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="368,5,436,32"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="243,107,296,133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="371,208,433,235"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="611,132,677,159"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="599,81,689,108"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="498,208,537,235"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="498,5,537,32"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_aa574143402896986fe315a0c2749fffa_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_aa574143402896986fe315a0c2749fffa_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_aa574143402896986fe315a0c2749fffa_icgraph" id="d2/d5a/fs_8c_aa574143402896986fe315a0c2749fffa_icgraph">
<area shape="rect" title=" " alt="" coords="687,233,733,260"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa182c62fade7a0bae9408830d5e06d4f" title=" " alt="" coords="556,233,639,260"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="441,157,508,184"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#adb360ce0b70a32d19d089fba4cd91293" title=" " alt="" coords="446,360,503,387"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,309,226,336"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="309,208,372,235"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,259,240,285"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,335,98,361"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,284,101,311"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,171,95,197"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,208,232,235"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,107,372,133"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,157,393,184"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,5,221,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,56,236,83"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,157,230,184"/>
</map>
</div>

</div>
</div>
<a id="a301761a27cf266e0bad483272fb31a3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a301761a27cf266e0bad483272fb31a3c">&#9670;&nbsp;</a></span>iinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iinit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00175">175</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#ab56d728e6966819a0260c358d3ac3419">initlock</a>(&amp;<a class="code" href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a>.lock, <span class="stringliteral">&quot;icache&quot;</span>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d5/d33/param_8h.html#adabafa10c7951be7c875cd2ee212be85">NINODE</a>; i++)</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="../../d5/d64/defs_8h.html#af5ca8072e3877a883fb34ce59eff88cb">initsleeplock</a>(&amp;<a class="code" href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a>.inode[i].lock, <span class="stringliteral">&quot;inode&quot;</span>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="../../d2/d5a/fs_8c.html#aff0080b2133027be2e525ca088b40e78">readsb</a>(<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>, &amp;<a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6">cprintf</a>(<span class="stringliteral">&quot;sb: size %d nblocks %d ninodes %d nlog %d logstart %d\</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="stringliteral"> inodestart %d bmap start %d\n&quot;</span>,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;          <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>.<a class="code" href="../../df/d3d/structsuperblock.html#a7c6e4d6da139ecee74eb7816d5d44fa6">size</a>, <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>.<a class="code" href="../../df/d3d/structsuperblock.html#a2a27a7cfb54689f0e1dcd1788d049218">nblocks</a>,</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;          <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>.<a class="code" href="../../df/d3d/structsuperblock.html#a355d2a1ebdc51f80820c23e69363cf42">ninodes</a>, <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>.<a class="code" href="../../df/d3d/structsuperblock.html#aea92ae872785fd4fb39b903d9157aac5">nlog</a>, <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>.<a class="code" href="../../df/d3d/structsuperblock.html#a460268b28aced19797e8d7b84aa60ebf">logstart</a>, <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>.<a class="code" href="../../df/d3d/structsuperblock.html#adde361528f3905445974301b424611c1">inodestart</a>,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;          <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>.<a class="code" href="../../df/d3d/structsuperblock.html#a3c815dda5be6bda609389e76434171cc">bmapstart</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a301761a27cf266e0bad483272fb31a3c_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_a301761a27cf266e0bad483272fb31a3c_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a301761a27cf266e0bad483272fb31a3c_cgraph" id="d2/d5a/fs_8c_a301761a27cf266e0bad483272fb31a3c_cgraph">
<area shape="rect" title=" " alt="" coords="5,715,52,741"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="909,233,973,260"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ab56d728e6966819a0260c358d3ac3419" title=" " alt="" coords="253,791,324,817"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#af5ca8072e3877a883fb34ce59eff88cb" title=" " alt="" coords="100,791,205,817"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aff0080b2133027be2e525ca088b40e78" title=" " alt="" coords="119,689,186,716"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="1053,1044,1123,1071"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1615,968,1673,995"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a0504dbe97899f754f22dbe2b1e6b6102" title=" " alt="" coords="1193,183,1273,209"/>
<area shape="rect" href="../../d0/d56/console_8c.html#aafb705f6d5b125c41825313da0d41252" title=" " alt="" coords="1053,132,1123,159"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="1053,841,1123,868"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1183,917,1284,944"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1198,867,1269,893"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1470,1171,1537,1197"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1336,1120,1404,1147"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1207,968,1260,995"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1339,917,1401,944"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1611,1323,1677,1349"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1599,1525,1689,1552"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1484,1373,1523,1400"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1484,1120,1523,1147"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a9e775e33e5b346aba0be84dbeddcb312" title=" " alt="" coords="1333,183,1407,209"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a571626618a1f05ff6854802e936845d6" title=" " alt="" coords="1332,31,1408,57"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="1482,56,1525,83"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="1457,309,1550,336"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a9d55c9f035076ed1a90b6452770d0b62" title=" " alt="" coords="1465,157,1541,184"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="1478,107,1529,133"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ada0e72e8d0a1a48090829fd03a0b76ba" title=" " alt="" coords="1456,5,1551,32"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="259,740,318,767"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="624,689,687,716"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="372,1196,423,1223"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="494,791,553,817"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="471,1247,576,1273"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1198,1475,1269,1501"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="627,1247,684,1273"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1337,1576,1403,1603"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1339,1525,1401,1552"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1336,1475,1404,1501"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1198,1525,1269,1552"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="757,1601,817,1628"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ac44b13cc76bf4040e3baf34df75ff230" title=" " alt="" coords="1198,1171,1269,1197"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="898,1449,983,1476"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1058,1525,1118,1552"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1041,1424,1135,1451"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="888,1095,993,1121"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="1197,385,1269,412"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="1335,81,1405,108"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="1343,385,1397,412"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="735,639,840,665"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="905,689,977,716"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="1048,689,1128,716"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a301761a27cf266e0bad483272fb31a3c_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a301761a27cf266e0bad483272fb31a3c_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a301761a27cf266e0bad483272fb31a3c_icgraph" id="d2/d5a/fs_8c_a301761a27cf266e0bad483272fb31a3c_icgraph">
<area shape="rect" title=" " alt="" coords="368,31,415,57"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a11c5d62d28e8121e75235d361158156e" title=" " alt="" coords="253,31,320,57"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab2adf77e35eddf8a6a5371372caddedc" title=" " alt="" coords="124,31,205,57"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="17,5,65,32"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="5,56,76,83"/>
</map>
</div>

</div>
</div>
<a id="aed28187406d84a3aa71f10c6235a03ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed28187406d84a3aa71f10c6235a03ec">&#9670;&nbsp;</a></span>ilock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ilock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00294">294</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;{</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d9/dd0/structbuf.html">buf</a> *bp;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../db/dfa/structdinode.html">dinode</a> *dip;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">if</span> (ip == 0 || ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a6a519028ee67f805482b3e1725bf09c5">ref</a> &lt; 1)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;ilock&quot;</span>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3">acquiresleep</a>(&amp;ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a46bad0e938fbd348ac02bdef0c8d6215">lock</a>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#aad324382ba30eb83daa5304fce7dca08">valid</a> == 0)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    bp = <a class="code" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c">bread</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>, <a class="code" href="../../df/d26/fs_8h.html#ac9a5b990015f0f86e5d4c6b21d38ffa0">IBLOCK</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8acc2b9df0bfc6856da62925763db7fe">inum</a>, <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>));</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    dip = (<span class="keyword">struct </span><a class="code" href="../../db/dfa/structdinode.html">dinode</a> *)bp-&gt;<a class="code" href="../../d9/dd0/structbuf.html#ab0ec38784ab94ed35e575cf6d33912d2">data</a> + ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8acc2b9df0bfc6856da62925763db7fe">inum</a> % <a class="code" href="../../df/d26/fs_8h.html#aadb6c866a6d0a173f5f0a6ed9c7e0228">IPB</a>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8d74bec2898785c057111c328d23fda2">type</a> = dip-&gt;<a class="code" href="../../db/dfa/structdinode.html#abf6b2a8476a803284f1c927fb3b82259">type</a>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a34af7242018a977dace5730683850875">major</a> = dip-&gt;<a class="code" href="../../db/dfa/structdinode.html#aca8272002020f48219df175c986db257">major</a>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a37878866e7905b666db2aa33076076a2">minor</a> = dip-&gt;<a class="code" href="../../db/dfa/structdinode.html#ae97965f85e7353313f85035e8fc63495">minor</a>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    ip-&gt;<a class="code" href="../../d0/df8/structinode.html#af8b88b409bea7ef99c49a55f387538b2">nlink</a> = dip-&gt;<a class="code" href="../../db/dfa/structdinode.html#a105562253b461c11413c9a229ef15358">nlink</a>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a918af769c48a8ca8afac057bf83d12de">size</a> = dip-&gt;<a class="code" href="../../db/dfa/structdinode.html#a990ad8ddf5f8c051fbbe95cf550d2164">size</a>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212">memmove</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>, dip-&gt;<a class="code" href="../../db/dfa/structdinode.html#a705729b3a39c10c0ba6927fc5e4e0563">addrs</a>, <span class="keyword">sizeof</span>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>));</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727">brelse</a>(bp);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    ip-&gt;<a class="code" href="../../d0/df8/structinode.html#aad324382ba30eb83daa5304fce7dca08">valid</a> = 1;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8d74bec2898785c057111c328d23fda2">type</a> == 0)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <a class="code" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;ilock: no type&quot;</span>);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_aed28187406d84a3aa71f10c6235a03ec_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_aed28187406d84a3aa71f10c6235a03ec_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_aed28187406d84a3aa71f10c6235a03ec_cgraph" id="d2/d5a/fs_8c_aed28187406d84a3aa71f10c6235a03ec_cgraph">
<area shape="rect" title=" " alt="" coords="5,1385,59,1412"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="312,549,417,576"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1451,879,1509,905"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="107,879,165,905"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="465,1436,559,1463"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="481,1005,543,1032"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="925,828,995,855"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1070,195,1141,221"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="925,625,995,652"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="483,524,541,551"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1055,904,1156,931"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1070,549,1141,576"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1320,448,1387,475"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1204,600,1272,627"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1079,853,1132,880"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1207,651,1269,677"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1447,119,1513,145"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1435,245,1525,272"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1334,701,1373,728"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1334,296,1373,323"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1205,93,1271,120"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1207,195,1269,221"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1204,144,1272,171"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1070,144,1141,171"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="629,245,689,272"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ac44b13cc76bf4040e3baf34df75ff230" title=" " alt="" coords="1070,499,1141,525"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="770,271,855,297"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="930,473,990,500"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="913,296,1007,323"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ad43d81fa3edec39a200abd0853bc84b1" title=" " alt="" coords="1059,245,1152,272"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ad478e855c39b8cbc88b72327ef4cd6f7" title=" " alt="" coords="1215,397,1261,424"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a4221d3a95c4a39db73a96c2332990ab0" title=" " alt="" coords="1219,296,1257,323"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="213,727,264,753"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="335,879,394,905"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="760,575,865,601"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="476,1233,548,1260"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="624,1284,695,1311"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="634,1233,685,1260"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="632,1183,687,1209"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="791,1284,834,1311"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="607,1031,712,1057"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="777,1081,849,1108"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="920,1081,1000,1108"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_aed28187406d84a3aa71f10c6235a03ec_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_aed28187406d84a3aa71f10c6235a03ec_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_aed28187406d84a3aa71f10c6235a03ec_icgraph" id="d2/d5a/fs_8c_aed28187406d84a3aa71f10c6235a03ec_icgraph">
<area shape="rect" title=" " alt="" coords="595,309,648,336"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074" title=" " alt="" coords="443,5,545,32"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666" title=" " alt="" coords="441,56,547,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,107,226,133"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,309,95,336"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,360,221,387"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a1dc8c87c7e48bdaaf98e9c7047928f29" title=" " alt="" coords="459,512,529,539"/>
<area shape="rect" href="../../d6/d13/file_8c.html#afff8e849fa54dea2a5a27dbb97474607" title=" " alt="" coords="461,563,527,589"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="457,613,531,640"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="461,157,527,184"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,411,236,437"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,208,232,235"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,157,240,184"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ab508ff0f4db26fe35cd25fa648f9ee75" title=" " alt="" coords="294,31,387,57"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,132,98,159"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,81,101,108"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a54bf714d9e898cbdcbc061b280bbfae0" title=" " alt="" coords="301,512,381,539"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ac243c8f20f5fb2e3e257b5007af2c204" title=" " alt="" coords="300,563,381,589"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a687d939a9e4792af15db96f2c2f34378" title=" " alt="" coords="299,613,383,640"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,309,372,336"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,157,393,184"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,259,230,285"/>
</map>
</div>

</div>
</div>
<a id="ab3c447f135c68e4c3c1f8d5866f6e77b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3c447f135c68e4c3c1f8d5866f6e77b">&#9670;&nbsp;</a></span>iput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iput </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00337">337</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3">acquiresleep</a>(&amp;ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a46bad0e938fbd348ac02bdef0c8d6215">lock</a>);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#aad324382ba30eb83daa5304fce7dca08">valid</a> &amp;&amp; ip-&gt;<a class="code" href="../../d0/df8/structinode.html#af8b88b409bea7ef99c49a55f387538b2">nlink</a> == 0)</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8">acquire</a>(&amp;<a class="code" href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a>.lock);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d56/console_8c.html#af10fa12dd785c91e29528fbdc50cf9af">r</a> = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a6a519028ee67f805482b3e1725bf09c5">ref</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a>(&amp;<a class="code" href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a>.lock);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d56/console_8c.html#af10fa12dd785c91e29528fbdc50cf9af">r</a> == 1)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <span class="comment">// inode has no links and no other references: truncate and free.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <a class="code" href="../../d2/d5a/fs_8c.html#a7c42ba96035fb59aef87372552b1a661">itrunc</a>(ip);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8d74bec2898785c057111c328d23fda2">type</a> = 0;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <a class="code" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e">iupdate</a>(ip);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      ip-&gt;<a class="code" href="../../d0/df8/structinode.html#aad324382ba30eb83daa5304fce7dca08">valid</a> = 0;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27">releasesleep</a>(&amp;ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a46bad0e938fbd348ac02bdef0c8d6215">lock</a>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8">acquire</a>(&amp;<a class="code" href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a>.lock);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a6a519028ee67f805482b3e1725bf09c5">ref</a>--;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a>(&amp;<a class="code" href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a>.lock);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b_cgraph" id="d2/d5a/fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b_cgraph">
<area shape="rect" title=" " alt="" coords="5,929,52,956"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="1143,904,1214,931"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="531,499,636,525"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="1143,803,1214,829"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7c42ba96035fb59aef87372552b1a661" title=" " alt="" coords="100,1132,159,1159"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="825,1309,931,1336"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="207,1183,277,1209"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1273,1005,1375,1032"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1289,752,1359,779"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1539,549,1605,576"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1670,1056,1727,1083"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1423,651,1491,677"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1297,955,1351,981"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1426,803,1487,829"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1666,195,1731,221"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1653,296,1744,323"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1553,701,1591,728"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1553,397,1591,424"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1289,296,1359,323"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="702,499,759,525"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1423,195,1490,221"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1426,296,1487,323"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1423,245,1491,272"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1289,245,1359,272"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="848,271,908,297"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ac44b13cc76bf4040e3baf34df75ff230" title=" " alt="" coords="1289,600,1359,627"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="989,296,1074,323"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1149,245,1209,272"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1132,347,1225,373"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ad43d81fa3edec39a200abd0853bc84b1" title=" " alt="" coords="1277,397,1371,424"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ad478e855c39b8cbc88b72327ef4cd6f7" title=" " alt="" coords="1433,347,1480,373"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a4221d3a95c4a39db73a96c2332990ab0" title=" " alt="" coords="1437,397,1476,424"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a2800a4b570ae39363cec0613dac92fd7" title=" " alt="" coords="214,1335,270,1361"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="325,1081,384,1108"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="699,1259,762,1285"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="990,1411,1073,1437"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="432,853,483,880"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="554,993,613,1020"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="979,904,1084,931"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="695,1056,767,1083"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="684,1208,777,1235"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="843,1107,913,1133"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="853,1005,903,1032"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="851,1056,905,1083"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="1010,1107,1053,1133"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="995,1309,1067,1336"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="1139,1309,1219,1336"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b_icgraph" id="d2/d5a/fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b_icgraph">
<area shape="rect" title=" " alt="" coords="713,216,760,243"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="309,64,372,91"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,64,232,91"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ab3db880e623854a39a18d618e360323d" title=" " alt="" coords="461,571,507,597"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="582,647,658,673"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb" title=" " alt="" coords="575,216,665,243"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="451,115,517,141"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,368,236,395"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,115,226,141"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,45,98,72"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,184,101,211"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,393,95,420"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a9d6f0c526148e6002b6776619c7563e6" title=" " alt="" coords="443,723,525,749"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a9a70db941def46ec25939e6c2d30e399" title=" " alt="" coords="301,672,380,699"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a32945488fd39bc405757177b37cd2250" title=" " alt="" coords="441,672,527,699"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,317,221,344"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,165,240,192"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,267,372,293"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,115,393,141"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,216,230,243"/>
</map>
</div>

</div>
</div>
<a id="a7c42ba96035fb59aef87372552b1a661"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c42ba96035fb59aef87372552b1a661">&#9670;&nbsp;</a></span>itrunc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void itrunc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00468">468</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;{</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keywordtype">int</span> i, j;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d9/dd0/structbuf.html">buf</a> *bp;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <a class="code" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *a;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <a class="code" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> len;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="comment">/*T_CS 파일 일 경우는 삭제 방법이 다르다.*/</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">/*길이만큼 읽어서 해당 길이만큼 데이터 블럭들을 해제 시켜줘야함*/</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8d74bec2898785c057111c328d23fda2">type</a> == <a class="code" href="../../d2/d1b/stat_8h.html#a234ef1d69dd84e7134072c05c5b87eaf">T_CS</a>)</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a>; i++)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="comment">/*addr[i]가 매핑 되었을 경우, 해당 데이터의 길이를 읽고 그 길이만큼 데이터 블록 해제를 시켜준다.*/</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i])</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        len = (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i] &amp; 255);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; len; j++)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;          <a class="code" href="../../d2/d5a/fs_8c.html#a2800a4b570ae39363cec0613dac92fd7">bfree</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>, (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i] &gt;&gt; 8) + j);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i] = 0;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="comment">/*일반 파일의 삭제*/</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a>; i++)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i])</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <a class="code" href="../../d2/d5a/fs_8c.html#a2800a4b570ae39363cec0613dac92fd7">bfree</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>, ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i]);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i] = 0;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[<a class="code" href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a>])</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    bp = <a class="code" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c">bread</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>, ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[<a class="code" href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a>]);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    a = (<a class="code" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *)bp-&gt;<a class="code" href="../../d9/dd0/structbuf.html#ab0ec38784ab94ed35e575cf6d33912d2">data</a>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    for (j = 0; j &lt; <a class="code" href="../../df/d26/fs_8h.html#a6d24f098ea2928d61ff80b123d761715">NINDIRECT</a>; j++)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">if</span> (a[j])</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <a class="code" href="../../d2/d5a/fs_8c.html#a2800a4b570ae39363cec0613dac92fd7">bfree</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>, a[j]);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727">brelse</a>(bp);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="../../d2/d5a/fs_8c.html#a2800a4b570ae39363cec0613dac92fd7">bfree</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>, ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[<a class="code" href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a>]);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[<a class="code" href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a>] = 0;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a918af769c48a8ca8afac057bf83d12de">size</a> = 0;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <a class="code" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e">iupdate</a>(ip);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a7c42ba96035fb59aef87372552b1a661_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_a7c42ba96035fb59aef87372552b1a661_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a7c42ba96035fb59aef87372552b1a661_cgraph" id="d2/d5a/fs_8c_a7c42ba96035fb59aef87372552b1a661_cgraph">
<area shape="rect" title=" " alt="" coords="5,296,64,323"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a2800a4b570ae39363cec0613dac92fd7" title=" " alt="" coords="119,169,175,196"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="231,372,289,399"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="605,499,667,525"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="112,321,183,348"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1575,549,1633,576"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="895,195,978,221"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="337,701,388,728"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="459,828,518,855"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="1049,904,1119,931"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="436,1107,541,1133"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="1049,701,1119,728"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1179,853,1280,880"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1194,752,1265,779"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1444,1107,1511,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1328,904,1396,931"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1203,803,1256,829"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1331,752,1393,779"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1571,1385,1637,1412"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1559,1259,1649,1285"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1458,853,1497,880"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1458,1208,1497,1235"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1194,1259,1265,1285"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="607,1107,665,1133"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1329,1360,1395,1387"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1331,1259,1393,1285"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1328,1309,1396,1336"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1194,1309,1265,1336"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="753,1284,813,1311"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ac44b13cc76bf4040e3baf34df75ff230" title=" " alt="" coords="1194,1005,1265,1032"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="894,1208,979,1235"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1054,1259,1114,1285"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1037,1095,1131,1121"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ad43d81fa3edec39a200abd0853bc84b1" title=" " alt="" coords="1183,1157,1276,1184"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ad478e855c39b8cbc88b72327ef4cd6f7" title=" " alt="" coords="1339,1005,1385,1032"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a4221d3a95c4a39db73a96c2332990ab0" title=" " alt="" coords="1343,1107,1381,1133"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="884,955,989,981"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="600,347,672,373"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="589,1005,683,1032"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="748,296,819,323"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="758,347,809,373"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="756,397,811,424"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="915,347,958,373"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="731,600,836,627"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="901,600,973,627"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="1044,600,1124,627"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a7c42ba96035fb59aef87372552b1a661_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a7c42ba96035fb59aef87372552b1a661_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a7c42ba96035fb59aef87372552b1a661_icgraph" id="d2/d5a/fs_8c_a7c42ba96035fb59aef87372552b1a661_icgraph">
<area shape="rect" title=" " alt="" coords="808,216,867,243"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="713,216,760,243"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="309,64,372,91"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,64,232,91"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ab3db880e623854a39a18d618e360323d" title=" " alt="" coords="461,571,507,597"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="582,647,658,673"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb" title=" " alt="" coords="575,216,665,243"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="451,115,517,141"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,368,236,395"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,115,226,141"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,45,98,72"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,184,101,211"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,393,95,420"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a9d6f0c526148e6002b6776619c7563e6" title=" " alt="" coords="443,723,525,749"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a9a70db941def46ec25939e6c2d30e399" title=" " alt="" coords="301,672,380,699"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a32945488fd39bc405757177b37cd2250" title=" " alt="" coords="441,672,527,699"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,317,221,344"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,165,240,192"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,267,372,293"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,115,393,141"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,216,230,243"/>
</map>
</div>

</div>
</div>
<a id="ae4e29916219b9293b37f9c34220694fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4e29916219b9293b37f9c34220694fe">&#9670;&nbsp;</a></span>iunlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iunlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00322">322</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;{</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">if</span> (ip == 0 || !<a class="code" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68">holdingsleep</a>(&amp;ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a46bad0e938fbd348ac02bdef0c8d6215">lock</a>) || ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a6a519028ee67f805482b3e1725bf09c5">ref</a> &lt; 1)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;iunlock&quot;</span>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27">releasesleep</a>(&amp;ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a46bad0e938fbd348ac02bdef0c8d6215">lock</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_ae4e29916219b9293b37f9c34220694fe_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_ae4e29916219b9293b37f9c34220694fe_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_ae4e29916219b9293b37f9c34220694fe_cgraph" id="d2/d5a/fs_8c_ae4e29916219b9293b37f9c34220694fe_cgraph">
<area shape="rect" title=" " alt="" coords="5,332,75,359"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="276,332,381,359"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="954,433,1011,460"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="123,256,228,283"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="434,180,505,207"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="573,332,643,359"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="434,281,505,308"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="557,129,659,156"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="573,231,643,257"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="823,129,889,156"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="707,28,775,55"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="581,180,635,207"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="710,231,771,257"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="950,256,1015,283"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="937,155,1028,181"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="837,231,875,257"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="837,28,875,55"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="823,332,889,359"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="710,281,771,308"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="707,79,775,105"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="293,231,365,257"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="429,231,509,257"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_ae4e29916219b9293b37f9c34220694fe_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_ae4e29916219b9293b37f9c34220694fe_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_ae4e29916219b9293b37f9c34220694fe_icgraph" id="d2/d5a/fs_8c_ae4e29916219b9293b37f9c34220694fe_icgraph">
<area shape="rect" title=" " alt="" coords="736,233,805,260"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074" title=" " alt="" coords="585,5,686,32"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666" title=" " alt="" coords="583,56,688,83"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a1dc8c87c7e48bdaaf98e9c7047928f29" title=" " alt="" coords="600,107,671,133"/>
<area shape="rect" href="../../d6/d13/file_8c.html#afff8e849fa54dea2a5a27dbb97474607" title=" " alt="" coords="602,157,669,184"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="598,208,673,235"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb" title=" " alt="" coords="590,588,681,615"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,537,95,564"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="455,411,521,437"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,765,236,792"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,360,232,387"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ab508ff0f4db26fe35cd25fa648f9ee75" title=" " alt="" coords="441,31,535,57"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a54bf714d9e898cbdcbc061b280bbfae0" title=" " alt="" coords="448,107,528,133"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ac243c8f20f5fb2e3e257b5007af2c204" title=" " alt="" coords="447,157,529,184"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a687d939a9e4792af15db96f2c2f34378" title=" " alt="" coords="446,208,530,235"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,613,226,640"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,777,98,804"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,651,101,677"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,664,221,691"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,411,240,437"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,512,372,539"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,411,393,437"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,461,230,488"/>
</map>
</div>

</div>
</div>
<a id="a207b3008bae35596c55ec7c4fc6875eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a207b3008bae35596c55ec7c4fc6875eb">&#9670;&nbsp;</a></span>iunlockput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iunlockput </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00362">362</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;{</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <a class="code" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe">iunlock</a>(ip);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <a class="code" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b">iput</a>(ip);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a207b3008bae35596c55ec7c4fc6875eb_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_a207b3008bae35596c55ec7c4fc6875eb_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a207b3008bae35596c55ec7c4fc6875eb_cgraph" id="d2/d5a/fs_8c_a207b3008bae35596c55ec7c4fc6875eb_cgraph">
<area shape="rect" title=" " alt="" coords="5,195,96,221"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="144,372,191,399"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe" title=" " alt="" coords="835,163,904,189"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="1282,752,1353,779"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="669,1132,775,1159"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="1282,524,1353,551"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7c42ba96035fb59aef87372552b1a661" title=" " alt="" coords="239,372,297,399"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="964,347,1069,373"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="345,296,416,323"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1412,701,1513,728"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1427,600,1498,627"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1677,1309,1744,1336"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1809,879,1866,905"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1561,1208,1629,1235"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1436,651,1489,677"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1565,1056,1626,1083"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1805,1664,1870,1691"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1792,1563,1883,1589"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1691,1157,1730,1184"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1691,1360,1730,1387"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1427,1563,1498,1589"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="841,1259,898,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1562,1664,1629,1691"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1565,1563,1626,1589"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1561,1613,1629,1640"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1427,1613,1498,1640"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="987,1537,1047,1564"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ac44b13cc76bf4040e3baf34df75ff230" title=" " alt="" coords="1427,1233,1498,1260"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1127,1461,1213,1488"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1287,1512,1347,1539"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1271,1360,1364,1387"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ad43d81fa3edec39a200abd0853bc84b1" title=" " alt="" coords="1416,1461,1509,1488"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ad478e855c39b8cbc88b72327ef4cd6f7" title=" " alt="" coords="1572,1360,1619,1387"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a4221d3a95c4a39db73a96c2332990ab0" title=" " alt="" coords="1576,1461,1615,1488"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a2800a4b570ae39363cec0613dac92fd7" title=" " alt="" coords="353,347,409,373"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="464,397,523,424"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="838,347,901,373"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="1129,195,1211,221"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="571,600,621,627"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="693,803,751,829"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="1117,701,1223,728"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="833,853,905,880"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="823,448,916,475"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="981,955,1052,981"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="991,853,1042,880"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="989,904,1044,931"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="1149,955,1191,981"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="1134,347,1206,373"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="1277,347,1357,373"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a207b3008bae35596c55ec7c4fc6875eb_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a207b3008bae35596c55ec7c4fc6875eb_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a207b3008bae35596c55ec7c4fc6875eb_icgraph" id="d2/d5a/fs_8c_a207b3008bae35596c55ec7c4fc6875eb_icgraph">
<area shape="rect" title=" " alt="" coords="556,195,647,221"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,93,226,120"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,5,98,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,68,101,95"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,245,95,272"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,347,221,373"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="441,195,508,221"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,397,236,424"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,144,232,171"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,195,240,221"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,296,372,323"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,195,393,221"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,296,230,323"/>
</map>
</div>

</div>
</div>
<a id="a7220afa8e5f4bea540eb95879ea7df6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7220afa8e5f4bea540eb95879ea7df6e">&#9670;&nbsp;</a></span>iupdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iupdate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00227">227</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;{</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d9/dd0/structbuf.html">buf</a> *bp;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../db/dfa/structdinode.html">dinode</a> *dip;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  bp = <a class="code" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c">bread</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>, <a class="code" href="../../df/d26/fs_8h.html#ac9a5b990015f0f86e5d4c6b21d38ffa0">IBLOCK</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8acc2b9df0bfc6856da62925763db7fe">inum</a>, <a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>));</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  dip = (<span class="keyword">struct </span><a class="code" href="../../db/dfa/structdinode.html">dinode</a> *)bp-&gt;<a class="code" href="../../d9/dd0/structbuf.html#ab0ec38784ab94ed35e575cf6d33912d2">data</a> + ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8acc2b9df0bfc6856da62925763db7fe">inum</a> % <a class="code" href="../../df/d26/fs_8h.html#aadb6c866a6d0a173f5f0a6ed9c7e0228">IPB</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  dip-&gt;<a class="code" href="../../db/dfa/structdinode.html#abf6b2a8476a803284f1c927fb3b82259">type</a> = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8d74bec2898785c057111c328d23fda2">type</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  dip-&gt;<a class="code" href="../../db/dfa/structdinode.html#aca8272002020f48219df175c986db257">major</a> = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a34af7242018a977dace5730683850875">major</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  dip-&gt;<a class="code" href="../../db/dfa/structdinode.html#ae97965f85e7353313f85035e8fc63495">minor</a> = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a37878866e7905b666db2aa33076076a2">minor</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  dip-&gt;<a class="code" href="../../db/dfa/structdinode.html#a105562253b461c11413c9a229ef15358">nlink</a> = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#af8b88b409bea7ef99c49a55f387538b2">nlink</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  dip-&gt;<a class="code" href="../../db/dfa/structdinode.html#a990ad8ddf5f8c051fbbe95cf550d2164">size</a> = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a918af769c48a8ca8afac057bf83d12de">size</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212">memmove</a>(dip-&gt;<a class="code" href="../../db/dfa/structdinode.html#a705729b3a39c10c0ba6927fc5e4e0563">addrs</a>, ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>, <span class="keyword">sizeof</span>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>));</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c">log_write</a>(bp);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <a class="code" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727">brelse</a>(bp);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a7220afa8e5f4bea540eb95879ea7df6e_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_a7220afa8e5f4bea540eb95879ea7df6e_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a7220afa8e5f4bea540eb95879ea7df6e_cgraph" id="d2/d5a/fs_8c_a7220afa8e5f4bea540eb95879ea7df6e_cgraph">
<area shape="rect" title=" " alt="" coords="5,600,76,627"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="124,853,183,880"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="483,853,576,880"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="498,423,561,449"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="789,296,871,323"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="231,904,281,931"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="353,752,411,779"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="942,701,1013,728"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1469,575,1526,601"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="329,1056,435,1083"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="942,853,1013,880"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1072,701,1173,728"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1087,904,1158,931"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1337,1056,1404,1083"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1221,955,1289,981"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1096,651,1149,677"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1225,853,1286,880"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1465,1411,1530,1437"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1452,1208,1543,1235"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1351,904,1390,931"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1351,1157,1390,1184"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1087,1233,1158,1260"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="501,1056,558,1083"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1222,1360,1289,1387"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1225,1259,1286,1285"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1221,1309,1289,1336"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1087,1360,1158,1387"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="647,1233,707,1260"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ac44b13cc76bf4040e3baf34df75ff230" title=" " alt="" coords="1087,1005,1158,1032"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="787,1208,873,1235"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="947,1259,1007,1285"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="931,1056,1024,1083"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ad43d81fa3edec39a200abd0853bc84b1" title=" " alt="" coords="1076,1157,1169,1184"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ad478e855c39b8cbc88b72327ef4cd6f7" title=" " alt="" coords="1232,1107,1279,1133"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a4221d3a95c4a39db73a96c2332990ab0" title=" " alt="" coords="1236,1157,1275,1184"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="777,853,883,880"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="493,600,565,627"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="641,499,712,525"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="651,651,702,677"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="649,600,704,627"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="809,600,851,627"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="624,347,729,373"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="794,397,866,424"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="937,397,1017,424"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a7220afa8e5f4bea540eb95879ea7df6e_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a7220afa8e5f4bea540eb95879ea7df6e_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a7220afa8e5f4bea540eb95879ea7df6e_icgraph" id="d2/d5a/fs_8c_a7220afa8e5f4bea540eb95879ea7df6e_icgraph">
<area shape="rect" title=" " alt="" coords="915,831,985,858"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,755,226,782"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="713,502,760,529"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,502,232,529"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,882,240,909"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7c42ba96035fb59aef87372552b1a661" title=" " alt="" coords="808,566,867,593"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a15858f4d8a4cc1def3d84d03c312836b" title=" " alt="" coords="455,907,513,934"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,1034,98,1061"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,831,101,858"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,527,95,554"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="309,755,372,782"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ab3db880e623854a39a18d618e360323d" title=" " alt="" coords="461,46,507,73"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="582,173,658,199"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb" title=" " alt="" coords="575,629,665,655"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="451,502,517,529"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,350,236,377"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a9d6f0c526148e6002b6776619c7563e6" title=" " alt="" coords="443,249,525,275"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a9a70db941def46ec25939e6c2d30e399" title=" " alt="" coords="301,223,380,250"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a32945488fd39bc405757177b37cd2250" title=" " alt="" coords="441,147,527,174"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,578,221,605"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,401,372,427"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,502,393,529"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,451,230,478"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="303,1009,378,1035"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a687d939a9e4792af15db96f2c2f34378" title=" " alt="" coords="153,1009,237,1035"/>
</map>
</div>

</div>
</div>
<a id="ae74f6e5b19a4e7f3e72807ee67141819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae74f6e5b19a4e7f3e72807ee67141819">&#9670;&nbsp;</a></span>namecmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int namecmp </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00620">620</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;{</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d5/d64/defs_8h.html#a27e878168063a98eae64b4273dcf33cc">strncmp</a>(s, t, <a class="code" href="../../df/d26/fs_8h.html#a48246fb9e5cb7f6a71ebc9ebc2f06562">DIRSIZ</a>);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_ae74f6e5b19a4e7f3e72807ee67141819_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_ae74f6e5b19a4e7f3e72807ee67141819_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_ae74f6e5b19a4e7f3e72807ee67141819_cgraph" id="d2/d5a/fs_8c_ae74f6e5b19a4e7f3e72807ee67141819_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,92,32"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a27e878168063a98eae64b4273dcf33cc" title=" " alt="" coords="140,5,215,32"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_ae74f6e5b19a4e7f3e72807ee67141819_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_ae74f6e5b19a4e7f3e72807ee67141819_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_ae74f6e5b19a4e7f3e72807ee67141819_icgraph" id="d2/d5a/fs_8c_ae74f6e5b19a4e7f3e72807ee67141819_icgraph">
<area shape="rect" title=" " alt="" coords="687,227,773,253"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa182c62fade7a0bae9408830d5e06d4f" title=" " alt="" coords="556,132,639,159"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,335,240,361"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,31,226,57"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="309,81,372,108"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="441,132,508,159"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,56,98,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,5,101,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,157,95,184"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,81,232,108"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,183,372,209"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,132,393,159"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,284,221,311"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,132,236,159"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,183,230,209"/>
</map>
</div>

</div>
</div>
<a id="a9baba030d5bc6e9e20cf8b7d181edf35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9baba030d5bc6e9e20cf8b7d181edf35">&#9670;&nbsp;</a></span>namei()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/df8/structinode.html">inode</a>* namei </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00773">773</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;{</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordtype">char</span> <a class="code" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[<a class="code" href="../../df/d26/fs_8h.html#a48246fb9e5cb7f6a71ebc9ebc2f06562">DIRSIZ</a>];</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510">namex</a>(path, 0, <a class="code" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a9baba030d5bc6e9e20cf8b7d181edf35_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_a9baba030d5bc6e9e20cf8b7d181edf35_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a9baba030d5bc6e9e20cf8b7d181edf35_cgraph" id="d2/d5a/fs_8c_a9baba030d5bc6e9e20cf8b7d181edf35_cgraph">
<area shape="rect" title=" " alt="" coords="5,1208,68,1235"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="116,1208,183,1235"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa182c62fade7a0bae9408830d5e06d4f" title=" " alt="" coords="242,144,325,171"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa574143402896986fe315a0c2749fffa" title=" " alt="" coords="1174,245,1221,272"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1281,1664,1352,1691"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a6b41577cc09b2a009be8f84bfb500079" title=" " alt="" coords="1172,904,1223,931"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="650,1335,703,1361"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="404,1183,451,1209"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe" title=" " alt="" coords="891,701,960,728"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb" title=" " alt="" coords="238,1157,329,1184"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="231,1765,336,1792"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa696af27cc6f5d87271f9eb1c863f770" title=" " alt="" coords="386,1512,469,1539"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1797,524,1854,551"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae74f6e5b19a4e7f3e72807ee67141819" title=" " alt="" coords="384,93,471,120"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8" title=" " alt="" coords="400,904,455,931"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="1281,1081,1352,1108"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="1281,803,1352,829"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1400,955,1501,981"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1415,1157,1486,1184"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1665,1360,1732,1387"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1549,1411,1617,1437"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1424,904,1477,931"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1553,1157,1614,1184"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1793,1512,1858,1539"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1780,1411,1871,1437"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1679,1208,1718,1235"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1679,1461,1718,1488"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a27e878168063a98eae64b4273dcf33cc" title=" " alt="" coords="519,93,593,120"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a965e83e1fa9b15abf268784ce74181bb" title=" " alt="" coords="527,536,585,563"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="772,1056,831,1083"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="1014,1436,1107,1463"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="770,879,833,905"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9" title=" " alt="" coords="646,536,707,563"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="760,460,843,487"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1165,549,1229,576"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="900,1107,951,1133"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="896,1056,955,1083"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="1008,1487,1113,1513"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="1169,1512,1226,1539"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1665,1563,1732,1589"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1553,1259,1614,1285"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1549,1461,1617,1488"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1415,1512,1486,1539"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1287,1563,1347,1589"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="1008,955,1113,981"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="1008,853,1113,880"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="1161,1056,1233,1083"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7c42ba96035fb59aef87372552b1a661" title=" " alt="" coords="527,1005,585,1032"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="641,1005,712,1032"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a2800a4b570ae39363cec0613dac92fd7" title=" " alt="" coords="649,752,705,779"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a9baba030d5bc6e9e20cf8b7d181edf35_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a9baba030d5bc6e9e20cf8b7d181edf35_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a9baba030d5bc6e9e20cf8b7d181edf35_icgraph" id="d2/d5a/fs_8c_a9baba030d5bc6e9e20cf8b7d181edf35_icgraph">
<area shape="rect" title=" " alt="" coords="136,107,199,133"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="21,5,73,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="5,56,88,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="9,107,84,133"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="5,157,88,184"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="11,208,82,235"/>
</map>
</div>

</div>
</div>
<a id="a5a987ca4f8ffd579b96a8b9a60e61a7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a987ca4f8ffd579b96a8b9a60e61a7c">&#9670;&nbsp;</a></span>nameiparent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/df8/structinode.html">inode</a>* nameiparent </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00780">780</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;{</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510">namex</a>(path, 1, <a class="code" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c_cgraph" id="d2/d5a/fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c_cgraph">
<area shape="rect" title=" " alt="" coords="5,1259,111,1285"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="159,1259,225,1285"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa182c62fade7a0bae9408830d5e06d4f" title=" " alt="" coords="277,676,360,703"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa574143402896986fe315a0c2749fffa" title=" " alt="" coords="1232,1157,1279,1184"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1356,1132,1427,1159"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a6b41577cc09b2a009be8f84bfb500079" title=" " alt="" coords="1230,1664,1281,1691"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="678,347,731,373"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="432,1259,479,1285"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe" title=" " alt="" coords="925,1424,995,1451"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb" title=" " alt="" coords="273,1360,364,1387"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa696af27cc6f5d87271f9eb1c863f770" title=" " alt="" coords="919,93,1001,120"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1877,701,1934,728"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae74f6e5b19a4e7f3e72807ee67141819" title=" " alt="" coords="412,372,499,399"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8" title=" " alt="" coords="428,676,483,703"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="1356,1461,1427,1488"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="1356,1183,1427,1209"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1475,1461,1576,1488"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1490,1411,1561,1437"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1743,1411,1809,1437"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1624,1607,1692,1633"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1499,1512,1552,1539"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1627,1309,1689,1336"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1873,1183,1938,1209"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1860,1360,1951,1387"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1757,1259,1795,1285"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1757,1519,1795,1545"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a27e878168063a98eae64b4273dcf33cc" title=" " alt="" coords="547,283,621,309"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a965e83e1fa9b15abf268784ce74181bb" title=" " alt="" coords="555,752,613,779"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="800,625,859,652"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="1209,296,1302,323"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="798,1056,861,1083"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9" title=" " alt="" coords="674,752,735,779"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="788,904,871,931"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1223,1005,1287,1032"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="935,771,985,797"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="1073,708,1131,735"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="1049,771,1155,797"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="1227,752,1284,779"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1743,1056,1809,1083"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1627,1259,1689,1285"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1624,1360,1692,1387"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1490,1157,1561,1184"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1361,955,1421,981"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="1203,1208,1308,1235"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="1740,651,1812,677"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="1049,1512,1155,1539"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="1219,1512,1291,1539"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7c42ba96035fb59aef87372552b1a661" title=" " alt="" coords="555,955,613,981"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="669,955,740,981"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a2800a4b570ae39363cec0613dac92fd7" title=" " alt="" coords="677,853,733,880"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c_icgraph" id="d2/d5a/fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c_icgraph">
<area shape="rect" title=" " alt="" coords="419,157,524,184"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="294,81,357,108"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="292,157,359,184"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="9,259,84,285"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="280,259,371,285"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="139,5,229,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="136,56,232,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="5,56,88,83"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="153,157,215,184"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="21,107,73,133"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="5,157,88,184"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="11,208,82,235"/>
</map>
</div>

</div>
</div>
<a id="a85139e533a212f0e8961b88e73fd6510"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85139e533a212f0e8961b88e73fd6510">&#9670;&nbsp;</a></span>namex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/df8/structinode.html">inode</a>* namex </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nameiparent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00733">733</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;{</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d0/df8/structinode.html">inode</a> *ip, *next;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keywordflow">if</span> (*path == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    ip = <a class="code" href="../../d2/d5a/fs_8c.html#aa574143402896986fe315a0c2749fffa">iget</a>(<a class="code" href="../../d5/d33/param_8h.html#ae9ce6b24fe2aae59ff60b469c35febbc">ROOTDEV</a>, <a class="code" href="../../df/d26/fs_8h.html#a22c8ea96d09283ed6496347806cc72a0">ROOTINO</a>);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    ip = <a class="code" href="../../d2/d5a/fs_8c.html#a6b41577cc09b2a009be8f84bfb500079">idup</a>(<a class="code" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441">myproc</a>()-&gt;cwd);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="keywordflow">while</span> ((path = <a class="code" href="../../d2/d5a/fs_8c.html#aa696af27cc6f5d87271f9eb1c863f770">skipelem</a>(path, <a class="code" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>)) != 0)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec">ilock</a>(ip);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8d74bec2898785c057111c328d23fda2">type</a> != <a class="code" href="../../d2/d1b/stat_8h.html#a91136bcd71a9f499304f5d7e7e9d6376">T_DIR</a>)</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <a class="code" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb">iunlockput</a>(ip);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c">nameiparent</a> &amp;&amp; *path == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="comment">// Stop one level early.</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <a class="code" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe">iunlock</a>(ip);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="keywordflow">return</span> ip;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">if</span> ((next = <a class="code" href="../../d2/d5a/fs_8c.html#aa182c62fade7a0bae9408830d5e06d4f">dirlookup</a>(ip, <a class="code" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>, 0)) == 0)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <a class="code" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb">iunlockput</a>(ip);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <a class="code" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb">iunlockput</a>(ip);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    ip = next;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c">nameiparent</a>)</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <a class="code" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b">iput</a>(ip);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="keywordflow">return</span> ip;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a85139e533a212f0e8961b88e73fd6510_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_a85139e533a212f0e8961b88e73fd6510_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a85139e533a212f0e8961b88e73fd6510_cgraph" id="d2/d5a/fs_8c_a85139e533a212f0e8961b88e73fd6510_cgraph">
<area shape="rect" title=" " alt="" coords="5,1310,72,1337"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa182c62fade7a0bae9408830d5e06d4f" title=" " alt="" coords="131,677,214,704"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa574143402896986fe315a0c2749fffa" title=" " alt="" coords="1093,1108,1140,1134"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1217,1082,1288,1109"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a6b41577cc09b2a009be8f84bfb500079" title=" " alt="" coords="1091,1614,1142,1641"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="539,348,593,374"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="293,1260,340,1286"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe" title=" " alt="" coords="787,1412,856,1438"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb" title=" " alt="" coords="127,1361,218,1388"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="120,1716,225,1742"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa696af27cc6f5d87271f9eb1c863f770" title=" " alt="" coords="780,94,863,121"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1738,652,1795,678"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae74f6e5b19a4e7f3e72807ee67141819" title=" " alt="" coords="273,576,360,602"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8" title=" " alt="" coords="289,677,344,704"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="1217,1412,1288,1438"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="1217,1133,1288,1160"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1336,1412,1437,1438"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1351,1361,1422,1388"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1604,1361,1671,1388"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1485,1557,1553,1584"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1360,1462,1413,1489"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1489,1260,1550,1286"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1734,1133,1799,1160"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1721,1310,1812,1337"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1618,1209,1657,1236"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1618,1469,1657,1496"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a27e878168063a98eae64b4273dcf33cc" title=" " alt="" coords="408,297,483,324"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a965e83e1fa9b15abf268784ce74181bb" title=" " alt="" coords="416,753,475,780"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="661,626,720,653"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="1070,246,1163,273"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="659,1057,722,1084"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9" title=" " alt="" coords="535,753,597,780"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="649,905,732,932"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1085,956,1149,982"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="796,753,847,780"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="934,702,993,729"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="911,753,1016,780"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="1088,702,1145,729"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1604,1006,1671,1033"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1489,1209,1550,1236"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1485,1310,1553,1337"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1351,1108,1422,1134"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1223,905,1283,932"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="1064,1158,1169,1185"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="1601,601,1673,628"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="911,1462,1016,1489"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="1081,1462,1153,1489"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7c42ba96035fb59aef87372552b1a661" title=" " alt="" coords="416,956,475,982"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="531,956,601,982"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a2800a4b570ae39363cec0613dac92fd7" title=" " alt="" coords="538,854,594,881"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a85139e533a212f0e8961b88e73fd6510_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a85139e533a212f0e8961b88e73fd6510_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a85139e533a212f0e8961b88e73fd6510_icgraph" id="d2/d5a/fs_8c_a85139e533a212f0e8961b88e73fd6510_icgraph">
<area shape="rect" title=" " alt="" coords="441,221,508,248"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,145,372,172"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,221,393,248"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,5,221,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,56,236,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,208,232,235"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,132,95,159"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,157,230,184"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,259,226,285"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,309,240,336"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,233,98,260"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,284,101,311"/>
</map>
</div>

</div>
</div>
<a id="a3aba1fa9f6789d09356aec5b96d91fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aba1fa9f6789d09356aec5b96d91fa8">&#9670;&nbsp;</a></span>readi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int readi </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>off</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00551">551</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;{</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <a class="code" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> tot, m;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d9/dd0/structbuf.html">buf</a> *bp;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8d74bec2898785c057111c328d23fda2">type</a> == <a class="code" href="../../d2/d1b/stat_8h.html#a62b045a3e4fdf204bdddda0f3fc3d8c4">T_DEV</a>)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a34af7242018a977dace5730683850875">major</a> &lt; 0 || ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a34af7242018a977dace5730683850875">major</a> &gt;= <a class="code" href="../../d5/d33/param_8h.html#aa564a41c8409694da49b0badf2bb2853">NDEV</a> || !<a class="code" href="../../de/d6a/structdevsw.html">devsw</a>[ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a34af7242018a977dace5730683850875">major</a>].<a class="code" href="../../de/d6a/structdevsw.html#a4efbe00d0031a1c9005ef2186947ea37">read</a>)</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d6a/structdevsw.html">devsw</a>[ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a34af7242018a977dace5730683850875">major</a>].<a class="code" href="../../de/d6a/structdevsw.html#a4efbe00d0031a1c9005ef2186947ea37">read</a>(ip, dst, n);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keywordflow">if</span> (off &gt; ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a918af769c48a8ca8afac057bf83d12de">size</a> || off + n &lt; off)</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">if</span> (off + n &gt; ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a918af769c48a8ca8afac057bf83d12de">size</a>)</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    n = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a918af769c48a8ca8afac057bf83d12de">size</a> - off;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">for</span> (tot = 0; tot &lt; n; tot += m, off += m, dst += m)</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    bp = <a class="code" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c">bread</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>, <a class="code" href="../../d2/d5a/fs_8c.html#a965e83e1fa9b15abf268784ce74181bb">bmap</a>(ip, off / <a class="code" href="../../df/d26/fs_8h.html#a403cf3149c084cea115b85c90721039a">BSIZE</a>));</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    m = <a class="code" href="../../d2/d5a/fs_8c.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>(n - tot, <a class="code" href="../../df/d26/fs_8h.html#a403cf3149c084cea115b85c90721039a">BSIZE</a> - off % <a class="code" href="../../df/d26/fs_8h.html#a403cf3149c084cea115b85c90721039a">BSIZE</a>);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212">memmove</a>(dst, bp-&gt;<a class="code" href="../../d9/dd0/structbuf.html#ab0ec38784ab94ed35e575cf6d33912d2">data</a> + off % <a class="code" href="../../df/d26/fs_8h.html#a403cf3149c084cea115b85c90721039a">BSIZE</a>, m);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727">brelse</a>(bp);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  }</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8_cgraph" id="d2/d5a/fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8_cgraph">
<area shape="rect" title=" " alt="" coords="5,1103,60,1130"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a965e83e1fa9b15abf268784ce74181bb" title=" " alt="" coords="108,977,167,1003"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="431,1078,489,1105"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="1641,318,1734,345"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="821,1281,884,1307"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9" title=" " alt="" coords="215,977,276,1003"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1799,875,1857,902"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="537,901,620,927"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1106,318,1170,345"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ac93f607f4a954323f4c9ea485ca88538" title=" " alt="" coords="324,977,383,1003"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="553,1078,604,1105"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="691,825,750,851"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="1243,1129,1314,1155"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="668,1458,773,1485"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="1243,1458,1314,1485"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1367,1078,1468,1105"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1382,1433,1453,1459"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1654,1433,1721,1459"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1520,1382,1588,1409"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1391,1129,1444,1155"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1523,1534,1585,1561"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1795,1534,1861,1561"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1783,1686,1873,1713"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1668,1838,1707,1865"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1668,1382,1707,1409"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1382,1813,1453,1839"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="824,1458,881,1485"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1521,1762,1587,1789"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1523,1838,1585,1865"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1520,1686,1588,1713"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1382,1863,1453,1890"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="955,1813,1015,1839"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ac44b13cc76bf4040e3baf34df75ff230" title=" " alt="" coords="1382,1483,1453,1510"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1095,1737,1181,1763"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1249,1711,1309,1738"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="1085,1281,1191,1307"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="1381,470,1453,497"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="1519,115,1589,142"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="1662,166,1713,193"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="1527,521,1581,547"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="1666,115,1709,142"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="932,1433,1037,1459"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="1102,1331,1174,1358"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="1239,1331,1319,1358"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a9d55c9f035076ed1a90b6452770d0b62" title=" " alt="" coords="1649,267,1725,294"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a0504dbe97899f754f22dbe2b1e6b6102" title=" " alt="" coords="1377,267,1457,294"/>
<area shape="rect" href="../../d0/d56/console_8c.html#aafb705f6d5b125c41825313da0d41252" title=" " alt="" coords="1244,267,1313,294"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a9e775e33e5b346aba0be84dbeddcb312" title=" " alt="" coords="1517,217,1591,243"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a571626618a1f05ff6854802e936845d6" title=" " alt="" coords="1516,65,1592,91"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ada0e72e8d0a1a48090829fd03a0b76ba" title=" " alt="" coords="1640,65,1735,91"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8_icgraph" id="d2/d5a/fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8_icgraph">
<area shape="rect" title=" " alt="" coords="700,259,755,285"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="450,56,513,83"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aa182c62fade7a0bae9408830d5e06d4f" title=" " alt="" coords="569,107,652,133"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,360,221,387"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a1dc8c87c7e48bdaaf98e9c7047928f29" title=" " alt="" coords="575,411,646,437"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a2eb454962c1a73ea0138f868180f85ed" title=" " alt="" coords="295,208,387,235"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a201acc8337a2893268b61ea5a1ee0d53" title=" " alt="" coords="571,360,650,387"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,31,226,57"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,107,232,133"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,5,98,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,56,101,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,195,95,221"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="448,107,515,133"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,157,240,184"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,259,372,285"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,107,393,133"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,208,236,235"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,259,230,285"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a54bf714d9e898cbdcbc061b280bbfae0" title=" " alt="" coords="441,411,521,437"/>
</map>
</div>

</div>
</div>
<a id="aff0080b2133027be2e525ca088b40e78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff0080b2133027be2e525ca088b40e78">&#9670;&nbsp;</a></span>readsb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void readsb </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3d/structsuperblock.html">superblock</a> *&#160;</td>
          <td class="paramname"><em>sb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00032">32</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d9/dd0/structbuf.html">buf</a> *bp;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  bp = <a class="code" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c">bread</a>(<a class="code" href="../../d9/dd0/structbuf.html#ac96082c2b5f22133ac7092ef81487227">dev</a>, 1);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <a class="code" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212">memmove</a>(<a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>, bp-&gt;<a class="code" href="../../d9/dd0/structbuf.html#ab0ec38784ab94ed35e575cf6d33912d2">data</a>, <span class="keyword">sizeof</span>(*<a class="code" href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a>));</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <a class="code" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727">brelse</a>(bp);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_aff0080b2133027be2e525ca088b40e78_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_aff0080b2133027be2e525ca088b40e78_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_aff0080b2133027be2e525ca088b40e78_cgraph" id="d2/d5a/fs_8c_aff0080b2133027be2e525ca088b40e78_cgraph">
<area shape="rect" title=" " alt="" coords="5,1499,72,1525"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="120,853,179,880"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="479,1537,572,1564"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="494,1031,557,1057"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="227,803,277,829"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="349,853,407,880"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="938,853,1009,880"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1465,853,1522,880"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="325,575,431,601"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="938,651,1009,677"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1068,853,1169,880"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1083,651,1154,677"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1333,549,1400,576"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1217,701,1285,728"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1092,955,1145,981"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1221,499,1282,525"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1461,499,1526,525"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1448,397,1539,424"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1347,347,1386,373"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1347,448,1386,475"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1083,296,1154,323"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="497,575,554,601"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1218,195,1285,221"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1221,245,1282,272"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1217,347,1285,373"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1083,195,1154,221"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="643,271,703,297"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ac44b13cc76bf4040e3baf34df75ff230" title=" " alt="" coords="1083,575,1154,601"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="783,296,869,323"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="943,245,1003,272"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="927,448,1020,475"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ad43d81fa3edec39a200abd0853bc84b1" title=" " alt="" coords="1072,397,1165,424"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ad478e855c39b8cbc88b72327ef4cd6f7" title=" " alt="" coords="1228,600,1275,627"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a4221d3a95c4a39db73a96c2332990ab0" title=" " alt="" coords="1232,397,1271,424"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="773,701,879,728"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="489,1259,561,1285"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="637,1208,708,1235"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="647,1259,698,1285"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="645,1309,700,1336"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="805,1259,847,1285"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="620,1056,725,1083"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="790,1056,862,1083"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="933,1056,1013,1083"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_aff0080b2133027be2e525ca088b40e78_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_aff0080b2133027be2e525ca088b40e78_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_aff0080b2133027be2e525ca088b40e78_icgraph" id="d2/d5a/fs_8c_aff0080b2133027be2e525ca088b40e78_icgraph">
<area shape="rect" title=" " alt="" coords="479,31,545,57"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a301761a27cf266e0bad483272fb31a3c" title=" " alt="" coords="376,5,423,32"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ad5e79aaefb91f41b9ef6aeae7ecf4708" title=" " alt="" coords="368,56,431,83"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a11c5d62d28e8121e75235d361158156e" title=" " alt="" coords="253,31,320,57"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab2adf77e35eddf8a6a5371372caddedc" title=" " alt="" coords="124,31,205,57"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="17,5,65,32"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="5,56,76,83"/>
</map>
</div>

</div>
</div>
<a id="aa696af27cc6f5d87271f9eb1c863f770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa696af27cc6f5d87271f9eb1c863f770">&#9670;&nbsp;</a></span>skipelem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* skipelem </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00703">703</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;{</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keywordtype">char</span> *s;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordtype">int</span> len;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="keywordflow">while</span> (*path == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    path++;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keywordflow">if</span> (*path == 0)</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  s = path;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="keywordflow">while</span> (*path != <span class="charliteral">&#39;/&#39;</span> &amp;&amp; *path != 0)</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    path++;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  len = path - s;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keywordflow">if</span> (len &gt;= <a class="code" href="../../df/d26/fs_8h.html#a48246fb9e5cb7f6a71ebc9ebc2f06562">DIRSIZ</a>)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212">memmove</a>(<a class="code" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>, s, <a class="code" href="../../df/d26/fs_8h.html#a48246fb9e5cb7f6a71ebc9ebc2f06562">DIRSIZ</a>);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <a class="code" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212">memmove</a>(<a class="code" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>, s, len);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[len] = 0;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keywordflow">while</span> (*path == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    path++;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="keywordflow">return</span> path;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_aa696af27cc6f5d87271f9eb1c863f770_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_aa696af27cc6f5d87271f9eb1c863f770_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_aa696af27cc6f5d87271f9eb1c863f770_cgraph" id="d2/d5a/fs_8c_aa696af27cc6f5d87271f9eb1c863f770_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,88,32"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="136,5,229,32"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_aa696af27cc6f5d87271f9eb1c863f770_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_aa696af27cc6f5d87271f9eb1c863f770_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_aa696af27cc6f5d87271f9eb1c863f770_icgraph" id="d2/d5a/fs_8c_aa696af27cc6f5d87271f9eb1c863f770_icgraph">
<area shape="rect" title=" " alt="" coords="556,221,639,248"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510" title=" " alt="" coords="441,221,508,248"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a9baba030d5bc6e9e20cf8b7d181edf35" title=" " alt="" coords="309,145,372,172"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c" title=" " alt="" coords="288,221,393,248"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aa7b4aae4a12acd187e23396214aeca47" title=" " alt="" coords="169,5,221,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="153,56,236,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="157,208,232,235"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,132,95,159"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="159,157,230,184"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="163,259,226,285"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="149,309,240,336"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,233,98,260"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,284,101,311"/>
</map>
</div>

</div>
</div>
<a id="a4ccff0bd4d9802e709d0af8d71a59861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ccff0bd4d9802e709d0af8d71a59861">&#9670;&nbsp;</a></span>stati()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stati </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../da/de7/structstat.html">stat</a> *&#160;</td>
          <td class="paramname"><em>st</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00524">524</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;{</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  st-&gt;<a class="code" href="../../da/de7/structstat.html#a14ef4f85e6fb86bf296360361d0f393b">dev</a> = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  st-&gt;<a class="code" href="../../da/de7/structstat.html#abf15624517ed5d79d0fa2a5553a68e25">ino</a> = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8acc2b9df0bfc6856da62925763db7fe">inum</a>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  st-&gt;<a class="code" href="../../da/de7/structstat.html#a01f1b4cd7627d192a7875c9a188e0699">type</a> = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8d74bec2898785c057111c328d23fda2">type</a>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  st-&gt;<a class="code" href="../../da/de7/structstat.html#a99ca3487fd2f4799337eb4281f8871e4">nlink</a> = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#af8b88b409bea7ef99c49a55f387538b2">nlink</a>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  st-&gt;<a class="code" href="../../da/de7/structstat.html#a4ac15b64dd4d787c59a8a687d79adb35">size</a> = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a918af769c48a8ca8afac057bf83d12de">size</a>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="comment">/*fstat를 했을 때 파일 정보 출력을 위한 추가 정보 복사*/</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">// 일반 파일의 주소 출력을 위한 정보복사</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a>; i++)</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    st-&gt;<a class="code" href="../../da/de7/structstat.html#aaa92f67184b0dfef3a3bc8dd40a1024d">addr</a>[i] = ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i];</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  if (st-&gt;<a class="code" href="../../da/de7/structstat.html#a01f1b4cd7627d192a7875c9a188e0699">type</a> == <a class="code" href="../../d2/d1b/stat_8h.html#a234ef1d69dd84e7134072c05c5b87eaf">T_CS</a>)</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="comment">// TS파일 용 주소 및 길이 복사.</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="comment">// 구조체 맴버변수 32비트 중 24비트 8비트로 쪼개져서 각각 들어감.</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a>; i++)</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      st-&gt;<a class="code" href="../../da/de7/structstat.html#aa165846eb7054d6933b314d62314011c">cs</a>[i].<a class="code" href="../../da/d85/structstat_1_1cs.html#a11753c8b5c90962b2a3e673365d9f203">addr</a> = (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i] &gt;&gt; 8);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      st-&gt;<a class="code" href="../../da/de7/structstat.html#aa165846eb7054d6933b314d62314011c">cs</a>[i].<a class="code" href="../../da/d85/structstat_1_1cs.html#ab3a1ceae3abadd0869dd8a8cd772dd90">len</a> = (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">addrs</a>[i] &amp; 255);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a4ccff0bd4d9802e709d0af8d71a59861_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a4ccff0bd4d9802e709d0af8d71a59861_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a4ccff0bd4d9802e709d0af8d71a59861_icgraph" id="d2/d5a/fs_8c_a4ccff0bd4d9802e709d0af8d71a59861_icgraph">
<area shape="rect" title=" " alt="" coords="249,5,300,32"/>
<area shape="rect" href="../../d6/d13/file_8c.html#afff8e849fa54dea2a5a27dbb97474607" title=" " alt="" coords="135,5,201,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ac243c8f20f5fb2e3e257b5007af2c204" title=" " alt="" coords="5,5,87,32"/>
</map>
</div>

</div>
</div>
<a id="a15858f4d8a4cc1def3d84d03c312836b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15858f4d8a4cc1def3d84d03c312836b">&#9670;&nbsp;</a></span>writei()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int writei </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>off</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00581">581</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;{</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <a class="code" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> tot, m;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d9/dd0/structbuf.html">buf</a> *bp;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8d74bec2898785c057111c328d23fda2">type</a> == <a class="code" href="../../d2/d1b/stat_8h.html#a62b045a3e4fdf204bdddda0f3fc3d8c4">T_DEV</a>)</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a34af7242018a977dace5730683850875">major</a> &lt; 0 || ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a34af7242018a977dace5730683850875">major</a> &gt;= <a class="code" href="../../d5/d33/param_8h.html#aa564a41c8409694da49b0badf2bb2853">NDEV</a> || !<a class="code" href="../../de/d6a/structdevsw.html">devsw</a>[ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a34af7242018a977dace5730683850875">major</a>].<a class="code" href="../../de/d6a/structdevsw.html#a87fd7af6c9a6fb8663fc206be7a233d4">write</a>)</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d6a/structdevsw.html">devsw</a>[ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a34af7242018a977dace5730683850875">major</a>].<a class="code" href="../../de/d6a/structdevsw.html#a87fd7af6c9a6fb8663fc206be7a233d4">write</a>(ip, src, n);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordflow">if</span> (off &gt; ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a918af769c48a8ca8afac057bf83d12de">size</a> || off + n &lt; off)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="comment">// T_CS는 다음 블록에서 쭉 쓰기 때문에 상관이 없다.</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordflow">if</span> (off + n &gt; <a class="code" href="../../df/d26/fs_8h.html#a714b2485a6dd312e37226e1f833728a9">MAXFILE</a> * <a class="code" href="../../df/d26/fs_8h.html#a403cf3149c084cea115b85c90721039a">BSIZE</a> &amp;&amp; ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a8d74bec2898785c057111c328d23fda2">type</a> != <a class="code" href="../../d2/d1b/stat_8h.html#a234ef1d69dd84e7134072c05c5b87eaf">T_CS</a>)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">for</span> (tot = 0; tot &lt; n; tot += m, off += m, src += m)</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    bp = <a class="code" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c">bread</a>(ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">dev</a>, <a class="code" href="../../d2/d5a/fs_8c.html#a965e83e1fa9b15abf268784ce74181bb">bmap</a>(ip, off / <a class="code" href="../../df/d26/fs_8h.html#a403cf3149c084cea115b85c90721039a">BSIZE</a>));</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    m = <a class="code" href="../../d2/d5a/fs_8c.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>(n - tot, <a class="code" href="../../df/d26/fs_8h.html#a403cf3149c084cea115b85c90721039a">BSIZE</a> - off % <a class="code" href="../../df/d26/fs_8h.html#a403cf3149c084cea115b85c90721039a">BSIZE</a>);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212">memmove</a>(bp-&gt;<a class="code" href="../../d9/dd0/structbuf.html#ab0ec38784ab94ed35e575cf6d33912d2">data</a> + off % <a class="code" href="../../df/d26/fs_8h.html#a403cf3149c084cea115b85c90721039a">BSIZE</a>, src, m);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c">log_write</a>(bp);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727">brelse</a>(bp);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordflow">if</span> (n &gt; 0 &amp;&amp; off &gt; ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a918af769c48a8ca8afac057bf83d12de">size</a>)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    ip-&gt;<a class="code" href="../../d0/df8/structinode.html#a918af769c48a8ca8afac057bf83d12de">size</a> = off;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <a class="code" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e">iupdate</a>(ip);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a15858f4d8a4cc1def3d84d03c312836b_cgraph.png" border="0" usemap="#d2/d5a/fs_8c_a15858f4d8a4cc1def3d84d03c312836b_cgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a15858f4d8a4cc1def3d84d03c312836b_cgraph" id="d2/d5a/fs_8c_a15858f4d8a4cc1def3d84d03c312836b_cgraph">
<area shape="rect" title=" " alt="" coords="5,1031,64,1057"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a965e83e1fa9b15abf268784ce74181bb" title=" " alt="" coords="112,803,171,829"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c" title=" " alt="" coords="459,1107,517,1133"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212" title=" " alt="" coords="1130,1157,1223,1184"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="457,929,519,956"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c" title=" " alt="" coords="447,752,529,779"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="328,1005,399,1032"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9" title=" " alt="" coords="219,803,280,829"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1802,752,1859,779"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="577,448,641,475"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ac93f607f4a954323f4c9ea485ca88538" title=" " alt="" coords="334,803,393,829"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ae58af86fda152e537209b86758f777ee" title=" " alt="" coords="584,1715,635,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a70985c3f5b2fb79737457b5c88f5327a" title=" " alt="" coords="713,1183,771,1209"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8" title=" " alt="" coords="1282,1208,1353,1235"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3" title=" " alt="" coords="689,1765,795,1792"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669" title=" " alt="" coords="1282,1595,1353,1621"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1405,1233,1507,1260"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1421,1595,1491,1621"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1671,1676,1737,1703"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1555,1556,1623,1583"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a7882b181a4fc45195cbaa1cd6aa986d4" title=" " alt="" coords="1429,1183,1483,1209"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1558,1505,1619,1532"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1798,1996,1863,2023"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a216ef768ced2935b4fd2a7de7d65de5b" title=" " alt="" coords="1785,1777,1876,1804"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af87d69b8449fc86a02b250af121cd29d" title=" " alt="" coords="1685,1524,1723,1551"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a89d04efedb6dc6e8d87c6a5b453529e1" title=" " alt="" coords="1685,1575,1723,1601"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441" title=" " alt="" coords="1421,1759,1491,1785"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507" title=" " alt="" coords="854,1765,911,1792"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a6ab45dc363c8d9b7beb14c25be49c6d7" title=" " alt="" coords="1555,1885,1622,1912"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1558,1759,1619,1785"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1555,1809,1623,1836"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aac2d0e6895b990d37e7c675637e9e40f" title=" " alt="" coords="1421,1885,1491,1912"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="993,1867,1053,1893"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ac44b13cc76bf4040e3baf34df75ff230" title=" " alt="" coords="1421,1652,1491,1679"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1134,1411,1219,1437"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68" title=" " alt="" coords="1124,1563,1229,1589"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a8dd5da18ae27fdeef2e7f854b855700e" title=" " alt="" coords="847,347,919,373"/>
<area shape="rect" href="../../d9/d2f/ide_8c.html#a20e7bdb8447d25c59f86be50a373963c" title=" " alt="" coords="988,144,1059,171"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#ae83f752beecce9c8f6f8711ff936377f" title=" " alt="" coords="1151,93,1202,120"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#af20064a96968f84c40bd6c633bc844f4" title=" " alt="" coords="996,397,1051,424"/>
<area shape="rect" href="../../d5/d39/x86_8h.html#a2866d9720d8f4b0e23530f79171dfba9" title=" " alt="" coords="1155,144,1198,171"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27" title=" " alt="" coords="971,904,1076,931"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254" title=" " alt="" coords="1141,904,1213,931"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ab5b9e3505045fa920a190e14e0ab2717" title=" " alt="" coords="1277,904,1357,931"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a9d55c9f035076ed1a90b6452770d0b62" title=" " alt="" coords="1139,245,1215,272"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a0504dbe97899f754f22dbe2b1e6b6102" title=" " alt="" coords="843,296,923,323"/>
<area shape="rect" href="../../d0/d56/console_8c.html#aafb705f6d5b125c41825313da0d41252" title=" " alt="" coords="707,384,777,411"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a9e775e33e5b346aba0be84dbeddcb312" title=" " alt="" coords="987,195,1060,221"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a571626618a1f05ff6854802e936845d6" title=" " alt="" coords="985,43,1061,69"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#ada0e72e8d0a1a48090829fd03a0b76ba" title=" " alt="" coords="1129,43,1224,69"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5a/fs_8c_a15858f4d8a4cc1def3d84d03c312836b_icgraph.png" border="0" usemap="#d2/d5a/fs_8c_a15858f4d8a4cc1def3d84d03c312836b_icgraph" alt=""/></div>
<map name="d2/d5a/fs_8c_a15858f4d8a4cc1def3d84d03c312836b_icgraph" id="d2/d5a/fs_8c_a15858f4d8a4cc1def3d84d03c312836b_icgraph">
<area shape="rect" title=" " alt="" coords="420,157,479,184"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="295,107,358,133"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="289,157,364,184"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="281,208,372,235"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a8700568adc174a9e10c167daf6296c8d" title=" " alt="" coords="160,56,223,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="154,107,229,133"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="9,5,98,32"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="5,56,101,83"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="12,107,95,133"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a687d939a9e4792af15db96f2c2f34378" title=" " alt="" coords="149,157,233,184"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">변수 문서화</h2>
<a id="a5a78db4f7c856337d906f0606b19bff5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a78db4f7c856337d906f0606b19bff5">&#9670;&nbsp;</a></span>icache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }  icache</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6baaf26dd83b71b8d684c5d54a709e31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6baaf26dd83b71b8d684c5d54a709e31">&#9670;&nbsp;</a></span>inode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> <a class="el" href="../../d0/df8/structinode.html">inode</a>[<a class="el" href="../../d5/d33/param_8h.html#adabafa10c7951be7c875cd2ee212be85">NINODE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00172">172</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ab28e82cd5dda7d960095706a3ea20572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab28e82cd5dda7d960095706a3ea20572">&#9670;&nbsp;</a></span>lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/d08/structspinlock.html">spinlock</a> lock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00171">171</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a0248d0bac625de5a1415f2f8c91f3343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0248d0bac625de5a1415f2f8c91f3343">&#9670;&nbsp;</a></span>sb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../df/d3d/structsuperblock.html">superblock</a> sb</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d2/d5a/fs_8c_source.html">fs.c</a> 파일의 <a class="el" href="../../d2/d5a/fs_8c_source.html#l00029">29</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="astructdinode_html_ae97965f85e7353313f85035e8fc63495"><div class="ttname"><a href="../../db/dfa/structdinode.html#ae97965f85e7353313f85035e8fc63495">dinode::minor</a></div><div class="ttdeci">short minor</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00033">fs.h:33</a></div></div>
<div class="ttc" id="astructinode_html_a7ba4ab7e52404b80d6d854678715ae30"><div class="ttname"><a href="../../d0/df8/structinode.html#a7ba4ab7e52404b80d6d854678715ae30">inode::addrs</a></div><div class="ttdeci">uint addrs[NDIRECT+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00025">file.h:25</a></div></div>
<div class="ttc" id="afs_8c_html_a15858f4d8a4cc1def3d84d03c312836b"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#a15858f4d8a4cc1def3d84d03c312836b">writei</a></div><div class="ttdeci">int writei(struct inode *ip, char *src, uint off, uint n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00581">fs.c:581</a></div></div>
<div class="ttc" id="afs_8c_html_a7220afa8e5f4bea540eb95879ea7df6e"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e">iupdate</a></div><div class="ttdeci">void iupdate(struct inode *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00227">fs.c:227</a></div></div>
<div class="ttc" id="astructdinode_html_a105562253b461c11413c9a229ef15358"><div class="ttname"><a href="../../db/dfa/structdinode.html#a105562253b461c11413c9a229ef15358">dinode::nlink</a></div><div class="ttdeci">short nlink</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00034">fs.h:34</a></div></div>
<div class="ttc" id="adefs_8h_html_a27e878168063a98eae64b4273dcf33cc"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a27e878168063a98eae64b4273dcf33cc">strncmp</a></div><div class="ttdeci">int strncmp(const char *, const char *, uint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/string_8c_source.html#l00059">string.c:59</a></div></div>
<div class="ttc" id="afs_8h_html_a6d24f098ea2928d61ff80b123d761715"><div class="ttname"><a href="../../df/d26/fs_8h.html#a6d24f098ea2928d61ff80b123d761715">NINDIRECT</a></div><div class="ttdeci">#define NINDIRECT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00025">fs.h:25</a></div></div>
<div class="ttc" id="astructsuperblock_html_aea92ae872785fd4fb39b903d9157aac5"><div class="ttname"><a href="../../df/d3d/structsuperblock.html#aea92ae872785fd4fb39b903d9157aac5">superblock::nlog</a></div><div class="ttdeci">uint nlog</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00018">fs.h:18</a></div></div>
<div class="ttc" id="astructdinode_html_a705729b3a39c10c0ba6927fc5e4e0563"><div class="ttname"><a href="../../db/dfa/structdinode.html#a705729b3a39c10c0ba6927fc5e4e0563">dinode::addrs</a></div><div class="ttdeci">uint addrs[NDIRECT+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00036">fs.h:36</a></div></div>
<div class="ttc" id="astructinode_html_a46bad0e938fbd348ac02bdef0c8d6215"><div class="ttname"><a href="../../d0/df8/structinode.html#a46bad0e938fbd348ac02bdef0c8d6215">inode::lock</a></div><div class="ttdeci">struct sleeplock lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00017">file.h:17</a></div></div>
<div class="ttc" id="afs_8c_html_a29272227722d57ff937caaffd03455a9"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#a29272227722d57ff937caaffd03455a9">balloc</a></div><div class="ttdeci">static uint balloc(uint dev)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00057">fs.c:57</a></div></div>
<div class="ttc" id="astat_8h_html_a62b045a3e4fdf204bdddda0f3fc3d8c4"><div class="ttname"><a href="../../d2/d1b/stat_8h.html#a62b045a3e4fdf204bdddda0f3fc3d8c4">T_DEV</a></div><div class="ttdeci">#define T_DEV</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1b/stat_8h_source.html#l00003">stat.h:3</a></div></div>
<div class="ttc" id="afs_8h_html_a714b2485a6dd312e37226e1f833728a9"><div class="ttname"><a href="../../df/d26/fs_8h.html#a714b2485a6dd312e37226e1f833728a9">MAXFILE</a></div><div class="ttdeci">#define MAXFILE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00026">fs.h:26</a></div></div>
<div class="ttc" id="adefs_8h_html_a4f8616948f3dbce65671f666eed1d669"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a></div><div class="ttdeci">void release(struct spinlock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2d/spinlock_8c_source.html#l00047">spinlock.c:47</a></div></div>
<div class="ttc" id="afs_8c_html_aa182c62fade7a0bae9408830d5e06d4f"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#aa182c62fade7a0bae9408830d5e06d4f">dirlookup</a></div><div class="ttdeci">struct inode * dirlookup(struct inode *dp, char *name, uint *poff)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00628">fs.c:628</a></div></div>
<div class="ttc" id="afs_8c_html_ae4e29916219b9293b37f9c34220694fe"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe">iunlock</a></div><div class="ttdeci">void iunlock(struct inode *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00322">fs.c:322</a></div></div>
<div class="ttc" id="astructinode_html_a34af7242018a977dace5730683850875"><div class="ttname"><a href="../../d0/df8/structinode.html#a34af7242018a977dace5730683850875">inode::major</a></div><div class="ttdeci">short major</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00021">file.h:21</a></div></div>
<div class="ttc" id="astructstat_1_1cs_html_ab3a1ceae3abadd0869dd8a8cd772dd90"><div class="ttname"><a href="../../da/d85/structstat_1_1cs.html#ab3a1ceae3abadd0869dd8a8cd772dd90">stat::cs::len</a></div><div class="ttdeci">uint len</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1b/stat_8h_source.html#l00018">stat.h:18</a></div></div>
<div class="ttc" id="adefs_8h_html_afa76133bc67c6026376d630da9b53b68"><div class="ttname"><a href="../../d5/d64/defs_8h.html#afa76133bc67c6026376d630da9b53b68">holdingsleep</a></div><div class="ttdeci">int holdingsleep(struct sleeplock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd1/sleeplock_8c_source.html#l00045">sleeplock.c:45</a></div></div>
<div class="ttc" id="afs_8h_html_a48246fb9e5cb7f6a71ebc9ebc2f06562"><div class="ttname"><a href="../../df/d26/fs_8h.html#a48246fb9e5cb7f6a71ebc9ebc2f06562">DIRSIZ</a></div><div class="ttdeci">#define DIRSIZ</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00052">fs.h:52</a></div></div>
<div class="ttc" id="adefs_8h_html_aecd4639fe2f9aaad8e8cee2b5e0688c3"><div class="ttname"><a href="../../d5/d64/defs_8h.html#aecd4639fe2f9aaad8e8cee2b5e0688c3">acquiresleep</a></div><div class="ttdeci">void acquiresleep(struct sleeplock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd1/sleeplock_8c_source.html#l00023">sleeplock.c:23</a></div></div>
<div class="ttc" id="afs_8c_html_a6b41577cc09b2a009be8f84bfb500079"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#a6b41577cc09b2a009be8f84bfb500079">idup</a></div><div class="ttdeci">struct inode * idup(struct inode *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00284">fs.c:284</a></div></div>
<div class="ttc" id="astat_8h_html_a234ef1d69dd84e7134072c05c5b87eaf"><div class="ttname"><a href="../../d2/d1b/stat_8h.html#a234ef1d69dd84e7134072c05c5b87eaf">T_CS</a></div><div class="ttdeci">#define T_CS</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1b/stat_8h_source.html#l00004">stat.h:4</a></div></div>
<div class="ttc" id="adefs_8h_html_a270d0050dc50965f4f851717841ad33c"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a270d0050dc50965f4f851717841ad33c">log_write</a></div><div class="ttdeci">void log_write(struct buf *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df8/log_8c_source.html#l00214">log.c:214</a></div></div>
<div class="ttc" id="adefs_8h_html_a9d55c9f035076ed1a90b6452770d0b62"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a9d55c9f035076ed1a90b6452770d0b62">memset</a></div><div class="ttdeci">void * memset(void *, int, uint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/string_8c_source.html#l00005">string.c:5</a></div></div>
<div class="ttc" id="astructsuperblock_html_adde361528f3905445974301b424611c1"><div class="ttname"><a href="../../df/d3d/structsuperblock.html#adde361528f3905445974301b424611c1">superblock::inodestart</a></div><div class="ttdeci">uint inodestart</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00020">fs.h:20</a></div></div>
<div class="ttc" id="astructsuperblock_html_a3c815dda5be6bda609389e76434171cc"><div class="ttname"><a href="../../df/d3d/structsuperblock.html#a3c815dda5be6bda609389e76434171cc">superblock::bmapstart</a></div><div class="ttdeci">uint bmapstart</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00021">fs.h:21</a></div></div>
<div class="ttc" id="astructsuperblock_html_a460268b28aced19797e8d7b84aa60ebf"><div class="ttname"><a href="../../df/d3d/structsuperblock.html#a460268b28aced19797e8d7b84aa60ebf">superblock::logstart</a></div><div class="ttdeci">uint logstart</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00019">fs.h:19</a></div></div>
<div class="ttc" id="afs_8c_html_a2800a4b570ae39363cec0613dac92fd7"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#a2800a4b570ae39363cec0613dac92fd7">bfree</a></div><div class="ttdeci">static void bfree(int dev, uint b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00085">fs.c:85</a></div></div>
<div class="ttc" id="astructdinode_html_aca8272002020f48219df175c986db257"><div class="ttname"><a href="../../db/dfa/structdinode.html#aca8272002020f48219df175c986db257">dinode::major</a></div><div class="ttdeci">short major</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00032">fs.h:32</a></div></div>
<div class="ttc" id="afs_8h_html_a22c8ea96d09283ed6496347806cc72a0"><div class="ttname"><a href="../../df/d26/fs_8h.html#a22c8ea96d09283ed6496347806cc72a0">ROOTINO</a></div><div class="ttdeci">#define ROOTINO</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00004">fs.h:4</a></div></div>
<div class="ttc" id="astructdevsw_html_a4efbe00d0031a1c9005ef2186947ea37"><div class="ttname"><a href="../../de/d6a/structdevsw.html#a4efbe00d0031a1c9005ef2186947ea37">devsw::read</a></div><div class="ttdeci">int(* read)(struct inode *, char *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00031">file.h:31</a></div></div>
<div class="ttc" id="afs_8c_html_a85139e533a212f0e8961b88e73fd6510"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#a85139e533a212f0e8961b88e73fd6510">namex</a></div><div class="ttdeci">static struct inode * namex(char *path, int nameiparent, char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00733">fs.c:733</a></div></div>
<div class="ttc" id="afs_8c_html_aff0080b2133027be2e525ca088b40e78"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#aff0080b2133027be2e525ca088b40e78">readsb</a></div><div class="ttdeci">void readsb(int dev, struct superblock *sb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00032">fs.c:32</a></div></div>
<div class="ttc" id="afs_8c_html_aed28187406d84a3aa71f10c6235a03ec"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec">ilock</a></div><div class="ttdeci">void ilock(struct inode *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00294">fs.c:294</a></div></div>
<div class="ttc" id="astructdinode_html"><div class="ttname"><a href="../../db/dfa/structdinode.html">dinode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00029">fs.h:29</a></div></div>
<div class="ttc" id="astructdirent_html_a68698c303a46d2a34232a2226629ac79"><div class="ttname"><a href="../../d5/de2/structdirent.html#a68698c303a46d2a34232a2226629ac79">dirent::inum</a></div><div class="ttdeci">ushort inum</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00056">fs.h:56</a></div></div>
<div class="ttc" id="adefs_8h_html_ab56d728e6966819a0260c358d3ac3419"><div class="ttname"><a href="../../d5/d64/defs_8h.html#ab56d728e6966819a0260c358d3ac3419">initlock</a></div><div class="ttdeci">void initlock(struct spinlock *, char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2d/spinlock_8c_source.html#l00013">spinlock.c:13</a></div></div>
<div class="ttc" id="afs_8c_html_ae74f6e5b19a4e7f3e72807ee67141819"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#ae74f6e5b19a4e7f3e72807ee67141819">namecmp</a></div><div class="ttdeci">int namecmp(const char *s, const char *t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00620">fs.c:620</a></div></div>
<div class="ttc" id="afs_8h_html_a3c88fd21abb83ef11461ce750c466828"><div class="ttname"><a href="../../df/d26/fs_8h.html#a3c88fd21abb83ef11461ce750c466828">BPB</a></div><div class="ttdeci">#define BPB</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00046">fs.h:46</a></div></div>
<div class="ttc" id="adefs_8h_html_afcc0bb831ec06288e3a951e09e8d5b7d"><div class="ttname"><a href="../../d5/d64/defs_8h.html#afcc0bb831ec06288e3a951e09e8d5b7d">strncpy</a></div><div class="ttdeci">char * strncpy(char *, const char *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/string_8c_source.html#l00069">string.c:69</a></div></div>
<div class="ttc" id="afs_8h_html_ac9a5b990015f0f86e5d4c6b21d38ffa0"><div class="ttname"><a href="../../df/d26/fs_8h.html#ac9a5b990015f0f86e5d4c6b21d38ffa0">IBLOCK</a></div><div class="ttdeci">#define IBLOCK(i, sb)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00043">fs.h:43</a></div></div>
<div class="ttc" id="astructstat_html_a4ac15b64dd4d787c59a8a687d79adb35"><div class="ttname"><a href="../../da/de7/structstat.html#a4ac15b64dd4d787c59a8a687d79adb35">stat::size</a></div><div class="ttdeci">uint size</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1b/stat_8h_source.html#l00012">stat.h:12</a></div></div>
<div class="ttc" id="afs_8c_html_aa574143402896986fe315a0c2749fffa"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#aa574143402896986fe315a0c2749fffa">iget</a></div><div class="ttdeci">static struct inode * iget(uint dev, uint inum)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00248">fs.c:248</a></div></div>
<div class="ttc" id="astructsuperblock_html_a7c6e4d6da139ecee74eb7816d5d44fa6"><div class="ttname"><a href="../../df/d3d/structsuperblock.html#a7c6e4d6da139ecee74eb7816d5d44fa6">superblock::size</a></div><div class="ttdeci">uint size</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00015">fs.h:15</a></div></div>
<div class="ttc" id="astructstat_html_aaa92f67184b0dfef3a3bc8dd40a1024d"><div class="ttname"><a href="../../da/de7/structstat.html#aaa92f67184b0dfef3a3bc8dd40a1024d">stat::addr</a></div><div class="ttdeci">uint addr[12+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1b/stat_8h_source.html#l00013">stat.h:13</a></div></div>
<div class="ttc" id="astructstat_html_a14ef4f85e6fb86bf296360361d0f393b"><div class="ttname"><a href="../../da/de7/structstat.html#a14ef4f85e6fb86bf296360361d0f393b">stat::dev</a></div><div class="ttdeci">int dev</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1b/stat_8h_source.html#l00009">stat.h:9</a></div></div>
<div class="ttc" id="astructstat_html_a99ca3487fd2f4799337eb4281f8871e4"><div class="ttname"><a href="../../da/de7/structstat.html#a99ca3487fd2f4799337eb4281f8871e4">stat::nlink</a></div><div class="ttdeci">short nlink</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1b/stat_8h_source.html#l00011">stat.h:11</a></div></div>
<div class="ttc" id="afs_8h_html_a403cf3149c084cea115b85c90721039a"><div class="ttname"><a href="../../df/d26/fs_8h.html#a403cf3149c084cea115b85c90721039a">BSIZE</a></div><div class="ttdeci">#define BSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00005">fs.h:5</a></div></div>
<div class="ttc" id="atypes_8h_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d49/types_8h_source.html#l00001">types.h:1</a></div></div>
<div class="ttc" id="astructinode_html"><div class="ttname"><a href="../../d0/df8/structinode.html">inode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00013">file.h:13</a></div></div>
<div class="ttc" id="astructsuperblock_html_a2a27a7cfb54689f0e1dcd1788d049218"><div class="ttname"><a href="../../df/d3d/structsuperblock.html#a2a27a7cfb54689f0e1dcd1788d049218">superblock::nblocks</a></div><div class="ttdeci">uint nblocks</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00016">fs.h:16</a></div></div>
<div class="ttc" id="astructstat_1_1cs_html_a11753c8b5c90962b2a3e673365d9f203"><div class="ttname"><a href="../../da/d85/structstat_1_1cs.html#a11753c8b5c90962b2a3e673365d9f203">stat::cs::addr</a></div><div class="ttdeci">uint addr</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1b/stat_8h_source.html#l00017">stat.h:17</a></div></div>
<div class="ttc" id="astructdirent_html"><div class="ttname"><a href="../../d5/de2/structdirent.html">dirent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00054">fs.h:54</a></div></div>
<div class="ttc" id="astructbuf_html"><div class="ttname"><a href="../../d9/dd0/structbuf.html">buf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6d/buf_8h_source.html#l00001">buf.h:1</a></div></div>
<div class="ttc" id="astructstat_html_aa165846eb7054d6933b314d62314011c"><div class="ttname"><a href="../../da/de7/structstat.html#aa165846eb7054d6933b314d62314011c">stat::cs</a></div><div class="ttdeci">struct stat::cs cs[12]</div></div>
<div class="ttc" id="afs_8h_html_a080eb729016328ec6da85bfe125fc04c"><div class="ttname"><a href="../../df/d26/fs_8h.html#a080eb729016328ec6da85bfe125fc04c">BBLOCK</a></div><div class="ttdeci">#define BBLOCK(b, sb)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00049">fs.h:49</a></div></div>
<div class="ttc" id="astructdinode_html_a990ad8ddf5f8c051fbbe95cf550d2164"><div class="ttname"><a href="../../db/dfa/structdinode.html#a990ad8ddf5f8c051fbbe95cf550d2164">dinode::size</a></div><div class="ttdeci">uint size</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00035">fs.h:35</a></div></div>
<div class="ttc" id="afs_8c_html_a965e83e1fa9b15abf268784ce74181bb"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#a965e83e1fa9b15abf268784ce74181bb">bmap</a></div><div class="ttdeci">static uint bmap(struct inode *ip, uint bn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00379">fs.c:379</a></div></div>
<div class="ttc" id="aconsole_8c_html_a90f0742d846503e4ed1804f1df421ec6"><div class="ttname"><a href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6">cprintf</a></div><div class="ttdeci">void cprintf(char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00055">console.c:55</a></div></div>
<div class="ttc" id="adefs_8h_html_addb64b689e3c266aaa67cc0126bba441"><div class="ttname"><a href="../../d5/d64/defs_8h.html#addb64b689e3c266aaa67cc0126bba441">myproc</a></div><div class="ttdeci">struct proc * myproc()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/proc_8c_source.html#l00059">proc.c:59</a></div></div>
<div class="ttc" id="astructstat_html_abf15624517ed5d79d0fa2a5553a68e25"><div class="ttname"><a href="../../da/de7/structstat.html#abf15624517ed5d79d0fa2a5553a68e25">stat::ino</a></div><div class="ttdeci">uint ino</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1b/stat_8h_source.html#l00010">stat.h:10</a></div></div>
<div class="ttc" id="afs_8c_html_a5a78db4f7c856337d906f0606b19bff5"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#a5a78db4f7c856337d906f0606b19bff5">icache</a></div><div class="ttdeci">struct @5 icache</div></div>
<div class="ttc" id="adefs_8h_html_aa9c8577c0e9d233f85892ec2d9bfe212"><div class="ttname"><a href="../../d5/d64/defs_8h.html#aa9c8577c0e9d233f85892ec2d9bfe212">memmove</a></div><div class="ttdeci">void * memmove(void *, const void *, uint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/string_8c_source.html#l00032">string.c:32</a></div></div>
<div class="ttc" id="afs_8c_html_a3aba1fa9f6789d09356aec5b96d91fa8"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8">readi</a></div><div class="ttdeci">int readi(struct inode *ip, char *dst, uint off, uint n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00551">fs.c:551</a></div></div>
<div class="ttc" id="astructinode_html_a6a519028ee67f805482b3e1725bf09c5"><div class="ttname"><a href="../../d0/df8/structinode.html#a6a519028ee67f805482b3e1725bf09c5">inode::ref</a></div><div class="ttdeci">int ref</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00016">file.h:16</a></div></div>
<div class="ttc" id="astructdinode_html_abf6b2a8476a803284f1c927fb3b82259"><div class="ttname"><a href="../../db/dfa/structdinode.html#abf6b2a8476a803284f1c927fb3b82259">dinode::type</a></div><div class="ttdeci">short type</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00031">fs.h:31</a></div></div>
<div class="ttc" id="astructinode_html_af8b88b409bea7ef99c49a55f387538b2"><div class="ttname"><a href="../../d0/df8/structinode.html#af8b88b409bea7ef99c49a55f387538b2">inode::nlink</a></div><div class="ttdeci">short nlink</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00023">file.h:23</a></div></div>
<div class="ttc" id="astructinode_html_a121742a89c4531f03a7de1613d5be605"><div class="ttname"><a href="../../d0/df8/structinode.html#a121742a89c4531f03a7de1613d5be605">inode::dev</a></div><div class="ttdeci">uint dev</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00014">file.h:14</a></div></div>
<div class="ttc" id="aparam_8h_html_aa564a41c8409694da49b0badf2bb2853"><div class="ttname"><a href="../../d5/d33/param_8h.html#aa564a41c8409694da49b0badf2bb2853">NDEV</a></div><div class="ttdeci">#define NDEV</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d33/param_8h_source.html#l00007">param.h:7</a></div></div>
<div class="ttc" id="astructsuperblock_html_a355d2a1ebdc51f80820c23e69363cf42"><div class="ttname"><a href="../../df/d3d/structsuperblock.html#a355d2a1ebdc51f80820c23e69363cf42">superblock::ninodes</a></div><div class="ttdeci">uint ninodes</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00017">fs.h:17</a></div></div>
<div class="ttc" id="abio_8c_html_ae000984516278965dde3d125affd086c"><div class="ttname"><a href="../../dc/de6/bio_8c.html#ae000984516278965dde3d125affd086c">bread</a></div><div class="ttdeci">struct buf * bread(uint dev, uint blockno)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de6/bio_8c_source.html#l00097">bio.c:97</a></div></div>
<div class="ttc" id="astructinode_html_a8d74bec2898785c057111c328d23fda2"><div class="ttname"><a href="../../d0/df8/structinode.html#a8d74bec2898785c057111c328d23fda2">inode::type</a></div><div class="ttdeci">short type</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00020">file.h:20</a></div></div>
<div class="ttc" id="abio_8c_html_ab5335aeb503731104314321a78a6d727"><div class="ttname"><a href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727">brelse</a></div><div class="ttdeci">void brelse(struct buf *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de6/bio_8c_source.html#l00121">bio.c:121</a></div></div>
<div class="ttc" id="aconsole_8c_html_af10fa12dd785c91e29528fbdc50cf9af"><div class="ttname"><a href="../../d0/d56/console_8c.html#af10fa12dd785c91e29528fbdc50cf9af">r</a></div><div class="ttdeci">uint r</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00184">console.c:184</a></div></div>
<div class="ttc" id="astructdevsw_html"><div class="ttname"><a href="../../de/d6a/structdevsw.html">devsw</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00030">file.h:30</a></div></div>
<div class="ttc" id="afs_8h_html_acd38e9532d4b3623f844b93c012a8e06"><div class="ttname"><a href="../../df/d26/fs_8h.html#acd38e9532d4b3623f844b93c012a8e06">NDIRECT</a></div><div class="ttdeci">#define NDIRECT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00024">fs.h:24</a></div></div>
<div class="ttc" id="afs_8c_html_ab3c447f135c68e4c3c1f8d5866f6e77b"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b">iput</a></div><div class="ttdeci">void iput(struct inode *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00337">fs.c:337</a></div></div>
<div class="ttc" id="afs_8c_html_ac93f607f4a954323f4c9ea485ca88538"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#ac93f607f4a954323f4c9ea485ca88538">bzero</a></div><div class="ttdeci">static void bzero(int dev, int bno)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00043">fs.c:43</a></div></div>
<div class="ttc" id="aparam_8h_html_ae9ce6b24fe2aae59ff60b469c35febbc"><div class="ttname"><a href="../../d5/d33/param_8h.html#ae9ce6b24fe2aae59ff60b469c35febbc">ROOTDEV</a></div><div class="ttdeci">#define ROOTDEV</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d33/param_8h_source.html#l00008">param.h:8</a></div></div>
<div class="ttc" id="astructstat_html_a01f1b4cd7627d192a7875c9a188e0699"><div class="ttname"><a href="../../da/de7/structstat.html#a01f1b4cd7627d192a7875c9a188e0699">stat::type</a></div><div class="ttdeci">short type</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1b/stat_8h_source.html#l00008">stat.h:8</a></div></div>
<div class="ttc" id="aconsole_8c_html_a95c0aca5d6d7487933984f08b189917a"><div class="ttname"><a href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a></div><div class="ttdeci">void panic(char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00107">console.c:107</a></div></div>
<div class="ttc" id="astructinode_html_aad324382ba30eb83daa5304fce7dca08"><div class="ttname"><a href="../../d0/df8/structinode.html#aad324382ba30eb83daa5304fce7dca08">inode::valid</a></div><div class="ttdeci">int valid</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00018">file.h:18</a></div></div>
<div class="ttc" id="adefs_8h_html_a840b479c87b1c047d7142f58e0ad0b27"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a840b479c87b1c047d7142f58e0ad0b27">releasesleep</a></div><div class="ttdeci">void releasesleep(struct sleeplock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd1/sleeplock_8c_source.html#l00035">sleeplock.c:35</a></div></div>
<div class="ttc" id="afs_8c_html_a7c42ba96035fb59aef87372552b1a661"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#a7c42ba96035fb59aef87372552b1a661">itrunc</a></div><div class="ttdeci">static void itrunc(struct inode *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00468">fs.c:468</a></div></div>
<div class="ttc" id="afs_8c_html_ac6afabdc09a49a433ee19d8a9486056d"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#ac6afabdc09a49a433ee19d8a9486056d">min</a></div><div class="ttdeci">#define min(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00024">fs.c:24</a></div></div>
<div class="ttc" id="aparam_8h_html_adabafa10c7951be7c875cd2ee212be85"><div class="ttname"><a href="../../d5/d33/param_8h.html#adabafa10c7951be7c875cd2ee212be85">NINODE</a></div><div class="ttdeci">#define NINODE</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d33/param_8h_source.html#l00006">param.h:6</a></div></div>
<div class="ttc" id="astructbuf_html_ab0ec38784ab94ed35e575cf6d33912d2"><div class="ttname"><a href="../../d9/dd0/structbuf.html#ab0ec38784ab94ed35e575cf6d33912d2">buf::data</a></div><div class="ttdeci">uchar data[BSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6d/buf_8h_source.html#l00010">buf.h:10</a></div></div>
<div class="ttc" id="afs_8c_html_aa696af27cc6f5d87271f9eb1c863f770"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#aa696af27cc6f5d87271f9eb1c863f770">skipelem</a></div><div class="ttdeci">static char * skipelem(char *path, char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00703">fs.c:703</a></div></div>
<div class="ttc" id="astat_8h_html_a91136bcd71a9f499304f5d7e7e9d6376"><div class="ttname"><a href="../../d2/d1b/stat_8h.html#a91136bcd71a9f499304f5d7e7e9d6376">T_DIR</a></div><div class="ttdeci">#define T_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1b/stat_8h_source.html#l00001">stat.h:1</a></div></div>
<div class="ttc" id="astructinode_html_a37878866e7905b666db2aa33076076a2"><div class="ttname"><a href="../../d0/df8/structinode.html#a37878866e7905b666db2aa33076076a2">inode::minor</a></div><div class="ttdeci">short minor</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00022">file.h:22</a></div></div>
<div class="ttc" id="astructdevsw_html_a87fd7af6c9a6fb8663fc206be7a233d4"><div class="ttname"><a href="../../de/d6a/structdevsw.html#a87fd7af6c9a6fb8663fc206be7a233d4">devsw::write</a></div><div class="ttdeci">int(* write)(struct inode *, char *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00032">file.h:32</a></div></div>
<div class="ttc" id="ausertests_8c_html_aee754febd402311e2a552cb0d6ab6629"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a></div><div class="ttdeci">char name[3]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00012">usertests.c:12</a></div></div>
<div class="ttc" id="astructbuf_html_ac96082c2b5f22133ac7092ef81487227"><div class="ttname"><a href="../../d9/dd0/structbuf.html#ac96082c2b5f22133ac7092ef81487227">buf::dev</a></div><div class="ttdeci">uint dev</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6d/buf_8h_source.html#l00003">buf.h:3</a></div></div>
<div class="ttc" id="afs_8c_html_a0248d0bac625de5a1415f2f8c91f3343"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#a0248d0bac625de5a1415f2f8c91f3343">sb</a></div><div class="ttdeci">struct superblock sb</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00029">fs.c:29</a></div></div>
<div class="ttc" id="adefs_8h_html_afe4ef8638f1ecb962a6e67fb086ee3b8"><div class="ttname"><a href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8">acquire</a></div><div class="ttdeci">void acquire(struct spinlock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2d/spinlock_8c_source.html#l00025">spinlock.c:25</a></div></div>
<div class="ttc" id="afs_8c_html_a207b3008bae35596c55ec7c4fc6875eb"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb">iunlockput</a></div><div class="ttdeci">void iunlockput(struct inode *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00362">fs.c:362</a></div></div>
<div class="ttc" id="astructinode_html_a918af769c48a8ca8afac057bf83d12de"><div class="ttname"><a href="../../d0/df8/structinode.html#a918af769c48a8ca8afac057bf83d12de">inode::size</a></div><div class="ttdeci">uint size</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00024">file.h:24</a></div></div>
<div class="ttc" id="afs_8h_html_aadb6c866a6d0a173f5f0a6ed9c7e0228"><div class="ttname"><a href="../../df/d26/fs_8h.html#aadb6c866a6d0a173f5f0a6ed9c7e0228">IPB</a></div><div class="ttdeci">#define IPB</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00040">fs.h:40</a></div></div>
<div class="ttc" id="adefs_8h_html_af5ca8072e3877a883fb34ce59eff88cb"><div class="ttname"><a href="../../d5/d64/defs_8h.html#af5ca8072e3877a883fb34ce59eff88cb">initsleeplock</a></div><div class="ttdeci">void initsleeplock(struct sleeplock *, char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd1/sleeplock_8c_source.html#l00014">sleeplock.c:14</a></div></div>
<div class="ttc" id="afs_8c_html_a5a987ca4f8ffd579b96a8b9a60e61a7c"><div class="ttname"><a href="../../d2/d5a/fs_8c.html#a5a987ca4f8ffd579b96a8b9a60e61a7c">nameiparent</a></div><div class="ttdeci">struct inode * nameiparent(char *path, char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00780">fs.c:780</a></div></div>
<div class="ttc" id="astructinode_html_a8acc2b9df0bfc6856da62925763db7fe"><div class="ttname"><a href="../../d0/df8/structinode.html#a8acc2b9df0bfc6856da62925763db7fe">inode::inum</a></div><div class="ttdeci">uint inum</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00015">file.h:15</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
다음에 의해 생성됨 :  &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
