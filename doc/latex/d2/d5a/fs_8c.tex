\hypertarget{fs_8c}{}\doxysection{fs.\+c 파일 참조}
\label{fs_8c}\index{fs.c@{fs.c}}
{\ttfamily \#include \char`\"{}types.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}defs.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}param.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}stat.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}mmu.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}proc.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}spinlock.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}sleeplock.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}fs.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}buf.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}file.\+h\char`\"{}}\newline
fs.\+c에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/d4f/fs_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{매크로}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{fs_8c_ac6afabdc09a49a433ee19d8a9486056d}{min}}(a,  b)~((a) $<$ (b) ? (a) \+: (b))
\end{DoxyCompactItemize}
\doxysubsection*{함수}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{fs_8c_a7c42ba96035fb59aef87372552b1a661}{itrunc}} (struct \mbox{\hyperlink{structinode}{inode}} $\ast$)
\item 
void \mbox{\hyperlink{fs_8c_aff0080b2133027be2e525ca088b40e78}{readsb}} (int dev, struct \mbox{\hyperlink{structsuperblock}{superblock}} $\ast$\mbox{\hyperlink{mkfs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}})
\item 
static void \mbox{\hyperlink{fs_8c_ac93f607f4a954323f4c9ea485ca88538}{bzero}} (int dev, int bno)
\item 
static \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} \mbox{\hyperlink{fs_8c_a29272227722d57ff937caaffd03455a9}{balloc}} (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} dev)
\item 
static void \mbox{\hyperlink{fs_8c_a2800a4b570ae39363cec0613dac92fd7}{bfree}} (int dev, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} b)
\item 
void \mbox{\hyperlink{fs_8c_a301761a27cf266e0bad483272fb31a3c}{iinit}} (int dev)
\item 
static struct \mbox{\hyperlink{structinode}{inode}} $\ast$ \mbox{\hyperlink{fs_8c_aa574143402896986fe315a0c2749fffa}{iget}} (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} dev, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} inum)
\item 
struct \mbox{\hyperlink{structinode}{inode}} $\ast$ \mbox{\hyperlink{fs_8c_adb360ce0b70a32d19d089fba4cd91293}{ialloc}} (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} dev, short type)
\item 
void \mbox{\hyperlink{fs_8c_a7220afa8e5f4bea540eb95879ea7df6e}{iupdate}} (struct \mbox{\hyperlink{structinode}{inode}} $\ast$ip)
\item 
struct \mbox{\hyperlink{structinode}{inode}} $\ast$ \mbox{\hyperlink{fs_8c_a6b41577cc09b2a009be8f84bfb500079}{idup}} (struct \mbox{\hyperlink{structinode}{inode}} $\ast$ip)
\item 
void \mbox{\hyperlink{fs_8c_aed28187406d84a3aa71f10c6235a03ec}{ilock}} (struct \mbox{\hyperlink{structinode}{inode}} $\ast$ip)
\item 
void \mbox{\hyperlink{fs_8c_ae4e29916219b9293b37f9c34220694fe}{iunlock}} (struct \mbox{\hyperlink{structinode}{inode}} $\ast$ip)
\item 
void \mbox{\hyperlink{fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b}{iput}} (struct \mbox{\hyperlink{structinode}{inode}} $\ast$ip)
\item 
void \mbox{\hyperlink{fs_8c_a207b3008bae35596c55ec7c4fc6875eb}{iunlockput}} (struct \mbox{\hyperlink{structinode}{inode}} $\ast$ip)
\item 
static \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} \mbox{\hyperlink{fs_8c_a965e83e1fa9b15abf268784ce74181bb}{bmap}} (struct \mbox{\hyperlink{structinode}{inode}} $\ast$ip, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} bn)
\item 
void \mbox{\hyperlink{fs_8c_a4ccff0bd4d9802e709d0af8d71a59861}{stati}} (struct \mbox{\hyperlink{structinode}{inode}} $\ast$ip, struct \mbox{\hyperlink{structstat}{stat}} $\ast$st)
\item 
int \mbox{\hyperlink{fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8}{readi}} (struct \mbox{\hyperlink{structinode}{inode}} $\ast$ip, char $\ast$dst, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} off, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} n)
\item 
int \mbox{\hyperlink{fs_8c_a15858f4d8a4cc1def3d84d03c312836b}{writei}} (struct \mbox{\hyperlink{structinode}{inode}} $\ast$ip, char $\ast$src, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} off, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} n)
\item 
int \mbox{\hyperlink{fs_8c_ae74f6e5b19a4e7f3e72807ee67141819}{namecmp}} (const char $\ast$s, const char $\ast$t)
\item 
struct \mbox{\hyperlink{structinode}{inode}} $\ast$ \mbox{\hyperlink{fs_8c_aa182c62fade7a0bae9408830d5e06d4f}{dirlookup}} (struct \mbox{\hyperlink{structinode}{inode}} $\ast$dp, char $\ast$\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} $\ast$poff)
\item 
int \mbox{\hyperlink{fs_8c_a69a135a0e8a06d9f306d77ebc0c1f7a0}{dirlink}} (struct \mbox{\hyperlink{structinode}{inode}} $\ast$dp, char $\ast$\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} inum)
\item 
static char $\ast$ \mbox{\hyperlink{fs_8c_aa696af27cc6f5d87271f9eb1c863f770}{skipelem}} (char $\ast$path, char $\ast$\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}})
\item 
static struct \mbox{\hyperlink{structinode}{inode}} $\ast$ \mbox{\hyperlink{fs_8c_a85139e533a212f0e8961b88e73fd6510}{namex}} (char $\ast$path, int \mbox{\hyperlink{fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c}{nameiparent}}, char $\ast$\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}})
\item 
struct \mbox{\hyperlink{structinode}{inode}} $\ast$ \mbox{\hyperlink{fs_8c_a9baba030d5bc6e9e20cf8b7d181edf35}{namei}} (char $\ast$path)
\item 
struct \mbox{\hyperlink{structinode}{inode}} $\ast$ \mbox{\hyperlink{fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c}{nameiparent}} (char $\ast$path, char $\ast$\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}})
\end{DoxyCompactItemize}
\doxysubsection*{변수}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsuperblock}{superblock}} \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}
\item 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>struct \mbox{\hyperlink{structspinlock}{spinlock}} \mbox{\hyperlink{fs_8c_ab28e82cd5dda7d960095706a3ea20572}{lock}}\\
\>struct \mbox{\hyperlink{structinode}{inode}} \mbox{\hyperlink{fs_8c_a6baaf26dd83b71b8d684c5d54a709e31}{inode}} \mbox{[}\mbox{\hyperlink{param_8h_adabafa10c7951be7c875cd2ee212be85}{NINODE}}\mbox{]}\\
\} \mbox{\hyperlink{fs_8c_a5a78db4f7c856337d906f0606b19bff5}{icache}}\\

\end{tabbing}\end{DoxyCompactItemize}


\doxysubsection{매크로 문서화}
\mbox{\Hypertarget{fs_8c_ac6afabdc09a49a433ee19d8a9486056d}\label{fs_8c_ac6afabdc09a49a433ee19d8a9486056d}} 
\index{fs.c@{fs.c}!min@{min}}
\index{min@{min}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{min}{min}}
{\footnotesize\ttfamily \#define min(\begin{DoxyParamCaption}\item[{}]{a,  }\item[{}]{b }\end{DoxyParamCaption})~((a) $<$ (b) ? (a) \+: (b))}



fs.\+c 파일의 24 번째 라인에서 정의되었습니다.



\doxysubsection{함수 문서화}
\mbox{\Hypertarget{fs_8c_a29272227722d57ff937caaffd03455a9}\label{fs_8c_a29272227722d57ff937caaffd03455a9}} 
\index{fs.c@{fs.c}!balloc@{balloc}}
\index{balloc@{balloc}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{balloc()}{balloc()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} balloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{dev }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



fs.\+c 파일의 57 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{58 \{}
\DoxyCodeLine{59   \textcolor{keywordtype}{int} b, bi, m;}
\DoxyCodeLine{60   \textcolor{keyword}{struct }\mbox{\hyperlink{structbuf}{buf}} *bp;}
\DoxyCodeLine{61 }
\DoxyCodeLine{62   bp = 0;}
\DoxyCodeLine{63   \textcolor{keywordflow}{for} (b = 0; b < \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}.\mbox{\hyperlink{structsuperblock_a7c6e4d6da139ecee74eb7816d5d44fa6}{size}}; b += \mbox{\hyperlink{fs_8h_a3c88fd21abb83ef11461ce750c466828}{BPB}})}
\DoxyCodeLine{64   \{}
\DoxyCodeLine{65     bp = \mbox{\hyperlink{bio_8c_ae000984516278965dde3d125affd086c}{bread}}(\mbox{\hyperlink{structbuf_ac96082c2b5f22133ac7092ef81487227}{dev}}, \mbox{\hyperlink{fs_8h_a080eb729016328ec6da85bfe125fc04c}{BBLOCK}}(b, \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}));}
\DoxyCodeLine{66     \textcolor{keywordflow}{for} (bi = 0; bi < \mbox{\hyperlink{fs_8h_a3c88fd21abb83ef11461ce750c466828}{BPB}} \&\& b + bi < \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}.\mbox{\hyperlink{structsuperblock_a7c6e4d6da139ecee74eb7816d5d44fa6}{size}}; bi++)}
\DoxyCodeLine{67     \{}
\DoxyCodeLine{68       m = 1 << (bi \% 8);}
\DoxyCodeLine{69       \textcolor{keywordflow}{if} ((bp-\/>\mbox{\hyperlink{structbuf_ab0ec38784ab94ed35e575cf6d33912d2}{data}}[bi / 8] \& m) == 0)}
\DoxyCodeLine{70       \{                        \textcolor{comment}{// Is block free?}}
\DoxyCodeLine{71         bp-\/>\mbox{\hyperlink{structbuf_ab0ec38784ab94ed35e575cf6d33912d2}{data}}[bi / 8] |= m; \textcolor{comment}{// Mark block in use.}}
\DoxyCodeLine{72         \mbox{\hyperlink{defs_8h_a270d0050dc50965f4f851717841ad33c}{log\_write}}(bp);}
\DoxyCodeLine{73         \mbox{\hyperlink{bio_8c_ab5335aeb503731104314321a78a6d727}{brelse}}(bp);}
\DoxyCodeLine{74         \mbox{\hyperlink{fs_8c_ac93f607f4a954323f4c9ea485ca88538}{bzero}}(\mbox{\hyperlink{structbuf_ac96082c2b5f22133ac7092ef81487227}{dev}}, b + bi);}
\DoxyCodeLine{75         \textcolor{keywordflow}{return} b + bi;}
\DoxyCodeLine{76       \}}
\DoxyCodeLine{77     \}}
\DoxyCodeLine{78     \mbox{\hyperlink{bio_8c_ab5335aeb503731104314321a78a6d727}{brelse}}(bp);}
\DoxyCodeLine{79   \}}
\DoxyCodeLine{80   \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"balloc: out of blocks"});}
\DoxyCodeLine{81 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a29272227722d57ff937caaffd03455a9_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a29272227722d57ff937caaffd03455a9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_a2800a4b570ae39363cec0613dac92fd7}\label{fs_8c_a2800a4b570ae39363cec0613dac92fd7}} 
\index{fs.c@{fs.c}!bfree@{bfree}}
\index{bfree@{bfree}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{bfree()}{bfree()}}
{\footnotesize\ttfamily static void bfree (\begin{DoxyParamCaption}\item[{int}]{dev,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{b }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



fs.\+c 파일의 85 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{86 \{}
\DoxyCodeLine{87   \textcolor{keyword}{struct }\mbox{\hyperlink{structbuf}{buf}} *bp;}
\DoxyCodeLine{88   \textcolor{keywordtype}{int} bi, m;}
\DoxyCodeLine{89 }
\DoxyCodeLine{90   bp = \mbox{\hyperlink{bio_8c_ae000984516278965dde3d125affd086c}{bread}}(\mbox{\hyperlink{structbuf_ac96082c2b5f22133ac7092ef81487227}{dev}}, \mbox{\hyperlink{fs_8h_a080eb729016328ec6da85bfe125fc04c}{BBLOCK}}(b, \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}));}
\DoxyCodeLine{91   bi = b \% \mbox{\hyperlink{fs_8h_a3c88fd21abb83ef11461ce750c466828}{BPB}};}
\DoxyCodeLine{92   m = 1 << (bi \% 8);}
\DoxyCodeLine{93   \textcolor{keywordflow}{if} ((bp-\/>\mbox{\hyperlink{structbuf_ab0ec38784ab94ed35e575cf6d33912d2}{data}}[bi / 8] \& m) == 0)}
\DoxyCodeLine{94     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"freeing free block"});}
\DoxyCodeLine{95   bp-\/>\mbox{\hyperlink{structbuf_ab0ec38784ab94ed35e575cf6d33912d2}{data}}[bi / 8] \&= \string~m;}
\DoxyCodeLine{96   \mbox{\hyperlink{defs_8h_a270d0050dc50965f4f851717841ad33c}{log\_write}}(bp);}
\DoxyCodeLine{97   \mbox{\hyperlink{bio_8c_ab5335aeb503731104314321a78a6d727}{brelse}}(bp);}
\DoxyCodeLine{98 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a2800a4b570ae39363cec0613dac92fd7_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a2800a4b570ae39363cec0613dac92fd7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_a965e83e1fa9b15abf268784ce74181bb}\label{fs_8c_a965e83e1fa9b15abf268784ce74181bb}} 
\index{fs.c@{fs.c}!bmap@{bmap}}
\index{bmap@{bmap}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{bmap()}{bmap()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} bmap (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structinode}{inode}} $\ast$}]{ip,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{bn }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



fs.\+c 파일의 379 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{380 \{}
\DoxyCodeLine{381   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} addr, *a;}
\DoxyCodeLine{382   \textcolor{keyword}{struct }\mbox{\hyperlink{structbuf}{buf}} *bp;}
\DoxyCodeLine{383   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{384   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} cur;}
\DoxyCodeLine{385   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} len;}
\DoxyCodeLine{386   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} \textcolor{keyword}{new};}
\DoxyCodeLine{387 }
\DoxyCodeLine{388   \textcolor{comment}{/*T\_CS 파일의 데이터 매핑*/}}
\DoxyCodeLine{389   \textcolor{keywordflow}{if} (ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} == \mbox{\hyperlink{stat_8h_a234ef1d69dd84e7134072c05c5b87eaf}{T\_CS}})}
\DoxyCodeLine{390   \{}
\DoxyCodeLine{391     i = 0;}
\DoxyCodeLine{392     cur = 0;}
\DoxyCodeLine{393     \textcolor{comment}{// cprintf("block: \%d\(\backslash\)n", bn);}}
\DoxyCodeLine{394     \textcolor{comment}{/*bmap은 새로운 데이터를 매핑해주는 역할 뿐만 아니라*/}}
\DoxyCodeLine{395     \textcolor{comment}{/*기존 데이터 접근할때도 있는지 체크해준 후 매핑을 해준다.*/}}
\DoxyCodeLine{396     \textcolor{keywordflow}{while} (ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i])}
\DoxyCodeLine{397     \{}
\DoxyCodeLine{398       \textcolor{keywordflow}{if} (i > \mbox{\hyperlink{fs_8h_acd38e9532d4b3623f844b93c012a8e06}{NDIRECT}})}
\DoxyCodeLine{399         \textcolor{keywordflow}{break};}
\DoxyCodeLine{400       \textcolor{comment}{/*addrs[i]는 4바이트인데 3바이트는 주소이고 1바이트는 길이이다*/}}
\DoxyCodeLine{401       \textcolor{comment}{/* 비트 연산으로 \& 255를 해주면 하위 1바이트, 즉 길이를 얻을 수 있다.*/}}
\DoxyCodeLine{402       len = (ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i] \& 255);}
\DoxyCodeLine{403       \textcolor{comment}{/*블럭 넘버 할당*/}}
\DoxyCodeLine{404       \textcolor{comment}{/*T\_CS 파일중에 해당 블럭 넘버가 있는지 체크*/}}
\DoxyCodeLine{405       \textcolor{keywordflow}{if} (bn >= cur \&\& bn < len + cur)}
\DoxyCodeLine{406       \{}
\DoxyCodeLine{407         \textcolor{comment}{/*addrs[i] >> 8 연산을 하면 상위 3바이트, 즉 주소를 얻을 수 있다.*/}}
\DoxyCodeLine{408         addr = (ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i] >> 8) + bn -\/ cur;}
\DoxyCodeLine{409         \textcolor{keywordflow}{return} addr;}
\DoxyCodeLine{410       \}}
\DoxyCodeLine{411       cur += len;}
\DoxyCodeLine{412       i++;}
\DoxyCodeLine{413     \}}
\DoxyCodeLine{414     \textcolor{comment}{// T\_CS인데 마지막 NDIRECT(12번지)를 접근할 경우}}
\DoxyCodeLine{415     \textcolor{keywordflow}{if} (i >= \mbox{\hyperlink{fs_8h_acd38e9532d4b3623f844b93c012a8e06}{NDIRECT}})}
\DoxyCodeLine{416     \{}
\DoxyCodeLine{417       \mbox{\hyperlink{console_8c_a90f0742d846503e4ed1804f1df421ec6}{cprintf}}(\textcolor{stringliteral}{"Excess NDIRECT or Data block!"});}
\DoxyCodeLine{418       \textcolor{comment}{// 혹은 panic으로 에러처리}}
\DoxyCodeLine{419       \textcolor{keywordflow}{return} (ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i -\/ 1] >> 8);}
\DoxyCodeLine{420     \}}
\DoxyCodeLine{421     \textcolor{comment}{/*만약 기존 bn을 찾지 못했을 때? 없을때 새로운 block number을 매핑*/}}
\DoxyCodeLine{422     \textcolor{comment}{// 새로운 블럭 넘버(빈공간) 할당받기}}
\DoxyCodeLine{423     \textcolor{keyword}{new} = \mbox{\hyperlink{fs_8c_a29272227722d57ff937caaffd03455a9}{balloc}}(ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}});}
\DoxyCodeLine{424     len = (ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i -\/ 1] \& 255);}
\DoxyCodeLine{425     \textcolor{comment}{// 새로운 블럭이 연속된 데이터 블럭일 경우}}
\DoxyCodeLine{426     \textcolor{keywordflow}{if} ((\textcolor{keyword}{new} == ((ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i -\/ 1] >> 8) + len) \&\& (ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i -\/ 1] \& 255) < 255))}
\DoxyCodeLine{427       ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i -\/ 1] += 1; \textcolor{comment}{// 길이 추가}}
\DoxyCodeLine{428     \textcolor{keywordflow}{else}}
\DoxyCodeLine{429       ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i] = (\textcolor{keyword}{new} << 8 | 1);}
\DoxyCodeLine{430     \textcolor{keywordflow}{return} \textcolor{keyword}{new};}
\DoxyCodeLine{431   \}}
\DoxyCodeLine{432   \textcolor{comment}{/*일반 파일 bmap*/}}
\DoxyCodeLine{433   \textcolor{keywordflow}{else}}
\DoxyCodeLine{434   \{}
\DoxyCodeLine{435     \textcolor{keywordflow}{if} (bn < \mbox{\hyperlink{fs_8h_acd38e9532d4b3623f844b93c012a8e06}{NDIRECT}})}
\DoxyCodeLine{436     \{}
\DoxyCodeLine{437       \textcolor{keywordflow}{if} ((addr = ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[bn]) == 0)}
\DoxyCodeLine{438         ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[bn] = addr = \mbox{\hyperlink{fs_8c_a29272227722d57ff937caaffd03455a9}{balloc}}(ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}});}
\DoxyCodeLine{439       \textcolor{keywordflow}{return} addr;}
\DoxyCodeLine{440     \}}
\DoxyCodeLine{441     bn -\/= \mbox{\hyperlink{fs_8h_acd38e9532d4b3623f844b93c012a8e06}{NDIRECT}};}
\DoxyCodeLine{442 }
\DoxyCodeLine{443     \textcolor{keywordflow}{if} (bn < \mbox{\hyperlink{fs_8h_a6d24f098ea2928d61ff80b123d761715}{NINDIRECT}})}
\DoxyCodeLine{444     \{}
\DoxyCodeLine{445       \textcolor{comment}{// Load indirect block, allocating if necessary.}}
\DoxyCodeLine{446       \textcolor{keywordflow}{if} ((addr = ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[\mbox{\hyperlink{fs_8h_acd38e9532d4b3623f844b93c012a8e06}{NDIRECT}}]) == 0)}
\DoxyCodeLine{447         ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[\mbox{\hyperlink{fs_8h_acd38e9532d4b3623f844b93c012a8e06}{NDIRECT}}] = addr = \mbox{\hyperlink{fs_8c_a29272227722d57ff937caaffd03455a9}{balloc}}(ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}});}
\DoxyCodeLine{448       bp = \mbox{\hyperlink{bio_8c_ae000984516278965dde3d125affd086c}{bread}}(ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}}, addr);}
\DoxyCodeLine{449       a = (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} *)bp-\/>\mbox{\hyperlink{structbuf_ab0ec38784ab94ed35e575cf6d33912d2}{data}};}
\DoxyCodeLine{450       if ((addr = a[bn]) == 0)}
\DoxyCodeLine{451       \{}
\DoxyCodeLine{452         a[bn] = addr = \mbox{\hyperlink{fs_8c_a29272227722d57ff937caaffd03455a9}{balloc}}(ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}});}
\DoxyCodeLine{453         \mbox{\hyperlink{defs_8h_a270d0050dc50965f4f851717841ad33c}{log\_write}}(bp);}
\DoxyCodeLine{454       \}}
\DoxyCodeLine{455       \mbox{\hyperlink{bio_8c_ab5335aeb503731104314321a78a6d727}{brelse}}(bp);}
\DoxyCodeLine{456       \textcolor{keywordflow}{return} addr;}
\DoxyCodeLine{457     \}}
\DoxyCodeLine{458     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"bmap: out of range"});}
\DoxyCodeLine{459   \}}
\DoxyCodeLine{460 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a965e83e1fa9b15abf268784ce74181bb_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a965e83e1fa9b15abf268784ce74181bb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_ac93f607f4a954323f4c9ea485ca88538}\label{fs_8c_ac93f607f4a954323f4c9ea485ca88538}} 
\index{fs.c@{fs.c}!bzero@{bzero}}
\index{bzero@{bzero}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{bzero()}{bzero()}}
{\footnotesize\ttfamily static void bzero (\begin{DoxyParamCaption}\item[{int}]{dev,  }\item[{int}]{bno }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



fs.\+c 파일의 43 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{44 \{}
\DoxyCodeLine{45   \textcolor{keyword}{struct }\mbox{\hyperlink{structbuf}{buf}} *bp;}
\DoxyCodeLine{46 }
\DoxyCodeLine{47   bp = \mbox{\hyperlink{bio_8c_ae000984516278965dde3d125affd086c}{bread}}(\mbox{\hyperlink{structbuf_ac96082c2b5f22133ac7092ef81487227}{dev}}, bno);}
\DoxyCodeLine{48   \mbox{\hyperlink{defs_8h_a9d55c9f035076ed1a90b6452770d0b62}{memset}}(bp-\/>\mbox{\hyperlink{structbuf_ab0ec38784ab94ed35e575cf6d33912d2}{data}}, 0, \mbox{\hyperlink{fs_8h_a403cf3149c084cea115b85c90721039a}{BSIZE}});}
\DoxyCodeLine{49   \mbox{\hyperlink{defs_8h_a270d0050dc50965f4f851717841ad33c}{log\_write}}(bp);}
\DoxyCodeLine{50   \mbox{\hyperlink{bio_8c_ab5335aeb503731104314321a78a6d727}{brelse}}(bp);}
\DoxyCodeLine{51 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_ac93f607f4a954323f4c9ea485ca88538_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_ac93f607f4a954323f4c9ea485ca88538_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_a69a135a0e8a06d9f306d77ebc0c1f7a0}\label{fs_8c_a69a135a0e8a06d9f306d77ebc0c1f7a0}} 
\index{fs.c@{fs.c}!dirlink@{dirlink}}
\index{dirlink@{dirlink}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{dirlink()}{dirlink()}}
{\footnotesize\ttfamily int dirlink (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structinode}{inode}} $\ast$}]{dp,  }\item[{char $\ast$}]{name,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{inum }\end{DoxyParamCaption})}



fs.\+c 파일의 657 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{658 \{}
\DoxyCodeLine{659   \textcolor{keywordtype}{int} off;}
\DoxyCodeLine{660   \textcolor{keyword}{struct }\mbox{\hyperlink{structdirent}{dirent}} de;}
\DoxyCodeLine{661   \textcolor{keyword}{struct }\mbox{\hyperlink{structinode}{inode}} *ip;}
\DoxyCodeLine{662 }
\DoxyCodeLine{663   \textcolor{comment}{// Check that name is not present.}}
\DoxyCodeLine{664   \textcolor{keywordflow}{if} ((ip = \mbox{\hyperlink{fs_8c_aa182c62fade7a0bae9408830d5e06d4f}{dirlookup}}(dp, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, 0)) != 0)}
\DoxyCodeLine{665   \{}
\DoxyCodeLine{666     \mbox{\hyperlink{fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b}{iput}}(ip);}
\DoxyCodeLine{667     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{668   \}}
\DoxyCodeLine{669 }
\DoxyCodeLine{670   \textcolor{comment}{// Look for an empty dirent.}}
\DoxyCodeLine{671   \textcolor{keywordflow}{for} (off = 0; off < dp-\/>\mbox{\hyperlink{structinode_a918af769c48a8ca8afac057bf83d12de}{size}}; off += \textcolor{keyword}{sizeof}(de))}
\DoxyCodeLine{672   \{}
\DoxyCodeLine{673     \textcolor{keywordflow}{if} (\mbox{\hyperlink{fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8}{readi}}(dp, (\textcolor{keywordtype}{char} *)\&de, off, \textcolor{keyword}{sizeof}(de)) != \textcolor{keyword}{sizeof}(de))}
\DoxyCodeLine{674       \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"dirlink read"});}
\DoxyCodeLine{675     \textcolor{keywordflow}{if} (de.inum == 0)}
\DoxyCodeLine{676       \textcolor{keywordflow}{break};}
\DoxyCodeLine{677   \}}
\DoxyCodeLine{678 }
\DoxyCodeLine{679   \mbox{\hyperlink{defs_8h_afcc0bb831ec06288e3a951e09e8d5b7d}{strncpy}}(de.name, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, \mbox{\hyperlink{fs_8h_a48246fb9e5cb7f6a71ebc9ebc2f06562}{DIRSIZ}});}
\DoxyCodeLine{680   de.inum = \mbox{\hyperlink{structinode_a8acc2b9df0bfc6856da62925763db7fe}{inum}};}
\DoxyCodeLine{681   \textcolor{keywordflow}{if} (\mbox{\hyperlink{fs_8c_a15858f4d8a4cc1def3d84d03c312836b}{writei}}(dp, (\textcolor{keywordtype}{char} *)\&de, off, \textcolor{keyword}{sizeof}(de)) != \textcolor{keyword}{sizeof}(de))}
\DoxyCodeLine{682     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"dirlink"});}
\DoxyCodeLine{683 }
\DoxyCodeLine{684   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{685 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a69a135a0e8a06d9f306d77ebc0c1f7a0_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=327pt]{d2/d5a/fs_8c_a69a135a0e8a06d9f306d77ebc0c1f7a0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_aa182c62fade7a0bae9408830d5e06d4f}\label{fs_8c_aa182c62fade7a0bae9408830d5e06d4f}} 
\index{fs.c@{fs.c}!dirlookup@{dirlookup}}
\index{dirlookup@{dirlookup}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{dirlookup()}{dirlookup()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structinode}{inode}}$\ast$ dirlookup (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structinode}{inode}} $\ast$}]{dp,  }\item[{char $\ast$}]{name,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} $\ast$}]{poff }\end{DoxyParamCaption})}



fs.\+c 파일의 628 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{629 \{}
\DoxyCodeLine{630   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} off, \mbox{\hyperlink{structinode_a8acc2b9df0bfc6856da62925763db7fe}{inum}};}
\DoxyCodeLine{631   \textcolor{keyword}{struct }\mbox{\hyperlink{structdirent}{dirent}} de;}
\DoxyCodeLine{632 }
\DoxyCodeLine{633   \textcolor{keywordflow}{if} (dp-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} != \mbox{\hyperlink{stat_8h_a91136bcd71a9f499304f5d7e7e9d6376}{T\_DIR}})}
\DoxyCodeLine{634     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"dirlookup not DIR"});}
\DoxyCodeLine{635 }
\DoxyCodeLine{636   \textcolor{keywordflow}{for} (off = 0; off < dp-\/>\mbox{\hyperlink{structinode_a918af769c48a8ca8afac057bf83d12de}{size}}; off += \textcolor{keyword}{sizeof}(de))}
\DoxyCodeLine{637   \{}
\DoxyCodeLine{638 }
\DoxyCodeLine{639     \textcolor{keywordflow}{if} (\mbox{\hyperlink{fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8}{readi}}(dp, (\textcolor{keywordtype}{char} *)\&de, off, \textcolor{keyword}{sizeof}(de)) != \textcolor{keyword}{sizeof}(de))}
\DoxyCodeLine{640       \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"dirlookup read"});}
\DoxyCodeLine{641     \textcolor{keywordflow}{if} (de.inum == 0)}
\DoxyCodeLine{642       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{643     \textcolor{keywordflow}{if} (\mbox{\hyperlink{fs_8c_ae74f6e5b19a4e7f3e72807ee67141819}{namecmp}}(\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, de.name) == 0)}
\DoxyCodeLine{644     \{}
\DoxyCodeLine{645       \textcolor{comment}{// entry matches path element}}
\DoxyCodeLine{646       \textcolor{keywordflow}{if} (poff)}
\DoxyCodeLine{647         *poff = off;}
\DoxyCodeLine{648       \mbox{\hyperlink{structdirent_a68698c303a46d2a34232a2226629ac79}{inum}} = de.inum;}
\DoxyCodeLine{649       \textcolor{keywordflow}{return} \mbox{\hyperlink{fs_8c_aa574143402896986fe315a0c2749fffa}{iget}}(dp-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}}, \mbox{\hyperlink{structdirent_a68698c303a46d2a34232a2226629ac79}{inum}});}
\DoxyCodeLine{650     \}}
\DoxyCodeLine{651   \}}
\DoxyCodeLine{652 }
\DoxyCodeLine{653   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{654 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_aa182c62fade7a0bae9408830d5e06d4f_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_aa182c62fade7a0bae9408830d5e06d4f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_adb360ce0b70a32d19d089fba4cd91293}\label{fs_8c_adb360ce0b70a32d19d089fba4cd91293}} 
\index{fs.c@{fs.c}!ialloc@{ialloc}}
\index{ialloc@{ialloc}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{ialloc()}{ialloc()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structinode}{inode}}$\ast$ ialloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{dev,  }\item[{short}]{type }\end{DoxyParamCaption})}



fs.\+c 파일의 200 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{201 \{}
\DoxyCodeLine{202   \textcolor{keywordtype}{int} \mbox{\hyperlink{structdirent_a68698c303a46d2a34232a2226629ac79}{inum}};}
\DoxyCodeLine{203   \textcolor{keyword}{struct }\mbox{\hyperlink{structbuf}{buf}} *bp;}
\DoxyCodeLine{204   \textcolor{keyword}{struct }\mbox{\hyperlink{structdinode}{dinode}} *dip;}
\DoxyCodeLine{205 }
\DoxyCodeLine{206   \textcolor{keywordflow}{for} (inum = 1; inum < \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}.\mbox{\hyperlink{structsuperblock_a355d2a1ebdc51f80820c23e69363cf42}{ninodes}}; inum++)}
\DoxyCodeLine{207   \{}
\DoxyCodeLine{208     bp = \mbox{\hyperlink{bio_8c_ae000984516278965dde3d125affd086c}{bread}}(dev, \mbox{\hyperlink{fs_8h_ac9a5b990015f0f86e5d4c6b21d38ffa0}{IBLOCK}}(inum, \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}));}
\DoxyCodeLine{209     dip = (\textcolor{keyword}{struct }\mbox{\hyperlink{structdinode}{dinode}} *)bp-\/>\mbox{\hyperlink{structbuf_ab0ec38784ab94ed35e575cf6d33912d2}{data}} + inum \% \mbox{\hyperlink{fs_8h_aadb6c866a6d0a173f5f0a6ed9c7e0228}{IPB}};}
\DoxyCodeLine{210     if (dip-\/>\mbox{\hyperlink{structdinode_abf6b2a8476a803284f1c927fb3b82259}{type}} == 0)}
\DoxyCodeLine{211     \{ \textcolor{comment}{// a free inode}}
\DoxyCodeLine{212       \mbox{\hyperlink{defs_8h_a9d55c9f035076ed1a90b6452770d0b62}{memset}}(dip, 0, \textcolor{keyword}{sizeof}(*dip));}
\DoxyCodeLine{213       dip-\/>\mbox{\hyperlink{structdinode_abf6b2a8476a803284f1c927fb3b82259}{type}} = \mbox{\hyperlink{structdinode_abf6b2a8476a803284f1c927fb3b82259}{type}};}
\DoxyCodeLine{214       \mbox{\hyperlink{defs_8h_a270d0050dc50965f4f851717841ad33c}{log\_write}}(bp); \textcolor{comment}{// mark it allocated on the disk}}
\DoxyCodeLine{215       \mbox{\hyperlink{bio_8c_ab5335aeb503731104314321a78a6d727}{brelse}}(bp);}
\DoxyCodeLine{216       \textcolor{keywordflow}{return} \mbox{\hyperlink{fs_8c_aa574143402896986fe315a0c2749fffa}{iget}}(dev, inum);}
\DoxyCodeLine{217     \}}
\DoxyCodeLine{218     \mbox{\hyperlink{bio_8c_ab5335aeb503731104314321a78a6d727}{brelse}}(bp);}
\DoxyCodeLine{219   \}}
\DoxyCodeLine{220   \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"ialloc: no inodes"});}
\DoxyCodeLine{221 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_adb360ce0b70a32d19d089fba4cd91293_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=314pt]{d2/d5a/fs_8c_adb360ce0b70a32d19d089fba4cd91293_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_a6b41577cc09b2a009be8f84bfb500079}\label{fs_8c_a6b41577cc09b2a009be8f84bfb500079}} 
\index{fs.c@{fs.c}!idup@{idup}}
\index{idup@{idup}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{idup()}{idup()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structinode}{inode}}$\ast$ idup (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structinode}{inode}} $\ast$}]{ip }\end{DoxyParamCaption})}



fs.\+c 파일의 284 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{285 \{}
\DoxyCodeLine{286   \mbox{\hyperlink{defs_8h_afe4ef8638f1ecb962a6e67fb086ee3b8}{acquire}}(\&\mbox{\hyperlink{fs_8c_a5a78db4f7c856337d906f0606b19bff5}{icache}}.lock);}
\DoxyCodeLine{287   ip-\/>\mbox{\hyperlink{structinode_a6a519028ee67f805482b3e1725bf09c5}{ref}}++;}
\DoxyCodeLine{288   \mbox{\hyperlink{defs_8h_a4f8616948f3dbce65671f666eed1d669}{release}}(\&\mbox{\hyperlink{fs_8c_a5a78db4f7c856337d906f0606b19bff5}{icache}}.lock);}
\DoxyCodeLine{289   \textcolor{keywordflow}{return} ip;}
\DoxyCodeLine{290 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a6b41577cc09b2a009be8f84bfb500079_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a6b41577cc09b2a009be8f84bfb500079_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_aa574143402896986fe315a0c2749fffa}\label{fs_8c_aa574143402896986fe315a0c2749fffa}} 
\index{fs.c@{fs.c}!iget@{iget}}
\index{iget@{iget}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{iget()}{iget()}}
{\footnotesize\ttfamily static struct \mbox{\hyperlink{structinode}{inode}} $\ast$ iget (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{dev,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{inum }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



fs.\+c 파일의 248 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{249 \{}
\DoxyCodeLine{250   \textcolor{keyword}{struct }\mbox{\hyperlink{structinode}{inode}} *ip, *empty;}
\DoxyCodeLine{251 }
\DoxyCodeLine{252   \mbox{\hyperlink{defs_8h_afe4ef8638f1ecb962a6e67fb086ee3b8}{acquire}}(\&\mbox{\hyperlink{fs_8c_a5a78db4f7c856337d906f0606b19bff5}{icache}}.lock);}
\DoxyCodeLine{253 }
\DoxyCodeLine{254   \textcolor{comment}{// Is the inode already cached?}}
\DoxyCodeLine{255   empty = 0;}
\DoxyCodeLine{256   \textcolor{keywordflow}{for} (ip = \&\mbox{\hyperlink{fs_8c_a5a78db4f7c856337d906f0606b19bff5}{icache}}.inode[0]; ip < \&\mbox{\hyperlink{fs_8c_a5a78db4f7c856337d906f0606b19bff5}{icache}}.inode[\mbox{\hyperlink{param_8h_adabafa10c7951be7c875cd2ee212be85}{NINODE}}]; ip++)}
\DoxyCodeLine{257   \{}
\DoxyCodeLine{258     \textcolor{keywordflow}{if} (ip-\/>\mbox{\hyperlink{structinode_a6a519028ee67f805482b3e1725bf09c5}{ref}} > 0 \&\& ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}} == \mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}} \&\& ip-\/>\mbox{\hyperlink{structinode_a8acc2b9df0bfc6856da62925763db7fe}{inum}} == \mbox{\hyperlink{structinode_a8acc2b9df0bfc6856da62925763db7fe}{inum}})}
\DoxyCodeLine{259     \{}
\DoxyCodeLine{260       ip-\/>\mbox{\hyperlink{structinode_a6a519028ee67f805482b3e1725bf09c5}{ref}}++;}
\DoxyCodeLine{261       \mbox{\hyperlink{defs_8h_a4f8616948f3dbce65671f666eed1d669}{release}}(\&\mbox{\hyperlink{fs_8c_a5a78db4f7c856337d906f0606b19bff5}{icache}}.lock);}
\DoxyCodeLine{262       \textcolor{keywordflow}{return} ip;}
\DoxyCodeLine{263     \}}
\DoxyCodeLine{264     \textcolor{keywordflow}{if} (empty == 0 \&\& ip-\/>\mbox{\hyperlink{structinode_a6a519028ee67f805482b3e1725bf09c5}{ref}} == 0) \textcolor{comment}{// Remember empty slot.}}
\DoxyCodeLine{265       empty = ip;}
\DoxyCodeLine{266   \}}
\DoxyCodeLine{267 }
\DoxyCodeLine{268   \textcolor{comment}{// Recycle an inode cache entry.}}
\DoxyCodeLine{269   \textcolor{keywordflow}{if} (empty == 0)}
\DoxyCodeLine{270     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"iget: no inodes"});}
\DoxyCodeLine{271 }
\DoxyCodeLine{272   ip = empty;}
\DoxyCodeLine{273   ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}} = \mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}};}
\DoxyCodeLine{274   ip-\/>\mbox{\hyperlink{structinode_a8acc2b9df0bfc6856da62925763db7fe}{inum}} = \mbox{\hyperlink{structinode_a8acc2b9df0bfc6856da62925763db7fe}{inum}};}
\DoxyCodeLine{275   ip-\/>\mbox{\hyperlink{structinode_a6a519028ee67f805482b3e1725bf09c5}{ref}} = 1;}
\DoxyCodeLine{276   ip-\/>\mbox{\hyperlink{structinode_aad324382ba30eb83daa5304fce7dca08}{valid}} = 0;}
\DoxyCodeLine{277   \mbox{\hyperlink{defs_8h_a4f8616948f3dbce65671f666eed1d669}{release}}(\&\mbox{\hyperlink{fs_8c_a5a78db4f7c856337d906f0606b19bff5}{icache}}.lock);}
\DoxyCodeLine{278   \textcolor{keywordflow}{return} ip;}
\DoxyCodeLine{279 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_aa574143402896986fe315a0c2749fffa_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_aa574143402896986fe315a0c2749fffa_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_a301761a27cf266e0bad483272fb31a3c}\label{fs_8c_a301761a27cf266e0bad483272fb31a3c}} 
\index{fs.c@{fs.c}!iinit@{iinit}}
\index{iinit@{iinit}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{iinit()}{iinit()}}
{\footnotesize\ttfamily void iinit (\begin{DoxyParamCaption}\item[{int}]{dev }\end{DoxyParamCaption})}



fs.\+c 파일의 175 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{176 \{}
\DoxyCodeLine{177   \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{178 }
\DoxyCodeLine{179   \mbox{\hyperlink{defs_8h_ab56d728e6966819a0260c358d3ac3419}{initlock}}(\&\mbox{\hyperlink{fs_8c_a5a78db4f7c856337d906f0606b19bff5}{icache}}.lock, \textcolor{stringliteral}{"icache"});}
\DoxyCodeLine{180   \textcolor{keywordflow}{for} (i = 0; i < \mbox{\hyperlink{param_8h_adabafa10c7951be7c875cd2ee212be85}{NINODE}}; i++)}
\DoxyCodeLine{181   \{}
\DoxyCodeLine{182     \mbox{\hyperlink{defs_8h_af5ca8072e3877a883fb34ce59eff88cb}{initsleeplock}}(\&\mbox{\hyperlink{fs_8c_a5a78db4f7c856337d906f0606b19bff5}{icache}}.inode[i].lock, \textcolor{stringliteral}{"inode"});}
\DoxyCodeLine{183   \}}
\DoxyCodeLine{184 }
\DoxyCodeLine{185   \mbox{\hyperlink{fs_8c_aff0080b2133027be2e525ca088b40e78}{readsb}}(\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}}, \&\mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}});}
\DoxyCodeLine{186   \mbox{\hyperlink{console_8c_a90f0742d846503e4ed1804f1df421ec6}{cprintf}}(\textcolor{stringliteral}{"sb: size \%d nblocks \%d ninodes \%d nlog \%d logstart \%d\(\backslash\)}}
\DoxyCodeLine{187 \textcolor{stringliteral}{ inodestart \%d bmap start \%d\(\backslash\)n"},}
\DoxyCodeLine{188           \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}.\mbox{\hyperlink{structsuperblock_a7c6e4d6da139ecee74eb7816d5d44fa6}{size}}, \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}.\mbox{\hyperlink{structsuperblock_a2a27a7cfb54689f0e1dcd1788d049218}{nblocks}},}
\DoxyCodeLine{189           \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}.\mbox{\hyperlink{structsuperblock_a355d2a1ebdc51f80820c23e69363cf42}{ninodes}}, \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}.\mbox{\hyperlink{structsuperblock_aea92ae872785fd4fb39b903d9157aac5}{nlog}}, \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}.\mbox{\hyperlink{structsuperblock_a460268b28aced19797e8d7b84aa60ebf}{logstart}}, \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}.\mbox{\hyperlink{structsuperblock_adde361528f3905445974301b424611c1}{inodestart}},}
\DoxyCodeLine{190           \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}.\mbox{\hyperlink{structsuperblock_a3c815dda5be6bda609389e76434171cc}{bmapstart}});}
\DoxyCodeLine{191 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a301761a27cf266e0bad483272fb31a3c_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a301761a27cf266e0bad483272fb31a3c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_aed28187406d84a3aa71f10c6235a03ec}\label{fs_8c_aed28187406d84a3aa71f10c6235a03ec}} 
\index{fs.c@{fs.c}!ilock@{ilock}}
\index{ilock@{ilock}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{ilock()}{ilock()}}
{\footnotesize\ttfamily void ilock (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structinode}{inode}} $\ast$}]{ip }\end{DoxyParamCaption})}



fs.\+c 파일의 294 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{295 \{}
\DoxyCodeLine{296   \textcolor{keyword}{struct }\mbox{\hyperlink{structbuf}{buf}} *bp;}
\DoxyCodeLine{297   \textcolor{keyword}{struct }\mbox{\hyperlink{structdinode}{dinode}} *dip;}
\DoxyCodeLine{298 }
\DoxyCodeLine{299   \textcolor{keywordflow}{if} (ip == 0 || ip-\/>\mbox{\hyperlink{structinode_a6a519028ee67f805482b3e1725bf09c5}{ref}} < 1)}
\DoxyCodeLine{300     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"ilock"});}
\DoxyCodeLine{301 }
\DoxyCodeLine{302   \mbox{\hyperlink{defs_8h_aecd4639fe2f9aaad8e8cee2b5e0688c3}{acquiresleep}}(\&ip-\/>\mbox{\hyperlink{structinode_a46bad0e938fbd348ac02bdef0c8d6215}{lock}});}
\DoxyCodeLine{303 }
\DoxyCodeLine{304   \textcolor{keywordflow}{if} (ip-\/>\mbox{\hyperlink{structinode_aad324382ba30eb83daa5304fce7dca08}{valid}} == 0)}
\DoxyCodeLine{305   \{}
\DoxyCodeLine{306     bp = \mbox{\hyperlink{bio_8c_ae000984516278965dde3d125affd086c}{bread}}(ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}}, \mbox{\hyperlink{fs_8h_ac9a5b990015f0f86e5d4c6b21d38ffa0}{IBLOCK}}(ip-\/>\mbox{\hyperlink{structinode_a8acc2b9df0bfc6856da62925763db7fe}{inum}}, \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}));}
\DoxyCodeLine{307     dip = (\textcolor{keyword}{struct }\mbox{\hyperlink{structdinode}{dinode}} *)bp-\/>\mbox{\hyperlink{structbuf_ab0ec38784ab94ed35e575cf6d33912d2}{data}} + ip-\/>\mbox{\hyperlink{structinode_a8acc2b9df0bfc6856da62925763db7fe}{inum}} \% \mbox{\hyperlink{fs_8h_aadb6c866a6d0a173f5f0a6ed9c7e0228}{IPB}};}
\DoxyCodeLine{308     ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} = dip-\/>\mbox{\hyperlink{structdinode_abf6b2a8476a803284f1c927fb3b82259}{type}};}
\DoxyCodeLine{309     ip-\/>\mbox{\hyperlink{structinode_a34af7242018a977dace5730683850875}{major}} = dip-\/>\mbox{\hyperlink{structdinode_aca8272002020f48219df175c986db257}{major}};}
\DoxyCodeLine{310     ip-\/>\mbox{\hyperlink{structinode_a37878866e7905b666db2aa33076076a2}{minor}} = dip-\/>\mbox{\hyperlink{structdinode_ae97965f85e7353313f85035e8fc63495}{minor}};}
\DoxyCodeLine{311     ip-\/>\mbox{\hyperlink{structinode_af8b88b409bea7ef99c49a55f387538b2}{nlink}} = dip-\/>\mbox{\hyperlink{structdinode_a105562253b461c11413c9a229ef15358}{nlink}};}
\DoxyCodeLine{312     ip-\/>\mbox{\hyperlink{structinode_a918af769c48a8ca8afac057bf83d12de}{size}} = dip-\/>\mbox{\hyperlink{structdinode_a990ad8ddf5f8c051fbbe95cf550d2164}{size}};}
\DoxyCodeLine{313     \mbox{\hyperlink{defs_8h_aa9c8577c0e9d233f85892ec2d9bfe212}{memmove}}(ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}, dip-\/>\mbox{\hyperlink{structdinode_a705729b3a39c10c0ba6927fc5e4e0563}{addrs}}, \textcolor{keyword}{sizeof}(ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}));}
\DoxyCodeLine{314     \mbox{\hyperlink{bio_8c_ab5335aeb503731104314321a78a6d727}{brelse}}(bp);}
\DoxyCodeLine{315     ip-\/>\mbox{\hyperlink{structinode_aad324382ba30eb83daa5304fce7dca08}{valid}} = 1;}
\DoxyCodeLine{316     \textcolor{keywordflow}{if} (ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} == 0)}
\DoxyCodeLine{317       \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"ilock: no type"});}
\DoxyCodeLine{318   \}}
\DoxyCodeLine{319 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_aed28187406d84a3aa71f10c6235a03ec_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_aed28187406d84a3aa71f10c6235a03ec_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b}\label{fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b}} 
\index{fs.c@{fs.c}!iput@{iput}}
\index{iput@{iput}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{iput()}{iput()}}
{\footnotesize\ttfamily void iput (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structinode}{inode}} $\ast$}]{ip }\end{DoxyParamCaption})}



fs.\+c 파일의 337 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{338 \{}
\DoxyCodeLine{339   \mbox{\hyperlink{defs_8h_aecd4639fe2f9aaad8e8cee2b5e0688c3}{acquiresleep}}(\&ip-\/>\mbox{\hyperlink{structinode_a46bad0e938fbd348ac02bdef0c8d6215}{lock}});}
\DoxyCodeLine{340   \textcolor{keywordflow}{if} (ip-\/>\mbox{\hyperlink{structinode_aad324382ba30eb83daa5304fce7dca08}{valid}} \&\& ip-\/>\mbox{\hyperlink{structinode_af8b88b409bea7ef99c49a55f387538b2}{nlink}} == 0)}
\DoxyCodeLine{341   \{}
\DoxyCodeLine{342     \mbox{\hyperlink{defs_8h_afe4ef8638f1ecb962a6e67fb086ee3b8}{acquire}}(\&\mbox{\hyperlink{fs_8c_a5a78db4f7c856337d906f0606b19bff5}{icache}}.lock);}
\DoxyCodeLine{343     \textcolor{keywordtype}{int} \mbox{\hyperlink{console_8c_af10fa12dd785c91e29528fbdc50cf9af}{r}} = ip-\/>\mbox{\hyperlink{structinode_a6a519028ee67f805482b3e1725bf09c5}{ref}};}
\DoxyCodeLine{344     \mbox{\hyperlink{defs_8h_a4f8616948f3dbce65671f666eed1d669}{release}}(\&\mbox{\hyperlink{fs_8c_a5a78db4f7c856337d906f0606b19bff5}{icache}}.lock);}
\DoxyCodeLine{345     \textcolor{keywordflow}{if} (\mbox{\hyperlink{console_8c_af10fa12dd785c91e29528fbdc50cf9af}{r}} == 1)}
\DoxyCodeLine{346     \{}
\DoxyCodeLine{347       \textcolor{comment}{// inode has no links and no other references: truncate and free.}}
\DoxyCodeLine{348       \mbox{\hyperlink{fs_8c_a7c42ba96035fb59aef87372552b1a661}{itrunc}}(ip);}
\DoxyCodeLine{349       ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} = 0;}
\DoxyCodeLine{350       \mbox{\hyperlink{fs_8c_a7220afa8e5f4bea540eb95879ea7df6e}{iupdate}}(ip);}
\DoxyCodeLine{351       ip-\/>\mbox{\hyperlink{structinode_aad324382ba30eb83daa5304fce7dca08}{valid}} = 0;}
\DoxyCodeLine{352     \}}
\DoxyCodeLine{353   \}}
\DoxyCodeLine{354   \mbox{\hyperlink{defs_8h_a840b479c87b1c047d7142f58e0ad0b27}{releasesleep}}(\&ip-\/>\mbox{\hyperlink{structinode_a46bad0e938fbd348ac02bdef0c8d6215}{lock}});}
\DoxyCodeLine{355 }
\DoxyCodeLine{356   \mbox{\hyperlink{defs_8h_afe4ef8638f1ecb962a6e67fb086ee3b8}{acquire}}(\&\mbox{\hyperlink{fs_8c_a5a78db4f7c856337d906f0606b19bff5}{icache}}.lock);}
\DoxyCodeLine{357   ip-\/>\mbox{\hyperlink{structinode_a6a519028ee67f805482b3e1725bf09c5}{ref}}-\/-\/;}
\DoxyCodeLine{358   \mbox{\hyperlink{defs_8h_a4f8616948f3dbce65671f666eed1d669}{release}}(\&\mbox{\hyperlink{fs_8c_a5a78db4f7c856337d906f0606b19bff5}{icache}}.lock);}
\DoxyCodeLine{359 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_a7c42ba96035fb59aef87372552b1a661}\label{fs_8c_a7c42ba96035fb59aef87372552b1a661}} 
\index{fs.c@{fs.c}!itrunc@{itrunc}}
\index{itrunc@{itrunc}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{itrunc()}{itrunc()}}
{\footnotesize\ttfamily static void itrunc (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structinode}{inode}} $\ast$}]{ip }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



fs.\+c 파일의 468 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{469 \{}
\DoxyCodeLine{470   \textcolor{keywordtype}{int} i, j;}
\DoxyCodeLine{471   \textcolor{keyword}{struct }\mbox{\hyperlink{structbuf}{buf}} *bp;}
\DoxyCodeLine{472   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} *a;}
\DoxyCodeLine{473   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} len;}
\DoxyCodeLine{474 }
\DoxyCodeLine{475   \textcolor{comment}{/*T\_CS 파일 일 경우는 삭제 방법이 다르다.*/}}
\DoxyCodeLine{476   \textcolor{comment}{/*길이만큼 읽어서 해당 길이만큼 데이터 블럭들을 해제 시켜줘야함*/}}
\DoxyCodeLine{477   \textcolor{keywordflow}{if} (ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} == \mbox{\hyperlink{stat_8h_a234ef1d69dd84e7134072c05c5b87eaf}{T\_CS}})}
\DoxyCodeLine{478   \{}
\DoxyCodeLine{479     \textcolor{keywordflow}{for} (i = 0; i < \mbox{\hyperlink{fs_8h_acd38e9532d4b3623f844b93c012a8e06}{NDIRECT}}; i++)}
\DoxyCodeLine{480     \{}
\DoxyCodeLine{481       \textcolor{comment}{/*addr[i]가 매핑 되었을 경우, 해당 데이터의 길이를 읽고 그 길이만큼 데이터 블록 해제를 시켜준다.*/}}
\DoxyCodeLine{482       \textcolor{keywordflow}{if} (ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i])}
\DoxyCodeLine{483       \{}
\DoxyCodeLine{484         len = (ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i] \& 255);}
\DoxyCodeLine{485         \textcolor{keywordflow}{for} (j = 0; j < len; j++)}
\DoxyCodeLine{486         \{}
\DoxyCodeLine{487           \mbox{\hyperlink{fs_8c_a2800a4b570ae39363cec0613dac92fd7}{bfree}}(ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}}, (ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i] >> 8) + j);}
\DoxyCodeLine{488         \}}
\DoxyCodeLine{489         ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i] = 0;}
\DoxyCodeLine{490       \}}
\DoxyCodeLine{491     \}}
\DoxyCodeLine{492     \textcolor{keywordflow}{return};}
\DoxyCodeLine{493   \}}
\DoxyCodeLine{494   \textcolor{comment}{/*일반 파일의 삭제*/}}
\DoxyCodeLine{495   \textcolor{keywordflow}{for} (i = 0; i < \mbox{\hyperlink{fs_8h_acd38e9532d4b3623f844b93c012a8e06}{NDIRECT}}; i++)}
\DoxyCodeLine{496   \{}
\DoxyCodeLine{497     \textcolor{keywordflow}{if} (ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i])}
\DoxyCodeLine{498     \{}
\DoxyCodeLine{499       \mbox{\hyperlink{fs_8c_a2800a4b570ae39363cec0613dac92fd7}{bfree}}(ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}}, ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i]);}
\DoxyCodeLine{500       ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i] = 0;}
\DoxyCodeLine{501     \}}
\DoxyCodeLine{502   \}}
\DoxyCodeLine{503 }
\DoxyCodeLine{504   \textcolor{keywordflow}{if} (ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[\mbox{\hyperlink{fs_8h_acd38e9532d4b3623f844b93c012a8e06}{NDIRECT}}])}
\DoxyCodeLine{505   \{}
\DoxyCodeLine{506     bp = \mbox{\hyperlink{bio_8c_ae000984516278965dde3d125affd086c}{bread}}(ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}}, ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[\mbox{\hyperlink{fs_8h_acd38e9532d4b3623f844b93c012a8e06}{NDIRECT}}]);}
\DoxyCodeLine{507     a = (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} *)bp-\/>\mbox{\hyperlink{structbuf_ab0ec38784ab94ed35e575cf6d33912d2}{data}};}
\DoxyCodeLine{508     for (j = 0; j < \mbox{\hyperlink{fs_8h_a6d24f098ea2928d61ff80b123d761715}{NINDIRECT}}; j++)}
\DoxyCodeLine{509     \{}
\DoxyCodeLine{510       \textcolor{keywordflow}{if} (a[j])}
\DoxyCodeLine{511         \mbox{\hyperlink{fs_8c_a2800a4b570ae39363cec0613dac92fd7}{bfree}}(ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}}, a[j]);}
\DoxyCodeLine{512     \}}
\DoxyCodeLine{513     \mbox{\hyperlink{bio_8c_ab5335aeb503731104314321a78a6d727}{brelse}}(bp);}
\DoxyCodeLine{514     \mbox{\hyperlink{fs_8c_a2800a4b570ae39363cec0613dac92fd7}{bfree}}(ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}}, ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[\mbox{\hyperlink{fs_8h_acd38e9532d4b3623f844b93c012a8e06}{NDIRECT}}]);}
\DoxyCodeLine{515     ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[\mbox{\hyperlink{fs_8h_acd38e9532d4b3623f844b93c012a8e06}{NDIRECT}}] = 0;}
\DoxyCodeLine{516   \}}
\DoxyCodeLine{517 }
\DoxyCodeLine{518   ip-\/>\mbox{\hyperlink{structinode_a918af769c48a8ca8afac057bf83d12de}{size}} = 0;}
\DoxyCodeLine{519   \mbox{\hyperlink{fs_8c_a7220afa8e5f4bea540eb95879ea7df6e}{iupdate}}(ip);}
\DoxyCodeLine{520 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a7c42ba96035fb59aef87372552b1a661_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a7c42ba96035fb59aef87372552b1a661_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_ae4e29916219b9293b37f9c34220694fe}\label{fs_8c_ae4e29916219b9293b37f9c34220694fe}} 
\index{fs.c@{fs.c}!iunlock@{iunlock}}
\index{iunlock@{iunlock}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{iunlock()}{iunlock()}}
{\footnotesize\ttfamily void iunlock (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structinode}{inode}} $\ast$}]{ip }\end{DoxyParamCaption})}



fs.\+c 파일의 322 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{323 \{}
\DoxyCodeLine{324   \textcolor{keywordflow}{if} (ip == 0 || !\mbox{\hyperlink{defs_8h_afa76133bc67c6026376d630da9b53b68}{holdingsleep}}(\&ip-\/>\mbox{\hyperlink{structinode_a46bad0e938fbd348ac02bdef0c8d6215}{lock}}) || ip-\/>\mbox{\hyperlink{structinode_a6a519028ee67f805482b3e1725bf09c5}{ref}} < 1)}
\DoxyCodeLine{325     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"iunlock"});}
\DoxyCodeLine{326 }
\DoxyCodeLine{327   \mbox{\hyperlink{defs_8h_a840b479c87b1c047d7142f58e0ad0b27}{releasesleep}}(\&ip-\/>\mbox{\hyperlink{structinode_a46bad0e938fbd348ac02bdef0c8d6215}{lock}});}
\DoxyCodeLine{328 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_ae4e29916219b9293b37f9c34220694fe_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_ae4e29916219b9293b37f9c34220694fe_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_a207b3008bae35596c55ec7c4fc6875eb}\label{fs_8c_a207b3008bae35596c55ec7c4fc6875eb}} 
\index{fs.c@{fs.c}!iunlockput@{iunlockput}}
\index{iunlockput@{iunlockput}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{iunlockput()}{iunlockput()}}
{\footnotesize\ttfamily void iunlockput (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structinode}{inode}} $\ast$}]{ip }\end{DoxyParamCaption})}



fs.\+c 파일의 362 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{363 \{}
\DoxyCodeLine{364   \mbox{\hyperlink{fs_8c_ae4e29916219b9293b37f9c34220694fe}{iunlock}}(ip);}
\DoxyCodeLine{365   \mbox{\hyperlink{fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b}{iput}}(ip);}
\DoxyCodeLine{366 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a207b3008bae35596c55ec7c4fc6875eb_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a207b3008bae35596c55ec7c4fc6875eb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_a7220afa8e5f4bea540eb95879ea7df6e}\label{fs_8c_a7220afa8e5f4bea540eb95879ea7df6e}} 
\index{fs.c@{fs.c}!iupdate@{iupdate}}
\index{iupdate@{iupdate}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{iupdate()}{iupdate()}}
{\footnotesize\ttfamily void iupdate (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structinode}{inode}} $\ast$}]{ip }\end{DoxyParamCaption})}



fs.\+c 파일의 227 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{228 \{}
\DoxyCodeLine{229   \textcolor{keyword}{struct }\mbox{\hyperlink{structbuf}{buf}} *bp;}
\DoxyCodeLine{230   \textcolor{keyword}{struct }\mbox{\hyperlink{structdinode}{dinode}} *dip;}
\DoxyCodeLine{231 }
\DoxyCodeLine{232   bp = \mbox{\hyperlink{bio_8c_ae000984516278965dde3d125affd086c}{bread}}(ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}}, \mbox{\hyperlink{fs_8h_ac9a5b990015f0f86e5d4c6b21d38ffa0}{IBLOCK}}(ip-\/>\mbox{\hyperlink{structinode_a8acc2b9df0bfc6856da62925763db7fe}{inum}}, \mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}));}
\DoxyCodeLine{233   dip = (\textcolor{keyword}{struct }\mbox{\hyperlink{structdinode}{dinode}} *)bp-\/>\mbox{\hyperlink{structbuf_ab0ec38784ab94ed35e575cf6d33912d2}{data}} + ip-\/>\mbox{\hyperlink{structinode_a8acc2b9df0bfc6856da62925763db7fe}{inum}} \% \mbox{\hyperlink{fs_8h_aadb6c866a6d0a173f5f0a6ed9c7e0228}{IPB}};}
\DoxyCodeLine{234   dip-\/>\mbox{\hyperlink{structdinode_abf6b2a8476a803284f1c927fb3b82259}{type}} = ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}};}
\DoxyCodeLine{235   dip-\/>\mbox{\hyperlink{structdinode_aca8272002020f48219df175c986db257}{major}} = ip-\/>\mbox{\hyperlink{structinode_a34af7242018a977dace5730683850875}{major}};}
\DoxyCodeLine{236   dip-\/>\mbox{\hyperlink{structdinode_ae97965f85e7353313f85035e8fc63495}{minor}} = ip-\/>\mbox{\hyperlink{structinode_a37878866e7905b666db2aa33076076a2}{minor}};}
\DoxyCodeLine{237   dip-\/>\mbox{\hyperlink{structdinode_a105562253b461c11413c9a229ef15358}{nlink}} = ip-\/>\mbox{\hyperlink{structinode_af8b88b409bea7ef99c49a55f387538b2}{nlink}};}
\DoxyCodeLine{238   dip-\/>\mbox{\hyperlink{structdinode_a990ad8ddf5f8c051fbbe95cf550d2164}{size}} = ip-\/>\mbox{\hyperlink{structinode_a918af769c48a8ca8afac057bf83d12de}{size}};}
\DoxyCodeLine{239   \mbox{\hyperlink{defs_8h_aa9c8577c0e9d233f85892ec2d9bfe212}{memmove}}(dip-\/>\mbox{\hyperlink{structdinode_a705729b3a39c10c0ba6927fc5e4e0563}{addrs}}, ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}, \textcolor{keyword}{sizeof}(ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}));}
\DoxyCodeLine{240   \mbox{\hyperlink{defs_8h_a270d0050dc50965f4f851717841ad33c}{log\_write}}(bp);}
\DoxyCodeLine{241   \mbox{\hyperlink{bio_8c_ab5335aeb503731104314321a78a6d727}{brelse}}(bp);}
\DoxyCodeLine{242 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a7220afa8e5f4bea540eb95879ea7df6e_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a7220afa8e5f4bea540eb95879ea7df6e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_ae74f6e5b19a4e7f3e72807ee67141819}\label{fs_8c_ae74f6e5b19a4e7f3e72807ee67141819}} 
\index{fs.c@{fs.c}!namecmp@{namecmp}}
\index{namecmp@{namecmp}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{namecmp()}{namecmp()}}
{\footnotesize\ttfamily int namecmp (\begin{DoxyParamCaption}\item[{const char $\ast$}]{s,  }\item[{const char $\ast$}]{t }\end{DoxyParamCaption})}



fs.\+c 파일의 620 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{621 \{}
\DoxyCodeLine{622   \textcolor{keywordflow}{return} \mbox{\hyperlink{defs_8h_a27e878168063a98eae64b4273dcf33cc}{strncmp}}(s, t, \mbox{\hyperlink{fs_8h_a48246fb9e5cb7f6a71ebc9ebc2f06562}{DIRSIZ}});}
\DoxyCodeLine{623 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=237pt]{d2/d5a/fs_8c_ae74f6e5b19a4e7f3e72807ee67141819_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_ae74f6e5b19a4e7f3e72807ee67141819_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_a9baba030d5bc6e9e20cf8b7d181edf35}\label{fs_8c_a9baba030d5bc6e9e20cf8b7d181edf35}} 
\index{fs.c@{fs.c}!namei@{namei}}
\index{namei@{namei}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{namei()}{namei()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structinode}{inode}}$\ast$ namei (\begin{DoxyParamCaption}\item[{char $\ast$}]{path }\end{DoxyParamCaption})}



fs.\+c 파일의 773 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{774 \{}
\DoxyCodeLine{775   \textcolor{keywordtype}{char} \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[\mbox{\hyperlink{fs_8h_a48246fb9e5cb7f6a71ebc9ebc2f06562}{DIRSIZ}}];}
\DoxyCodeLine{776   \textcolor{keywordflow}{return} \mbox{\hyperlink{fs_8c_a85139e533a212f0e8961b88e73fd6510}{namex}}(path, 0, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}});}
\DoxyCodeLine{777 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a9baba030d5bc6e9e20cf8b7d181edf35_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=225pt]{d2/d5a/fs_8c_a9baba030d5bc6e9e20cf8b7d181edf35_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c}\label{fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c}} 
\index{fs.c@{fs.c}!nameiparent@{nameiparent}}
\index{nameiparent@{nameiparent}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{nameiparent()}{nameiparent()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structinode}{inode}}$\ast$ nameiparent (\begin{DoxyParamCaption}\item[{char $\ast$}]{path,  }\item[{char $\ast$}]{name }\end{DoxyParamCaption})}



fs.\+c 파일의 780 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{781 \{}
\DoxyCodeLine{782   \textcolor{keywordflow}{return} \mbox{\hyperlink{fs_8c_a85139e533a212f0e8961b88e73fd6510}{namex}}(path, 1, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}});}
\DoxyCodeLine{783 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_a85139e533a212f0e8961b88e73fd6510}\label{fs_8c_a85139e533a212f0e8961b88e73fd6510}} 
\index{fs.c@{fs.c}!namex@{namex}}
\index{namex@{namex}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{namex()}{namex()}}
{\footnotesize\ttfamily static struct \mbox{\hyperlink{structinode}{inode}}$\ast$ namex (\begin{DoxyParamCaption}\item[{char $\ast$}]{path,  }\item[{int}]{nameiparent,  }\item[{char $\ast$}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



fs.\+c 파일의 733 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{734 \{}
\DoxyCodeLine{735   \textcolor{keyword}{struct }\mbox{\hyperlink{structinode}{inode}} *ip, *next;}
\DoxyCodeLine{736 }
\DoxyCodeLine{737   \textcolor{keywordflow}{if} (*path == \textcolor{charliteral}{'/'})}
\DoxyCodeLine{738     ip = \mbox{\hyperlink{fs_8c_aa574143402896986fe315a0c2749fffa}{iget}}(\mbox{\hyperlink{param_8h_ae9ce6b24fe2aae59ff60b469c35febbc}{ROOTDEV}}, \mbox{\hyperlink{fs_8h_a22c8ea96d09283ed6496347806cc72a0}{ROOTINO}});}
\DoxyCodeLine{739   \textcolor{keywordflow}{else}}
\DoxyCodeLine{740     ip = \mbox{\hyperlink{fs_8c_a6b41577cc09b2a009be8f84bfb500079}{idup}}(\mbox{\hyperlink{defs_8h_addb64b689e3c266aaa67cc0126bba441}{myproc}}()-\/>cwd);}
\DoxyCodeLine{741 }
\DoxyCodeLine{742   \textcolor{keywordflow}{while} ((path = \mbox{\hyperlink{fs_8c_aa696af27cc6f5d87271f9eb1c863f770}{skipelem}}(path, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}})) != 0)}
\DoxyCodeLine{743   \{}
\DoxyCodeLine{744     \mbox{\hyperlink{fs_8c_aed28187406d84a3aa71f10c6235a03ec}{ilock}}(ip);}
\DoxyCodeLine{745     \textcolor{keywordflow}{if} (ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} != \mbox{\hyperlink{stat_8h_a91136bcd71a9f499304f5d7e7e9d6376}{T\_DIR}})}
\DoxyCodeLine{746     \{}
\DoxyCodeLine{747       \mbox{\hyperlink{fs_8c_a207b3008bae35596c55ec7c4fc6875eb}{iunlockput}}(ip);}
\DoxyCodeLine{748       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{749     \}}
\DoxyCodeLine{750     \textcolor{keywordflow}{if} (\mbox{\hyperlink{fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c}{nameiparent}} \&\& *path == \textcolor{charliteral}{'\(\backslash\)0'})}
\DoxyCodeLine{751     \{}
\DoxyCodeLine{752       \textcolor{comment}{// Stop one level early.}}
\DoxyCodeLine{753       \mbox{\hyperlink{fs_8c_ae4e29916219b9293b37f9c34220694fe}{iunlock}}(ip);}
\DoxyCodeLine{754       \textcolor{keywordflow}{return} ip;}
\DoxyCodeLine{755     \}}
\DoxyCodeLine{756     \textcolor{keywordflow}{if} ((next = \mbox{\hyperlink{fs_8c_aa182c62fade7a0bae9408830d5e06d4f}{dirlookup}}(ip, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, 0)) == 0)}
\DoxyCodeLine{757     \{}
\DoxyCodeLine{758       \mbox{\hyperlink{fs_8c_a207b3008bae35596c55ec7c4fc6875eb}{iunlockput}}(ip);}
\DoxyCodeLine{759       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{760     \}}
\DoxyCodeLine{761     \mbox{\hyperlink{fs_8c_a207b3008bae35596c55ec7c4fc6875eb}{iunlockput}}(ip);}
\DoxyCodeLine{762     ip = next;}
\DoxyCodeLine{763   \}}
\DoxyCodeLine{764   \textcolor{keywordflow}{if} (\mbox{\hyperlink{fs_8c_a5a987ca4f8ffd579b96a8b9a60e61a7c}{nameiparent}})}
\DoxyCodeLine{765   \{}
\DoxyCodeLine{766     \mbox{\hyperlink{fs_8c_ab3c447f135c68e4c3c1f8d5866f6e77b}{iput}}(ip);}
\DoxyCodeLine{767     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{768   \}}
\DoxyCodeLine{769   \textcolor{keywordflow}{return} ip;}
\DoxyCodeLine{770 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a85139e533a212f0e8961b88e73fd6510_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a85139e533a212f0e8961b88e73fd6510_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8}\label{fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8}} 
\index{fs.c@{fs.c}!readi@{readi}}
\index{readi@{readi}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{readi()}{readi()}}
{\footnotesize\ttfamily int readi (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structinode}{inode}} $\ast$}]{ip,  }\item[{char $\ast$}]{dst,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{off,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{n }\end{DoxyParamCaption})}



fs.\+c 파일의 551 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{552 \{}
\DoxyCodeLine{553   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} tot, m;}
\DoxyCodeLine{554   \textcolor{keyword}{struct }\mbox{\hyperlink{structbuf}{buf}} *bp;}
\DoxyCodeLine{555 }
\DoxyCodeLine{556   \textcolor{keywordflow}{if} (ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} == \mbox{\hyperlink{stat_8h_a62b045a3e4fdf204bdddda0f3fc3d8c4}{T\_DEV}})}
\DoxyCodeLine{557   \{}
\DoxyCodeLine{558     \textcolor{keywordflow}{if} (ip-\/>\mbox{\hyperlink{structinode_a34af7242018a977dace5730683850875}{major}} < 0 || ip-\/>\mbox{\hyperlink{structinode_a34af7242018a977dace5730683850875}{major}} >= \mbox{\hyperlink{param_8h_aa564a41c8409694da49b0badf2bb2853}{NDEV}} || !\mbox{\hyperlink{structdevsw}{devsw}}[ip-\/>\mbox{\hyperlink{structinode_a34af7242018a977dace5730683850875}{major}}].\mbox{\hyperlink{structdevsw_a4efbe00d0031a1c9005ef2186947ea37}{read}})}
\DoxyCodeLine{559       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{560     \textcolor{keywordflow}{return} \mbox{\hyperlink{structdevsw}{devsw}}[ip-\/>\mbox{\hyperlink{structinode_a34af7242018a977dace5730683850875}{major}}].\mbox{\hyperlink{structdevsw_a4efbe00d0031a1c9005ef2186947ea37}{read}}(ip, dst, n);}
\DoxyCodeLine{561   \}}
\DoxyCodeLine{562 }
\DoxyCodeLine{563   \textcolor{keywordflow}{if} (off > ip-\/>\mbox{\hyperlink{structinode_a918af769c48a8ca8afac057bf83d12de}{size}} || off + n < off)}
\DoxyCodeLine{564     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{565   \textcolor{keywordflow}{if} (off + n > ip-\/>\mbox{\hyperlink{structinode_a918af769c48a8ca8afac057bf83d12de}{size}})}
\DoxyCodeLine{566     n = ip-\/>\mbox{\hyperlink{structinode_a918af769c48a8ca8afac057bf83d12de}{size}} -\/ off;}
\DoxyCodeLine{567 }
\DoxyCodeLine{568   \textcolor{keywordflow}{for} (tot = 0; tot < n; tot += m, off += m, dst += m)}
\DoxyCodeLine{569   \{}
\DoxyCodeLine{570     bp = \mbox{\hyperlink{bio_8c_ae000984516278965dde3d125affd086c}{bread}}(ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}}, \mbox{\hyperlink{fs_8c_a965e83e1fa9b15abf268784ce74181bb}{bmap}}(ip, off / \mbox{\hyperlink{fs_8h_a403cf3149c084cea115b85c90721039a}{BSIZE}}));}
\DoxyCodeLine{571     m = \mbox{\hyperlink{fs_8c_ac6afabdc09a49a433ee19d8a9486056d}{min}}(n -\/ tot, \mbox{\hyperlink{fs_8h_a403cf3149c084cea115b85c90721039a}{BSIZE}} -\/ off \% \mbox{\hyperlink{fs_8h_a403cf3149c084cea115b85c90721039a}{BSIZE}});}
\DoxyCodeLine{572     \mbox{\hyperlink{defs_8h_aa9c8577c0e9d233f85892ec2d9bfe212}{memmove}}(dst, bp-\/>\mbox{\hyperlink{structbuf_ab0ec38784ab94ed35e575cf6d33912d2}{data}} + off \% \mbox{\hyperlink{fs_8h_a403cf3149c084cea115b85c90721039a}{BSIZE}}, m);}
\DoxyCodeLine{573     \mbox{\hyperlink{bio_8c_ab5335aeb503731104314321a78a6d727}{brelse}}(bp);}
\DoxyCodeLine{574   \}}
\DoxyCodeLine{575   \textcolor{keywordflow}{return} n;}
\DoxyCodeLine{576 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a3aba1fa9f6789d09356aec5b96d91fa8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_aff0080b2133027be2e525ca088b40e78}\label{fs_8c_aff0080b2133027be2e525ca088b40e78}} 
\index{fs.c@{fs.c}!readsb@{readsb}}
\index{readsb@{readsb}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{readsb()}{readsb()}}
{\footnotesize\ttfamily void readsb (\begin{DoxyParamCaption}\item[{int}]{dev,  }\item[{struct \mbox{\hyperlink{structsuperblock}{superblock}} $\ast$}]{sb }\end{DoxyParamCaption})}



fs.\+c 파일의 32 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{33 \{}
\DoxyCodeLine{34   \textcolor{keyword}{struct }\mbox{\hyperlink{structbuf}{buf}} *bp;}
\DoxyCodeLine{35 }
\DoxyCodeLine{36   bp = \mbox{\hyperlink{bio_8c_ae000984516278965dde3d125affd086c}{bread}}(\mbox{\hyperlink{structbuf_ac96082c2b5f22133ac7092ef81487227}{dev}}, 1);}
\DoxyCodeLine{37   \mbox{\hyperlink{defs_8h_aa9c8577c0e9d233f85892ec2d9bfe212}{memmove}}(\mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}, bp-\/>\mbox{\hyperlink{structbuf_ab0ec38784ab94ed35e575cf6d33912d2}{data}}, \textcolor{keyword}{sizeof}(*\mbox{\hyperlink{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}{sb}}));}
\DoxyCodeLine{38   \mbox{\hyperlink{bio_8c_ab5335aeb503731104314321a78a6d727}{brelse}}(bp);}
\DoxyCodeLine{39 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_aff0080b2133027be2e525ca088b40e78_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_aff0080b2133027be2e525ca088b40e78_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_aa696af27cc6f5d87271f9eb1c863f770}\label{fs_8c_aa696af27cc6f5d87271f9eb1c863f770}} 
\index{fs.c@{fs.c}!skipelem@{skipelem}}
\index{skipelem@{skipelem}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{skipelem()}{skipelem()}}
{\footnotesize\ttfamily static char$\ast$ skipelem (\begin{DoxyParamCaption}\item[{char $\ast$}]{path,  }\item[{char $\ast$}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



fs.\+c 파일의 703 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{704 \{}
\DoxyCodeLine{705   \textcolor{keywordtype}{char} *s;}
\DoxyCodeLine{706   \textcolor{keywordtype}{int} len;}
\DoxyCodeLine{707 }
\DoxyCodeLine{708   \textcolor{keywordflow}{while} (*path == \textcolor{charliteral}{'/'})}
\DoxyCodeLine{709     path++;}
\DoxyCodeLine{710   \textcolor{keywordflow}{if} (*path == 0)}
\DoxyCodeLine{711     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{712   s = path;}
\DoxyCodeLine{713   \textcolor{keywordflow}{while} (*path != \textcolor{charliteral}{'/'} \&\& *path != 0)}
\DoxyCodeLine{714     path++;}
\DoxyCodeLine{715   len = path -\/ s;}
\DoxyCodeLine{716   \textcolor{keywordflow}{if} (len >= \mbox{\hyperlink{fs_8h_a48246fb9e5cb7f6a71ebc9ebc2f06562}{DIRSIZ}})}
\DoxyCodeLine{717     \mbox{\hyperlink{defs_8h_aa9c8577c0e9d233f85892ec2d9bfe212}{memmove}}(\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, s, \mbox{\hyperlink{fs_8h_a48246fb9e5cb7f6a71ebc9ebc2f06562}{DIRSIZ}});}
\DoxyCodeLine{718   \textcolor{keywordflow}{else}}
\DoxyCodeLine{719   \{}
\DoxyCodeLine{720     \mbox{\hyperlink{defs_8h_aa9c8577c0e9d233f85892ec2d9bfe212}{memmove}}(\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, s, len);}
\DoxyCodeLine{721     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[len] = 0;}
\DoxyCodeLine{722   \}}
\DoxyCodeLine{723   \textcolor{keywordflow}{while} (*path == \textcolor{charliteral}{'/'})}
\DoxyCodeLine{724     path++;}
\DoxyCodeLine{725   \textcolor{keywordflow}{return} path;}
\DoxyCodeLine{726 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=248pt]{d2/d5a/fs_8c_aa696af27cc6f5d87271f9eb1c863f770_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_aa696af27cc6f5d87271f9eb1c863f770_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_a4ccff0bd4d9802e709d0af8d71a59861}\label{fs_8c_a4ccff0bd4d9802e709d0af8d71a59861}} 
\index{fs.c@{fs.c}!stati@{stati}}
\index{stati@{stati}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{stati()}{stati()}}
{\footnotesize\ttfamily void stati (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structinode}{inode}} $\ast$}]{ip,  }\item[{struct \mbox{\hyperlink{structstat}{stat}} $\ast$}]{st }\end{DoxyParamCaption})}



fs.\+c 파일의 524 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{525 \{}
\DoxyCodeLine{526   st-\/>\mbox{\hyperlink{structstat_a14ef4f85e6fb86bf296360361d0f393b}{dev}} = ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}};}
\DoxyCodeLine{527   st-\/>\mbox{\hyperlink{structstat_abf15624517ed5d79d0fa2a5553a68e25}{ino}} = ip-\/>\mbox{\hyperlink{structinode_a8acc2b9df0bfc6856da62925763db7fe}{inum}};}
\DoxyCodeLine{528   st-\/>\mbox{\hyperlink{structstat_a01f1b4cd7627d192a7875c9a188e0699}{type}} = ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}};}
\DoxyCodeLine{529   st-\/>\mbox{\hyperlink{structstat_a99ca3487fd2f4799337eb4281f8871e4}{nlink}} = ip-\/>\mbox{\hyperlink{structinode_af8b88b409bea7ef99c49a55f387538b2}{nlink}};}
\DoxyCodeLine{530   st-\/>\mbox{\hyperlink{structstat_a4ac15b64dd4d787c59a8a687d79adb35}{size}} = ip-\/>\mbox{\hyperlink{structinode_a918af769c48a8ca8afac057bf83d12de}{size}};}
\DoxyCodeLine{531   \textcolor{comment}{/*fstat를 했을 때 파일 정보 출력을 위한 추가 정보 복사*/}}
\DoxyCodeLine{532   \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{533   \textcolor{comment}{// 일반 파일의 주소 출력을 위한 정보복사}}
\DoxyCodeLine{534   \textcolor{keywordflow}{for} (i = 0; i < \mbox{\hyperlink{fs_8h_acd38e9532d4b3623f844b93c012a8e06}{NDIRECT}}; i++)}
\DoxyCodeLine{535     st-\/>\mbox{\hyperlink{structstat_aaa92f67184b0dfef3a3bc8dd40a1024d}{addr}}[i] = ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i];}
\DoxyCodeLine{536   if (st-\/>\mbox{\hyperlink{structstat_a01f1b4cd7627d192a7875c9a188e0699}{type}} == \mbox{\hyperlink{stat_8h_a234ef1d69dd84e7134072c05c5b87eaf}{T\_CS}})}
\DoxyCodeLine{537   \{}
\DoxyCodeLine{538     \textcolor{comment}{// TS파일 용 주소 및 길이 복사.}}
\DoxyCodeLine{539     \textcolor{comment}{// 구조체 맴버변수 32비트 중 24비트 8비트로 쪼개져서 각각 들어감.}}
\DoxyCodeLine{540     \textcolor{keywordflow}{for} (i = 0; i < \mbox{\hyperlink{fs_8h_acd38e9532d4b3623f844b93c012a8e06}{NDIRECT}}; i++)}
\DoxyCodeLine{541     \{}
\DoxyCodeLine{542       st-\/>\mbox{\hyperlink{structstat_aa165846eb7054d6933b314d62314011c}{cs}}[i].\mbox{\hyperlink{structstat_1_1cs_a11753c8b5c90962b2a3e673365d9f203}{addr}} = (ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i] >> 8);}
\DoxyCodeLine{543       st-\/>\mbox{\hyperlink{structstat_aa165846eb7054d6933b314d62314011c}{cs}}[i].\mbox{\hyperlink{structstat_1_1cs_ab3a1ceae3abadd0869dd8a8cd772dd90}{len}} = (ip-\/>\mbox{\hyperlink{structinode_a7ba4ab7e52404b80d6d854678715ae30}{addrs}}[i] \& 255);}
\DoxyCodeLine{544     \}}
\DoxyCodeLine{545   \}}
\DoxyCodeLine{546 \}}

\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=301pt]{d2/d5a/fs_8c_a4ccff0bd4d9802e709d0af8d71a59861_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{fs_8c_a15858f4d8a4cc1def3d84d03c312836b}\label{fs_8c_a15858f4d8a4cc1def3d84d03c312836b}} 
\index{fs.c@{fs.c}!writei@{writei}}
\index{writei@{writei}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{writei()}{writei()}}
{\footnotesize\ttfamily int writei (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structinode}{inode}} $\ast$}]{ip,  }\item[{char $\ast$}]{src,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{off,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{n }\end{DoxyParamCaption})}



fs.\+c 파일의 581 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{582 \{}
\DoxyCodeLine{583   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} tot, m;}
\DoxyCodeLine{584   \textcolor{keyword}{struct }\mbox{\hyperlink{structbuf}{buf}} *bp;}
\DoxyCodeLine{585 }
\DoxyCodeLine{586   \textcolor{keywordflow}{if} (ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} == \mbox{\hyperlink{stat_8h_a62b045a3e4fdf204bdddda0f3fc3d8c4}{T\_DEV}})}
\DoxyCodeLine{587   \{}
\DoxyCodeLine{588     \textcolor{keywordflow}{if} (ip-\/>\mbox{\hyperlink{structinode_a34af7242018a977dace5730683850875}{major}} < 0 || ip-\/>\mbox{\hyperlink{structinode_a34af7242018a977dace5730683850875}{major}} >= \mbox{\hyperlink{param_8h_aa564a41c8409694da49b0badf2bb2853}{NDEV}} || !\mbox{\hyperlink{structdevsw}{devsw}}[ip-\/>\mbox{\hyperlink{structinode_a34af7242018a977dace5730683850875}{major}}].\mbox{\hyperlink{structdevsw_a87fd7af6c9a6fb8663fc206be7a233d4}{write}})}
\DoxyCodeLine{589       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{590     \textcolor{keywordflow}{return} \mbox{\hyperlink{structdevsw}{devsw}}[ip-\/>\mbox{\hyperlink{structinode_a34af7242018a977dace5730683850875}{major}}].\mbox{\hyperlink{structdevsw_a87fd7af6c9a6fb8663fc206be7a233d4}{write}}(ip, src, n);}
\DoxyCodeLine{591   \}}
\DoxyCodeLine{592 }
\DoxyCodeLine{593   \textcolor{keywordflow}{if} (off > ip-\/>\mbox{\hyperlink{structinode_a918af769c48a8ca8afac057bf83d12de}{size}} || off + n < off)}
\DoxyCodeLine{594     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{595 }
\DoxyCodeLine{596   \textcolor{comment}{// T\_CS는 다음 블록에서 쭉 쓰기 때문에 상관이 없다.}}
\DoxyCodeLine{597   \textcolor{keywordflow}{if} (off + n > \mbox{\hyperlink{fs_8h_a714b2485a6dd312e37226e1f833728a9}{MAXFILE}} * \mbox{\hyperlink{fs_8h_a403cf3149c084cea115b85c90721039a}{BSIZE}} \&\& ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} != \mbox{\hyperlink{stat_8h_a234ef1d69dd84e7134072c05c5b87eaf}{T\_CS}})}
\DoxyCodeLine{598     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{599 }
\DoxyCodeLine{600   \textcolor{keywordflow}{for} (tot = 0; tot < n; tot += m, off += m, src += m)}
\DoxyCodeLine{601   \{}
\DoxyCodeLine{602     bp = \mbox{\hyperlink{bio_8c_ae000984516278965dde3d125affd086c}{bread}}(ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}}, \mbox{\hyperlink{fs_8c_a965e83e1fa9b15abf268784ce74181bb}{bmap}}(ip, off / \mbox{\hyperlink{fs_8h_a403cf3149c084cea115b85c90721039a}{BSIZE}}));}
\DoxyCodeLine{603     m = \mbox{\hyperlink{fs_8c_ac6afabdc09a49a433ee19d8a9486056d}{min}}(n -\/ tot, \mbox{\hyperlink{fs_8h_a403cf3149c084cea115b85c90721039a}{BSIZE}} -\/ off \% \mbox{\hyperlink{fs_8h_a403cf3149c084cea115b85c90721039a}{BSIZE}});}
\DoxyCodeLine{604     \mbox{\hyperlink{defs_8h_aa9c8577c0e9d233f85892ec2d9bfe212}{memmove}}(bp-\/>\mbox{\hyperlink{structbuf_ab0ec38784ab94ed35e575cf6d33912d2}{data}} + off \% \mbox{\hyperlink{fs_8h_a403cf3149c084cea115b85c90721039a}{BSIZE}}, src, m);}
\DoxyCodeLine{605     \mbox{\hyperlink{defs_8h_a270d0050dc50965f4f851717841ad33c}{log\_write}}(bp);}
\DoxyCodeLine{606     \mbox{\hyperlink{bio_8c_ab5335aeb503731104314321a78a6d727}{brelse}}(bp);}
\DoxyCodeLine{607   \}}
\DoxyCodeLine{608 }
\DoxyCodeLine{609   \textcolor{keywordflow}{if} (n > 0 \&\& off > ip-\/>\mbox{\hyperlink{structinode_a918af769c48a8ca8afac057bf83d12de}{size}})}
\DoxyCodeLine{610   \{}
\DoxyCodeLine{611     ip-\/>\mbox{\hyperlink{structinode_a918af769c48a8ca8afac057bf83d12de}{size}} = off;}
\DoxyCodeLine{612     \mbox{\hyperlink{fs_8c_a7220afa8e5f4bea540eb95879ea7df6e}{iupdate}}(ip);}
\DoxyCodeLine{613   \}}
\DoxyCodeLine{614   \textcolor{keywordflow}{return} n;}
\DoxyCodeLine{615 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a15858f4d8a4cc1def3d84d03c312836b_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5a/fs_8c_a15858f4d8a4cc1def3d84d03c312836b_icgraph}
\end{center}
\end{figure}


\doxysubsection{변수 문서화}
\mbox{\Hypertarget{fs_8c_a5a78db4f7c856337d906f0606b19bff5}\label{fs_8c_a5a78db4f7c856337d906f0606b19bff5}} 
\index{fs.c@{fs.c}!icache@{icache}}
\index{icache@{icache}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{icache}{icache}}
{\footnotesize\ttfamily struct \{ ... \}  icache}

\mbox{\Hypertarget{fs_8c_a6baaf26dd83b71b8d684c5d54a709e31}\label{fs_8c_a6baaf26dd83b71b8d684c5d54a709e31}} 
\index{fs.c@{fs.c}!inode@{inode}}
\index{inode@{inode}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{inode}{inode}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structinode}{inode}} \mbox{\hyperlink{structinode}{inode}}\mbox{[}\mbox{\hyperlink{param_8h_adabafa10c7951be7c875cd2ee212be85}{N\+I\+N\+O\+DE}}\mbox{]}}



fs.\+c 파일의 172 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{fs_8c_ab28e82cd5dda7d960095706a3ea20572}\label{fs_8c_ab28e82cd5dda7d960095706a3ea20572}} 
\index{fs.c@{fs.c}!lock@{lock}}
\index{lock@{lock}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{lock}{lock}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structspinlock}{spinlock}} lock}



fs.\+c 파일의 171 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}\label{fs_8c_a0248d0bac625de5a1415f2f8c91f3343}} 
\index{fs.c@{fs.c}!sb@{sb}}
\index{sb@{sb}!fs.c@{fs.c}}
\doxysubsubsection{\texorpdfstring{sb}{sb}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structsuperblock}{superblock}} sb}



fs.\+c 파일의 29 번째 라인에서 정의되었습니다.

