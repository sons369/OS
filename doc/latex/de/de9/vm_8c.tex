\hypertarget{vm_8c}{}\doxysection{vm.\+c 파일 참조}
\label{vm_8c}\index{vm.c@{vm.c}}
{\ttfamily \#include \char`\"{}param.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}types.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}defs.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}x86.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}memlayout.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}mmu.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}proc.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}elf.\+h\char`\"{}}\newline
vm.\+c에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d8/d9e/vm_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{데이터 구조}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structkmap}{kmap}}
\end{DoxyCompactItemize}
\doxysubsection*{함수}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{vm_8c_aaf5b2814a1dbf3ef0803dff58e0a76dc}{seginit}} (void)
\item 
static \mbox{\hyperlink{mmu_8h_ab23e75f764f8314a83eaff23508c2ae5}{pte\+\_\+t}} $\ast$ \mbox{\hyperlink{vm_8c_acb8e38162e861af59fa33ff89058bdb5}{walkpgdir}} (\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$pgdir, const void $\ast$va, int alloc)
\item 
static int \mbox{\hyperlink{vm_8c_a6a272b2512f2e848e09281c4c7275273}{mappages}} (\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$pgdir, void $\ast$va, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} size, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} pa, int perm)
\item 
\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$ \mbox{\hyperlink{vm_8c_aa7dbd3b5c70eb93e0e7fb8331202821d}{setupkvm}} (void)
\item 
void \mbox{\hyperlink{vm_8c_a893bf6891e427f310b43981bf8e737ea}{kvmalloc}} (void)
\item 
void \mbox{\hyperlink{vm_8c_a02ca0670bc1fe12e38453082631ff360}{switchkvm}} (void)
\item 
void \mbox{\hyperlink{vm_8c_a87c90f0ab2a1b11c2b55f4e483bb8493}{switchuvm}} (struct \mbox{\hyperlink{structproc}{proc}} $\ast$p)
\item 
void \mbox{\hyperlink{vm_8c_ac96c231d4053eaf4322c27d1f2cd9d49}{inituvm}} (\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$pgdir, char $\ast$init, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} sz)
\item 
int \mbox{\hyperlink{vm_8c_a201acc8337a2893268b61ea5a1ee0d53}{loaduvm}} (\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$pgdir, char $\ast$addr, struct \mbox{\hyperlink{structinode}{inode}} $\ast$ip, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} offset, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} sz)
\item 
int \mbox{\hyperlink{vm_8c_afea0f0a82a9f9c7aae26f90b5e0836c6}{allocuvm}} (\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$pgdir, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} oldsz, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} newsz)
\item 
int \mbox{\hyperlink{vm_8c_a6d3019ea15a9bfdc5131ae97f3623c49}{deallocuvm}} (\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$pgdir, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} oldsz, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} newsz)
\item 
void \mbox{\hyperlink{vm_8c_aa883924e2f068c520b695cdc168e1603}{freevm}} (\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$pgdir)
\item 
void \mbox{\hyperlink{vm_8c_a795e27a0cb916cfb41411ebbb9669ddf}{clearpteu}} (\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$pgdir, char $\ast$uva)
\item 
\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$ \mbox{\hyperlink{vm_8c_ad158860fa206e19f2370eeab852bca7c}{copyuvm}} (\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$pgdir, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} sz)
\item 
char $\ast$ \mbox{\hyperlink{vm_8c_adefebae1abb3b54fd04d6d4858e7735b}{uva2ka}} (\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$pgdir, char $\ast$uva)
\item 
int \mbox{\hyperlink{vm_8c_a532bc3f3e39942c20a471a11cff1a582}{copyout}} (\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$pgdir, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} va, void $\ast$p, \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} len)
\end{DoxyCompactItemize}
\doxysubsection*{변수}
\begin{DoxyCompactItemize}
\item 
char \mbox{\hyperlink{vm_8c_a923b2158227405b9f7a6eceb6c7104c8}{data}} \mbox{[}$\,$\mbox{]}
\item 
\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$ \mbox{\hyperlink{vm_8c_aff01f9f000432fd4171b7edee6c85855}{kpgdir}}
\item 
static struct \mbox{\hyperlink{structkmap}{kmap}} \mbox{\hyperlink{vm_8c_aad4e743d8c7a750da6d189aa2ea690ff}{kmap}} \mbox{[}$\,$\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{함수 문서화}
\mbox{\Hypertarget{vm_8c_afea0f0a82a9f9c7aae26f90b5e0836c6}\label{vm_8c_afea0f0a82a9f9c7aae26f90b5e0836c6}} 
\index{vm.c@{vm.c}!allocuvm@{allocuvm}}
\index{allocuvm@{allocuvm}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{allocuvm()}{allocuvm()}}
{\footnotesize\ttfamily int allocuvm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$}]{pgdir,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{oldsz,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{newsz }\end{DoxyParamCaption})}



vm.\+c 파일의 222 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{223 \{}
\DoxyCodeLine{224   \textcolor{keywordtype}{char} *\mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}};}
\DoxyCodeLine{225   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} a;}
\DoxyCodeLine{226 }
\DoxyCodeLine{227   \textcolor{keywordflow}{if}(newsz >= \mbox{\hyperlink{memlayout_8h_a20cbfc19992a40ab9ccf4aa8ab8283d0}{KERNBASE}})}
\DoxyCodeLine{228     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{229   \textcolor{keywordflow}{if}(newsz < oldsz)}
\DoxyCodeLine{230     \textcolor{keywordflow}{return} oldsz;}
\DoxyCodeLine{231 }
\DoxyCodeLine{232   a = \mbox{\hyperlink{mmu_8h_affa8cdfbd1c15dafc9f3af3a7b641f80}{PGROUNDUP}}(oldsz);}
\DoxyCodeLine{233   \textcolor{keywordflow}{for}(; a < newsz; a += \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}})\{}
\DoxyCodeLine{234     \mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}} = \mbox{\hyperlink{defs_8h_a3af104ba40b66dcec8363ac5a70907ed}{kalloc}}();}
\DoxyCodeLine{235     \textcolor{keywordflow}{if}(\mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}} == 0)\{}
\DoxyCodeLine{236       \mbox{\hyperlink{console_8c_a90f0742d846503e4ed1804f1df421ec6}{cprintf}}(\textcolor{stringliteral}{"allocuvm out of memory\(\backslash\)n"});}
\DoxyCodeLine{237       \mbox{\hyperlink{vm_8c_a6d3019ea15a9bfdc5131ae97f3623c49}{deallocuvm}}(pgdir, newsz, oldsz);}
\DoxyCodeLine{238       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{239     \}}
\DoxyCodeLine{240     \mbox{\hyperlink{defs_8h_a9d55c9f035076ed1a90b6452770d0b62}{memset}}(\mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}}, 0, \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}});}
\DoxyCodeLine{241     \textcolor{keywordflow}{if}(\mbox{\hyperlink{vm_8c_a6a272b2512f2e848e09281c4c7275273}{mappages}}(pgdir, (\textcolor{keywordtype}{char}*)a, \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}}, \mbox{\hyperlink{memlayout_8h_a5021188bc7da1304f27e913aee183407}{V2P}}(\mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}}), \mbox{\hyperlink{mmu_8h_a058fcbcc3e1eab2c09c68b3e5221c545}{PTE\_W}}|\mbox{\hyperlink{mmu_8h_adced9836a1dc98d72849361e6ab03cda}{PTE\_U}}) < 0)\{}
\DoxyCodeLine{242       \mbox{\hyperlink{console_8c_a90f0742d846503e4ed1804f1df421ec6}{cprintf}}(\textcolor{stringliteral}{"allocuvm out of memory (2)\(\backslash\)n"});}
\DoxyCodeLine{243       \mbox{\hyperlink{vm_8c_a6d3019ea15a9bfdc5131ae97f3623c49}{deallocuvm}}(pgdir, newsz, oldsz);}
\DoxyCodeLine{244       \mbox{\hyperlink{defs_8h_ae79d6a7d0901b7c081cfded3f916d5bd}{kfree}}(\mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}});}
\DoxyCodeLine{245       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{246     \}}
\DoxyCodeLine{247   \}}
\DoxyCodeLine{248   \textcolor{keywordflow}{return} newsz;}
\DoxyCodeLine{249 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_afea0f0a82a9f9c7aae26f90b5e0836c6_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=335pt]{de/de9/vm_8c_afea0f0a82a9f9c7aae26f90b5e0836c6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_a795e27a0cb916cfb41411ebbb9669ddf}\label{vm_8c_a795e27a0cb916cfb41411ebbb9669ddf}} 
\index{vm.c@{vm.c}!clearpteu@{clearpteu}}
\index{clearpteu@{clearpteu}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{clearpteu()}{clearpteu()}}
{\footnotesize\ttfamily void clearpteu (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$}]{pgdir,  }\item[{char $\ast$}]{uva }\end{DoxyParamCaption})}



vm.\+c 파일의 303 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{304 \{}
\DoxyCodeLine{305   \mbox{\hyperlink{mmu_8h_ab23e75f764f8314a83eaff23508c2ae5}{pte\_t}} *pte;}
\DoxyCodeLine{306 }
\DoxyCodeLine{307   pte = \mbox{\hyperlink{vm_8c_acb8e38162e861af59fa33ff89058bdb5}{walkpgdir}}(pgdir, uva, 0);}
\DoxyCodeLine{308   \textcolor{keywordflow}{if}(pte == 0)}
\DoxyCodeLine{309     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"clearpteu"});}
\DoxyCodeLine{310   *pte \&= \string~\mbox{\hyperlink{mmu_8h_adced9836a1dc98d72849361e6ab03cda}{PTE\_U}};}
\DoxyCodeLine{311 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_a795e27a0cb916cfb41411ebbb9669ddf_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=217pt]{de/de9/vm_8c_a795e27a0cb916cfb41411ebbb9669ddf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_a532bc3f3e39942c20a471a11cff1a582}\label{vm_8c_a532bc3f3e39942c20a471a11cff1a582}} 
\index{vm.c@{vm.c}!copyout@{copyout}}
\index{copyout@{copyout}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{copyout()}{copyout()}}
{\footnotesize\ttfamily int copyout (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$}]{pgdir,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{va,  }\item[{void $\ast$}]{p,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{len }\end{DoxyParamCaption})}



vm.\+c 파일의 366 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{367 \{}
\DoxyCodeLine{368   \textcolor{keywordtype}{char} *\mbox{\hyperlink{bio_8c_a72ee90c61d41547b10a533c219e081c6}{buf}}, *pa0;}
\DoxyCodeLine{369   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} n, va0;}
\DoxyCodeLine{370 }
\DoxyCodeLine{371   \mbox{\hyperlink{structbuf}{buf}} = (\textcolor{keywordtype}{char}*)p;}
\DoxyCodeLine{372   \textcolor{keywordflow}{while}(len > 0)\{}
\DoxyCodeLine{373     va0 = (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}})\mbox{\hyperlink{mmu_8h_a687e91750055553dd2788386c6a512fb}{PGROUNDDOWN}}(va);}
\DoxyCodeLine{374     pa0 = \mbox{\hyperlink{vm_8c_adefebae1abb3b54fd04d6d4858e7735b}{uva2ka}}(pgdir, (\textcolor{keywordtype}{char}*)va0);}
\DoxyCodeLine{375     \textcolor{keywordflow}{if}(pa0 == 0)}
\DoxyCodeLine{376       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{377     n = \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}} -\/ (va -\/ va0);}
\DoxyCodeLine{378     \textcolor{keywordflow}{if}(n > len)}
\DoxyCodeLine{379       n = len;}
\DoxyCodeLine{380     \mbox{\hyperlink{defs_8h_aa9c8577c0e9d233f85892ec2d9bfe212}{memmove}}(pa0 + (va -\/ va0), \mbox{\hyperlink{structbuf}{buf}}, n);}
\DoxyCodeLine{381     len -\/= n;}
\DoxyCodeLine{382     \mbox{\hyperlink{structbuf}{buf}} += n;}
\DoxyCodeLine{383     va = va0 + \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}};}
\DoxyCodeLine{384   \}}
\DoxyCodeLine{385   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{386 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_a532bc3f3e39942c20a471a11cff1a582_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{de/de9/vm_8c_a532bc3f3e39942c20a471a11cff1a582_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_ad158860fa206e19f2370eeab852bca7c}\label{vm_8c_ad158860fa206e19f2370eeab852bca7c}} 
\index{vm.c@{vm.c}!copyuvm@{copyuvm}}
\index{copyuvm@{copyuvm}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{copyuvm()}{copyuvm()}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}}$\ast$ copyuvm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$}]{pgdir,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{sz }\end{DoxyParamCaption})}



vm.\+c 파일의 316 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{317 \{}
\DoxyCodeLine{318   \mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\_t}} *d;}
\DoxyCodeLine{319   \mbox{\hyperlink{mmu_8h_ab23e75f764f8314a83eaff23508c2ae5}{pte\_t}} *pte;}
\DoxyCodeLine{320   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} pa, i, flags;}
\DoxyCodeLine{321   \textcolor{keywordtype}{char} *\mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}};}
\DoxyCodeLine{322 }
\DoxyCodeLine{323   \textcolor{keywordflow}{if}((d = \mbox{\hyperlink{vm_8c_aa7dbd3b5c70eb93e0e7fb8331202821d}{setupkvm}}()) == 0)}
\DoxyCodeLine{324     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{325   \textcolor{keywordflow}{for}(i = 0; i < sz; i += \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}})\{}
\DoxyCodeLine{326     \textcolor{keywordflow}{if}((pte = \mbox{\hyperlink{vm_8c_acb8e38162e861af59fa33ff89058bdb5}{walkpgdir}}(pgdir, (\textcolor{keywordtype}{void} *) i, 0)) == 0)}
\DoxyCodeLine{327       \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"copyuvm: pte should exist"});}
\DoxyCodeLine{328     \textcolor{keywordflow}{if}(!(*pte \& \mbox{\hyperlink{mmu_8h_a89bd860de64c44cd8ebaca8dc311b5ac}{PTE\_P}}))}
\DoxyCodeLine{329       \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"copyuvm: page not present"});}
\DoxyCodeLine{330     pa = \mbox{\hyperlink{mmu_8h_a74b24f9b091875a5313370892e3f37a5}{PTE\_ADDR}}(*pte);}
\DoxyCodeLine{331     flags = \mbox{\hyperlink{mmu_8h_a8842a288646d28dda80a0544002f6941}{PTE\_FLAGS}}(*pte);}
\DoxyCodeLine{332     \textcolor{keywordflow}{if}((\mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}} = \mbox{\hyperlink{defs_8h_a3af104ba40b66dcec8363ac5a70907ed}{kalloc}}()) == 0)}
\DoxyCodeLine{333       \textcolor{keywordflow}{goto} bad;}
\DoxyCodeLine{334     \mbox{\hyperlink{defs_8h_aa9c8577c0e9d233f85892ec2d9bfe212}{memmove}}(\mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}}, (\textcolor{keywordtype}{char}*)\mbox{\hyperlink{memlayout_8h_aefd5e8b62c49bba2cf20309c7dd174e2}{P2V}}(pa), \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}});}
\DoxyCodeLine{335     \textcolor{keywordflow}{if}(\mbox{\hyperlink{vm_8c_a6a272b2512f2e848e09281c4c7275273}{mappages}}(d, (\textcolor{keywordtype}{void}*)i, \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}}, \mbox{\hyperlink{memlayout_8h_a5021188bc7da1304f27e913aee183407}{V2P}}(\mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}}), flags) < 0) \{}
\DoxyCodeLine{336       \mbox{\hyperlink{defs_8h_ae79d6a7d0901b7c081cfded3f916d5bd}{kfree}}(\mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}});}
\DoxyCodeLine{337       \textcolor{keywordflow}{goto} bad;}
\DoxyCodeLine{338     \}}
\DoxyCodeLine{339   \}}
\DoxyCodeLine{340   \textcolor{keywordflow}{return} d;}
\DoxyCodeLine{341 }
\DoxyCodeLine{342 bad:}
\DoxyCodeLine{343   \mbox{\hyperlink{vm_8c_aa883924e2f068c520b695cdc168e1603}{freevm}}(d);}
\DoxyCodeLine{344   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{345 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_ad158860fa206e19f2370eeab852bca7c_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{de/de9/vm_8c_ad158860fa206e19f2370eeab852bca7c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_a6d3019ea15a9bfdc5131ae97f3623c49}\label{vm_8c_a6d3019ea15a9bfdc5131ae97f3623c49}} 
\index{vm.c@{vm.c}!deallocuvm@{deallocuvm}}
\index{deallocuvm@{deallocuvm}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{deallocuvm()}{deallocuvm()}}
{\footnotesize\ttfamily int deallocuvm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$}]{pgdir,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{oldsz,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{newsz }\end{DoxyParamCaption})}



vm.\+c 파일의 256 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{257 \{}
\DoxyCodeLine{258   \mbox{\hyperlink{mmu_8h_ab23e75f764f8314a83eaff23508c2ae5}{pte\_t}} *pte;}
\DoxyCodeLine{259   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} a, pa;}
\DoxyCodeLine{260 }
\DoxyCodeLine{261   \textcolor{keywordflow}{if}(newsz >= oldsz)}
\DoxyCodeLine{262     \textcolor{keywordflow}{return} oldsz;}
\DoxyCodeLine{263 }
\DoxyCodeLine{264   a = \mbox{\hyperlink{mmu_8h_affa8cdfbd1c15dafc9f3af3a7b641f80}{PGROUNDUP}}(newsz);}
\DoxyCodeLine{265   \textcolor{keywordflow}{for}(; a  < oldsz; a += \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}})\{}
\DoxyCodeLine{266     pte = \mbox{\hyperlink{vm_8c_acb8e38162e861af59fa33ff89058bdb5}{walkpgdir}}(pgdir, (\textcolor{keywordtype}{char}*)a, 0);}
\DoxyCodeLine{267     \textcolor{keywordflow}{if}(!pte)}
\DoxyCodeLine{268       a = \mbox{\hyperlink{mmu_8h_a2e162e8ad6bc81877dd299db9fc87664}{PGADDR}}(\mbox{\hyperlink{mmu_8h_a110662636733266a8820e15fd32995b7}{PDX}}(a) + 1, 0, 0) -\/ \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}};}
\DoxyCodeLine{269     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((*pte \& \mbox{\hyperlink{mmu_8h_a89bd860de64c44cd8ebaca8dc311b5ac}{PTE\_P}}) != 0)\{}
\DoxyCodeLine{270       pa = \mbox{\hyperlink{mmu_8h_a74b24f9b091875a5313370892e3f37a5}{PTE\_ADDR}}(*pte);}
\DoxyCodeLine{271       \textcolor{keywordflow}{if}(pa == 0)}
\DoxyCodeLine{272         \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"kfree"});}
\DoxyCodeLine{273       \textcolor{keywordtype}{char} *v = \mbox{\hyperlink{memlayout_8h_aefd5e8b62c49bba2cf20309c7dd174e2}{P2V}}(pa);}
\DoxyCodeLine{274       \mbox{\hyperlink{defs_8h_ae79d6a7d0901b7c081cfded3f916d5bd}{kfree}}(v);}
\DoxyCodeLine{275       *pte = 0;}
\DoxyCodeLine{276     \}}
\DoxyCodeLine{277   \}}
\DoxyCodeLine{278   \textcolor{keywordflow}{return} newsz;}
\DoxyCodeLine{279 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_a6d3019ea15a9bfdc5131ae97f3623c49_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_a6d3019ea15a9bfdc5131ae97f3623c49_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_aa883924e2f068c520b695cdc168e1603}\label{vm_8c_aa883924e2f068c520b695cdc168e1603}} 
\index{vm.c@{vm.c}!freevm@{freevm}}
\index{freevm@{freevm}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{freevm()}{freevm()}}
{\footnotesize\ttfamily void freevm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$}]{pgdir }\end{DoxyParamCaption})}



vm.\+c 파일의 284 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{285 \{}
\DoxyCodeLine{286   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} i;}
\DoxyCodeLine{287 }
\DoxyCodeLine{288   \textcolor{keywordflow}{if}(pgdir == 0)}
\DoxyCodeLine{289     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"freevm: no pgdir"});}
\DoxyCodeLine{290   \mbox{\hyperlink{vm_8c_a6d3019ea15a9bfdc5131ae97f3623c49}{deallocuvm}}(pgdir, \mbox{\hyperlink{memlayout_8h_a20cbfc19992a40ab9ccf4aa8ab8283d0}{KERNBASE}}, 0);}
\DoxyCodeLine{291   \textcolor{keywordflow}{for}(i = 0; i < \mbox{\hyperlink{mmu_8h_af60ee3ecbf249497d0378c97201edfe8}{NPDENTRIES}}; i++)\{}
\DoxyCodeLine{292     \textcolor{keywordflow}{if}(pgdir[i] \& \mbox{\hyperlink{mmu_8h_a89bd860de64c44cd8ebaca8dc311b5ac}{PTE\_P}})\{}
\DoxyCodeLine{293       \textcolor{keywordtype}{char} * v = \mbox{\hyperlink{memlayout_8h_aefd5e8b62c49bba2cf20309c7dd174e2}{P2V}}(\mbox{\hyperlink{mmu_8h_a74b24f9b091875a5313370892e3f37a5}{PTE\_ADDR}}(pgdir[i]));}
\DoxyCodeLine{294       \mbox{\hyperlink{defs_8h_ae79d6a7d0901b7c081cfded3f916d5bd}{kfree}}(v);}
\DoxyCodeLine{295     \}}
\DoxyCodeLine{296   \}}
\DoxyCodeLine{297   \mbox{\hyperlink{defs_8h_ae79d6a7d0901b7c081cfded3f916d5bd}{kfree}}((\textcolor{keywordtype}{char}*)pgdir);}
\DoxyCodeLine{298 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_aa883924e2f068c520b695cdc168e1603_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_aa883924e2f068c520b695cdc168e1603_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_ac96c231d4053eaf4322c27d1f2cd9d49}\label{vm_8c_ac96c231d4053eaf4322c27d1f2cd9d49}} 
\index{vm.c@{vm.c}!inituvm@{inituvm}}
\index{inituvm@{inituvm}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{inituvm()}{inituvm()}}
{\footnotesize\ttfamily void inituvm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$}]{pgdir,  }\item[{char $\ast$}]{init,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{sz }\end{DoxyParamCaption})}



vm.\+c 파일의 183 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{184 \{}
\DoxyCodeLine{185   \textcolor{keywordtype}{char} *\mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}};}
\DoxyCodeLine{186 }
\DoxyCodeLine{187   \textcolor{keywordflow}{if}(sz >= \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}})}
\DoxyCodeLine{188     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"inituvm: more than a page"});}
\DoxyCodeLine{189   \mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}} = \mbox{\hyperlink{defs_8h_a3af104ba40b66dcec8363ac5a70907ed}{kalloc}}();}
\DoxyCodeLine{190   \mbox{\hyperlink{defs_8h_a9d55c9f035076ed1a90b6452770d0b62}{memset}}(\mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}}, 0, \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}});}
\DoxyCodeLine{191   \mbox{\hyperlink{vm_8c_a6a272b2512f2e848e09281c4c7275273}{mappages}}(pgdir, 0, \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}}, \mbox{\hyperlink{memlayout_8h_a5021188bc7da1304f27e913aee183407}{V2P}}(\mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}}), \mbox{\hyperlink{mmu_8h_a058fcbcc3e1eab2c09c68b3e5221c545}{PTE\_W}}|\mbox{\hyperlink{mmu_8h_adced9836a1dc98d72849361e6ab03cda}{PTE\_U}});}
\DoxyCodeLine{192   \mbox{\hyperlink{defs_8h_aa9c8577c0e9d233f85892ec2d9bfe212}{memmove}}(\mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}}, init, sz);}
\DoxyCodeLine{193 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_ac96c231d4053eaf4322c27d1f2cd9d49_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=223pt]{de/de9/vm_8c_ac96c231d4053eaf4322c27d1f2cd9d49_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_a893bf6891e427f310b43981bf8e737ea}\label{vm_8c_a893bf6891e427f310b43981bf8e737ea}} 
\index{vm.c@{vm.c}!kvmalloc@{kvmalloc}}
\index{kvmalloc@{kvmalloc}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{kvmalloc()}{kvmalloc()}}
{\footnotesize\ttfamily void kvmalloc (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



vm.\+c 파일의 141 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{142 \{}
\DoxyCodeLine{143   \mbox{\hyperlink{vm_8c_aff01f9f000432fd4171b7edee6c85855}{kpgdir}} = \mbox{\hyperlink{vm_8c_aa7dbd3b5c70eb93e0e7fb8331202821d}{setupkvm}}();}
\DoxyCodeLine{144   \mbox{\hyperlink{vm_8c_a02ca0670bc1fe12e38453082631ff360}{switchkvm}}();}
\DoxyCodeLine{145 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_a893bf6891e427f310b43981bf8e737ea_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_a201acc8337a2893268b61ea5a1ee0d53}\label{vm_8c_a201acc8337a2893268b61ea5a1ee0d53}} 
\index{vm.c@{vm.c}!loaduvm@{loaduvm}}
\index{loaduvm@{loaduvm}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{loaduvm()}{loaduvm()}}
{\footnotesize\ttfamily int loaduvm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$}]{pgdir,  }\item[{char $\ast$}]{addr,  }\item[{struct \mbox{\hyperlink{structinode}{inode}} $\ast$}]{ip,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{offset,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{sz }\end{DoxyParamCaption})}



vm.\+c 파일의 198 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{199 \{}
\DoxyCodeLine{200   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} i, pa, n;}
\DoxyCodeLine{201   \mbox{\hyperlink{mmu_8h_ab23e75f764f8314a83eaff23508c2ae5}{pte\_t}} *pte;}
\DoxyCodeLine{202 }
\DoxyCodeLine{203   \textcolor{keywordflow}{if}((\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}) addr \% \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}} != 0)}
\DoxyCodeLine{204     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"loaduvm: addr must be page aligned"});}
\DoxyCodeLine{205   \textcolor{keywordflow}{for}(i = 0; i < sz; i += \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}})\{}
\DoxyCodeLine{206     \textcolor{keywordflow}{if}((pte = \mbox{\hyperlink{vm_8c_acb8e38162e861af59fa33ff89058bdb5}{walkpgdir}}(pgdir, addr+i, 0)) == 0)}
\DoxyCodeLine{207       \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"loaduvm: address should exist"});}
\DoxyCodeLine{208     pa = \mbox{\hyperlink{mmu_8h_a74b24f9b091875a5313370892e3f37a5}{PTE\_ADDR}}(*pte);}
\DoxyCodeLine{209     \textcolor{keywordflow}{if}(sz -\/ i < \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}})}
\DoxyCodeLine{210       n = sz -\/ i;}
\DoxyCodeLine{211     \textcolor{keywordflow}{else}}
\DoxyCodeLine{212       n = \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}};}
\DoxyCodeLine{213     \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_a2415273b06f31f0f2587b7325588a7e4}{readi}}(ip, \mbox{\hyperlink{memlayout_8h_aefd5e8b62c49bba2cf20309c7dd174e2}{P2V}}(pa), offset+i, n) != n)}
\DoxyCodeLine{214       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{215   \}}
\DoxyCodeLine{216   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{217 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_a201acc8337a2893268b61ea5a1ee0d53_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{de/de9/vm_8c_a201acc8337a2893268b61ea5a1ee0d53_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_a6a272b2512f2e848e09281c4c7275273}\label{vm_8c_a6a272b2512f2e848e09281c4c7275273}} 
\index{vm.c@{vm.c}!mappages@{mappages}}
\index{mappages@{mappages}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{mappages()}{mappages()}}
{\footnotesize\ttfamily static int mappages (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$}]{pgdir,  }\item[{void $\ast$}]{va,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{size,  }\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{pa,  }\item[{int}]{perm }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



vm.\+c 파일의 61 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{62 \{}
\DoxyCodeLine{63   \textcolor{keywordtype}{char} *a, *last;}
\DoxyCodeLine{64   \mbox{\hyperlink{mmu_8h_ab23e75f764f8314a83eaff23508c2ae5}{pte\_t}} *pte;}
\DoxyCodeLine{65 }
\DoxyCodeLine{66   a = (\textcolor{keywordtype}{char}*)\mbox{\hyperlink{mmu_8h_a687e91750055553dd2788386c6a512fb}{PGROUNDDOWN}}((\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}})va);}
\DoxyCodeLine{67   last = (\textcolor{keywordtype}{char}*)\mbox{\hyperlink{mmu_8h_a687e91750055553dd2788386c6a512fb}{PGROUNDDOWN}}(((\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}})va) + size -\/ 1);}
\DoxyCodeLine{68   \textcolor{keywordflow}{for}(;;)\{}
\DoxyCodeLine{69     \textcolor{keywordflow}{if}((pte = \mbox{\hyperlink{vm_8c_acb8e38162e861af59fa33ff89058bdb5}{walkpgdir}}(pgdir, a, 1)) == 0)}
\DoxyCodeLine{70       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{71     \textcolor{keywordflow}{if}(*pte \& \mbox{\hyperlink{mmu_8h_a89bd860de64c44cd8ebaca8dc311b5ac}{PTE\_P}})}
\DoxyCodeLine{72       \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"remap"});}
\DoxyCodeLine{73     *pte = pa | perm | \mbox{\hyperlink{mmu_8h_a89bd860de64c44cd8ebaca8dc311b5ac}{PTE\_P}};}
\DoxyCodeLine{74     \textcolor{keywordflow}{if}(a == last)}
\DoxyCodeLine{75       \textcolor{keywordflow}{break};}
\DoxyCodeLine{76     a += \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}};}
\DoxyCodeLine{77     pa += \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}};}
\DoxyCodeLine{78   \}}
\DoxyCodeLine{79   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{80 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_a6a272b2512f2e848e09281c4c7275273_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_a6a272b2512f2e848e09281c4c7275273_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_aaf5b2814a1dbf3ef0803dff58e0a76dc}\label{vm_8c_aaf5b2814a1dbf3ef0803dff58e0a76dc}} 
\index{vm.c@{vm.c}!seginit@{seginit}}
\index{seginit@{seginit}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{seginit()}{seginit()}}
{\footnotesize\ttfamily void seginit (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



vm.\+c 파일의 16 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{17 \{}
\DoxyCodeLine{18   \textcolor{keyword}{struct }\mbox{\hyperlink{structcpu}{cpu}} *c;}
\DoxyCodeLine{19 }
\DoxyCodeLine{20   \textcolor{comment}{// Map "logical" addresses to virtual addresses using identity map.}}
\DoxyCodeLine{21   \textcolor{comment}{// Cannot share a CODE descriptor for both kernel and user}}
\DoxyCodeLine{22   \textcolor{comment}{// because it would have to have DPL\_USR, but the CPU forbids}}
\DoxyCodeLine{23   \textcolor{comment}{// an interrupt from CPL=0 to DPL=3.}}
\DoxyCodeLine{24   c = \&\mbox{\hyperlink{mp_8c_a6d2633e73724907b582dfe6938ed7bb9}{cpus}}[\mbox{\hyperlink{defs_8h_a1444de2903d3d2624a50de058d19c635}{cpuid}}()];}
\DoxyCodeLine{25   c-\/>\mbox{\hyperlink{structcpu_aee38fb8832f8e728538b2cee877d1c09}{gdt}}[\mbox{\hyperlink{mmu_8h_a0d4e0c4c738af60d6092941469642429}{SEG\_KCODE}}] = \mbox{\hyperlink{mmu_8h_a1594ac4688d9f212e835fd38ff63e83f}{SEG}}(\mbox{\hyperlink{asm_8h_af30c683a434e0712fd83781307239cb9}{STA\_X}}|\mbox{\hyperlink{asm_8h_a6545a48f34a3fae1b04cf265f13bc8f3}{STA\_R}}, 0, 0xffffffff, 0);}
\DoxyCodeLine{26   c-\/>\mbox{\hyperlink{structcpu_aee38fb8832f8e728538b2cee877d1c09}{gdt}}[\mbox{\hyperlink{mmu_8h_ad523d10217ef0ff5e75b7831f251d2b1}{SEG\_KDATA}}] = \mbox{\hyperlink{mmu_8h_a1594ac4688d9f212e835fd38ff63e83f}{SEG}}(\mbox{\hyperlink{asm_8h_a9321b5b232838b8b230c6b681be9a882}{STA\_W}}, 0, 0xffffffff, 0);}
\DoxyCodeLine{27   c-\/>\mbox{\hyperlink{structcpu_aee38fb8832f8e728538b2cee877d1c09}{gdt}}[\mbox{\hyperlink{mmu_8h_a85b694d969eb01e547197c21db219f4b}{SEG\_UCODE}}] = \mbox{\hyperlink{mmu_8h_a1594ac4688d9f212e835fd38ff63e83f}{SEG}}(\mbox{\hyperlink{asm_8h_af30c683a434e0712fd83781307239cb9}{STA\_X}}|\mbox{\hyperlink{asm_8h_a6545a48f34a3fae1b04cf265f13bc8f3}{STA\_R}}, 0, 0xffffffff, \mbox{\hyperlink{mmu_8h_a060d4d4e32af81cab881fe77e58d7b78}{DPL\_USER}});}
\DoxyCodeLine{28   c-\/>\mbox{\hyperlink{structcpu_aee38fb8832f8e728538b2cee877d1c09}{gdt}}[\mbox{\hyperlink{mmu_8h_aba0495696b4c656fda31704782648461}{SEG\_UDATA}}] = \mbox{\hyperlink{mmu_8h_a1594ac4688d9f212e835fd38ff63e83f}{SEG}}(\mbox{\hyperlink{asm_8h_a9321b5b232838b8b230c6b681be9a882}{STA\_W}}, 0, 0xffffffff, \mbox{\hyperlink{mmu_8h_a060d4d4e32af81cab881fe77e58d7b78}{DPL\_USER}});}
\DoxyCodeLine{29   \mbox{\hyperlink{x86_8h_aa87168f9769519858da984f0c3d070cb}{lgdt}}(c-\/>\mbox{\hyperlink{structcpu_aee38fb8832f8e728538b2cee877d1c09}{gdt}}, \textcolor{keyword}{sizeof}(c-\/>\mbox{\hyperlink{structcpu_aee38fb8832f8e728538b2cee877d1c09}{gdt}}));}
\DoxyCodeLine{30 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_aaf5b2814a1dbf3ef0803dff58e0a76dc_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{de/de9/vm_8c_aaf5b2814a1dbf3ef0803dff58e0a76dc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_aa7dbd3b5c70eb93e0e7fb8331202821d}\label{vm_8c_aa7dbd3b5c70eb93e0e7fb8331202821d}} 
\index{vm.c@{vm.c}!setupkvm@{setupkvm}}
\index{setupkvm@{setupkvm}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{setupkvm()}{setupkvm()}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}}$\ast$ setupkvm (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



vm.\+c 파일의 119 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{120 \{}
\DoxyCodeLine{121   \mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\_t}} *pgdir;}
\DoxyCodeLine{122   \textcolor{keyword}{struct }\mbox{\hyperlink{structkmap}{kmap}} *k;}
\DoxyCodeLine{123 }
\DoxyCodeLine{124   \textcolor{keywordflow}{if}((pgdir = (\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\_t}}*)\mbox{\hyperlink{defs_8h_a3af104ba40b66dcec8363ac5a70907ed}{kalloc}}()) == 0)}
\DoxyCodeLine{125     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{126   \mbox{\hyperlink{defs_8h_a9d55c9f035076ed1a90b6452770d0b62}{memset}}(pgdir, 0, \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}});}
\DoxyCodeLine{127   \textcolor{keywordflow}{if} (\mbox{\hyperlink{memlayout_8h_aefd5e8b62c49bba2cf20309c7dd174e2}{P2V}}(\mbox{\hyperlink{memlayout_8h_ad3c557a115f7d82d9ef849846779531c}{PHYSTOP}}) > (\textcolor{keywordtype}{void}*)\mbox{\hyperlink{memlayout_8h_a643ab4c8a98a6f7bfde12c8f52f6aafa}{DEVSPACE}})}
\DoxyCodeLine{128     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"PHYSTOP too high"});}
\DoxyCodeLine{129   \textcolor{keywordflow}{for}(k = \mbox{\hyperlink{structkmap}{kmap}}; k < \&\mbox{\hyperlink{structkmap}{kmap}}[\mbox{\hyperlink{defs_8h_afacd331296c10f360da7640e0d68429f}{NELEM}}(\mbox{\hyperlink{structkmap}{kmap}})]; k++)}
\DoxyCodeLine{130     \textcolor{keywordflow}{if}(\mbox{\hyperlink{vm_8c_a6a272b2512f2e848e09281c4c7275273}{mappages}}(pgdir, k-\/>\mbox{\hyperlink{structkmap_ad5bf91b771dda0525039776912ce4a99}{virt}}, k-\/>\mbox{\hyperlink{structkmap_a8ed8ac2a45d3aa20cfb5ea12645627d2}{phys\_end}} -\/ k-\/>\mbox{\hyperlink{structkmap_a434211e98bf2b72a36ad3782278ca1ab}{phys\_start}},}
\DoxyCodeLine{131                 (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}})k-\/>\mbox{\hyperlink{structkmap_a434211e98bf2b72a36ad3782278ca1ab}{phys\_start}}, k-\/>\mbox{\hyperlink{structkmap_abd9249c6d1f3b6af7792edd658c3a474}{perm}}) < 0) \{}
\DoxyCodeLine{132       \mbox{\hyperlink{vm_8c_aa883924e2f068c520b695cdc168e1603}{freevm}}(pgdir);}
\DoxyCodeLine{133       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{134     \}}
\DoxyCodeLine{135   \textcolor{keywordflow}{return} pgdir;}
\DoxyCodeLine{136 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_aa7dbd3b5c70eb93e0e7fb8331202821d_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=315pt]{de/de9/vm_8c_aa7dbd3b5c70eb93e0e7fb8331202821d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_a02ca0670bc1fe12e38453082631ff360}\label{vm_8c_a02ca0670bc1fe12e38453082631ff360}} 
\index{vm.c@{vm.c}!switchkvm@{switchkvm}}
\index{switchkvm@{switchkvm}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{switchkvm()}{switchkvm()}}
{\footnotesize\ttfamily void switchkvm (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



vm.\+c 파일의 150 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{151 \{}
\DoxyCodeLine{152   \mbox{\hyperlink{x86_8h_ad478e855c39b8cbc88b72327ef4cd6f7}{lcr3}}(\mbox{\hyperlink{memlayout_8h_a5021188bc7da1304f27e913aee183407}{V2P}}(\mbox{\hyperlink{vm_8c_aff01f9f000432fd4171b7edee6c85855}{kpgdir}}));   \textcolor{comment}{// switch to the kernel page table}}
\DoxyCodeLine{153 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=221pt]{de/de9/vm_8c_a02ca0670bc1fe12e38453082631ff360_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_a02ca0670bc1fe12e38453082631ff360_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_a87c90f0ab2a1b11c2b55f4e483bb8493}\label{vm_8c_a87c90f0ab2a1b11c2b55f4e483bb8493}} 
\index{vm.c@{vm.c}!switchuvm@{switchuvm}}
\index{switchuvm@{switchuvm}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{switchuvm()}{switchuvm()}}
{\footnotesize\ttfamily void switchuvm (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structproc}{proc}} $\ast$}]{p }\end{DoxyParamCaption})}



vm.\+c 파일의 157 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{158 \{}
\DoxyCodeLine{159   \textcolor{keywordflow}{if}(p == 0)}
\DoxyCodeLine{160     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"switchuvm: no process"});}
\DoxyCodeLine{161   \textcolor{keywordflow}{if}(p-\/>\mbox{\hyperlink{structproc_a9f556df98482bff6c9216013d7581ae4}{kstack}} == 0)}
\DoxyCodeLine{162     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"switchuvm: no kstack"});}
\DoxyCodeLine{163   \textcolor{keywordflow}{if}(p-\/>\mbox{\hyperlink{structproc_ad430afc653e9eb6cee33954d5545b79d}{pgdir}} == 0)}
\DoxyCodeLine{164     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"switchuvm: no pgdir"});}
\DoxyCodeLine{165 }
\DoxyCodeLine{166   \mbox{\hyperlink{defs_8h_a206b749d1b7768dadce61cbcde7e0f1c}{pushcli}}();}
\DoxyCodeLine{167   \mbox{\hyperlink{defs_8h_a6ab45dc363c8d9b7beb14c25be49c6d7}{mycpu}}()-\/>\mbox{\hyperlink{structcpu_aee38fb8832f8e728538b2cee877d1c09}{gdt}}[\mbox{\hyperlink{mmu_8h_a51332450caa8201ecc42fce428288e6f}{SEG\_TSS}}] = \mbox{\hyperlink{mmu_8h_abe69a1dd6290e2be017d58309495adb7}{SEG16}}(\mbox{\hyperlink{mmu_8h_a1b27d53cef04c198f3b048345d28016c}{STS\_T32A}}, \&\mbox{\hyperlink{defs_8h_a6ab45dc363c8d9b7beb14c25be49c6d7}{mycpu}}()-\/>ts,}
\DoxyCodeLine{168                                 \textcolor{keyword}{sizeof}(\mbox{\hyperlink{defs_8h_a6ab45dc363c8d9b7beb14c25be49c6d7}{mycpu}}()-\/>ts)-\/1, 0);}
\DoxyCodeLine{169   \mbox{\hyperlink{defs_8h_a6ab45dc363c8d9b7beb14c25be49c6d7}{mycpu}}()-\/>\mbox{\hyperlink{structcpu_aee38fb8832f8e728538b2cee877d1c09}{gdt}}[\mbox{\hyperlink{mmu_8h_a51332450caa8201ecc42fce428288e6f}{SEG\_TSS}}].\mbox{\hyperlink{structsegdesc_aacc67bb0857f0c77c1f8a5c9b8a1ac09}{s}} = 0;}
\DoxyCodeLine{170   \mbox{\hyperlink{defs_8h_a6ab45dc363c8d9b7beb14c25be49c6d7}{mycpu}}()-\/>\mbox{\hyperlink{structcpu_a32e7b5aa877171c943d47038e818a159}{ts}}.\mbox{\hyperlink{structtaskstate_a574e97ea3fd87f314da88afec3c6f574}{ss0}} = \mbox{\hyperlink{mmu_8h_ad523d10217ef0ff5e75b7831f251d2b1}{SEG\_KDATA}} << 3;}
\DoxyCodeLine{171   \mbox{\hyperlink{defs_8h_a6ab45dc363c8d9b7beb14c25be49c6d7}{mycpu}}()-\/>\mbox{\hyperlink{structcpu_a32e7b5aa877171c943d47038e818a159}{ts}}.\mbox{\hyperlink{structtaskstate_a41b3e1d46a5068485eb6714974a979d6}{esp0}} = (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}})p-\/>\mbox{\hyperlink{structproc_a9f556df98482bff6c9216013d7581ae4}{kstack}} + \mbox{\hyperlink{param_8h_a7735dc19a8cdc3fcafd4241184be4b41}{KSTACKSIZE}};}
\DoxyCodeLine{172   \textcolor{comment}{// setting IOPL=0 in eflags *and* iomb beyond the tss segment limit}}
\DoxyCodeLine{173   \textcolor{comment}{// forbids I/O instructions (e.g., inb and outb) from user space}}
\DoxyCodeLine{174   \mbox{\hyperlink{defs_8h_a6ab45dc363c8d9b7beb14c25be49c6d7}{mycpu}}()-\/>\mbox{\hyperlink{structcpu_a32e7b5aa877171c943d47038e818a159}{ts}}.\mbox{\hyperlink{structtaskstate_a5ee57b190324239a5d88f7c02039901f}{iomb}} = (\mbox{\hyperlink{types_8h_ab95f123a6c9bcfee6a343170ef8c5f69}{ushort}}) 0xFFFF;}
\DoxyCodeLine{175   \mbox{\hyperlink{x86_8h_a4221d3a95c4a39db73a96c2332990ab0}{ltr}}(\mbox{\hyperlink{mmu_8h_a51332450caa8201ecc42fce428288e6f}{SEG\_TSS}} << 3);}
\DoxyCodeLine{176   \mbox{\hyperlink{x86_8h_ad478e855c39b8cbc88b72327ef4cd6f7}{lcr3}}(\mbox{\hyperlink{memlayout_8h_a5021188bc7da1304f27e913aee183407}{V2P}}(p-\/>\mbox{\hyperlink{structproc_ad430afc653e9eb6cee33954d5545b79d}{pgdir}}));  \textcolor{comment}{// switch to process's address space}}
\DoxyCodeLine{177   \mbox{\hyperlink{defs_8h_ae3424f669269fef400ce29c3aeb43fdb}{popcli}}();}
\DoxyCodeLine{178 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_a87c90f0ab2a1b11c2b55f4e483bb8493_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_a87c90f0ab2a1b11c2b55f4e483bb8493_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_adefebae1abb3b54fd04d6d4858e7735b}\label{vm_8c_adefebae1abb3b54fd04d6d4858e7735b}} 
\index{vm.c@{vm.c}!uva2ka@{uva2ka}}
\index{uva2ka@{uva2ka}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{uva2ka()}{uva2ka()}}
{\footnotesize\ttfamily char$\ast$ uva2ka (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$}]{pgdir,  }\item[{char $\ast$}]{uva }\end{DoxyParamCaption})}



vm.\+c 파일의 350 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{351 \{}
\DoxyCodeLine{352   \mbox{\hyperlink{mmu_8h_ab23e75f764f8314a83eaff23508c2ae5}{pte\_t}} *pte;}
\DoxyCodeLine{353 }
\DoxyCodeLine{354   pte = \mbox{\hyperlink{vm_8c_acb8e38162e861af59fa33ff89058bdb5}{walkpgdir}}(pgdir, uva, 0);}
\DoxyCodeLine{355   \textcolor{keywordflow}{if}((*pte \& \mbox{\hyperlink{mmu_8h_a89bd860de64c44cd8ebaca8dc311b5ac}{PTE\_P}}) == 0)}
\DoxyCodeLine{356     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{357   \textcolor{keywordflow}{if}((*pte \& \mbox{\hyperlink{mmu_8h_adced9836a1dc98d72849361e6ab03cda}{PTE\_U}}) == 0)}
\DoxyCodeLine{358     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{359   \textcolor{keywordflow}{return} (\textcolor{keywordtype}{char}*)\mbox{\hyperlink{memlayout_8h_aefd5e8b62c49bba2cf20309c7dd174e2}{P2V}}(\mbox{\hyperlink{mmu_8h_a74b24f9b091875a5313370892e3f37a5}{PTE\_ADDR}}(*pte));}
\DoxyCodeLine{360 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_adefebae1abb3b54fd04d6d4858e7735b_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=299pt]{de/de9/vm_8c_adefebae1abb3b54fd04d6d4858e7735b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{vm_8c_acb8e38162e861af59fa33ff89058bdb5}\label{vm_8c_acb8e38162e861af59fa33ff89058bdb5}} 
\index{vm.c@{vm.c}!walkpgdir@{walkpgdir}}
\index{walkpgdir@{walkpgdir}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{walkpgdir()}{walkpgdir()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{mmu_8h_ab23e75f764f8314a83eaff23508c2ae5}{pte\+\_\+t}}$\ast$ walkpgdir (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}} $\ast$}]{pgdir,  }\item[{const void $\ast$}]{va,  }\item[{int}]{alloc }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



vm.\+c 파일의 36 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{37 \{}
\DoxyCodeLine{38   \mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\_t}} *pde;}
\DoxyCodeLine{39   \mbox{\hyperlink{mmu_8h_ab23e75f764f8314a83eaff23508c2ae5}{pte\_t}} *pgtab;}
\DoxyCodeLine{40 }
\DoxyCodeLine{41   pde = \&pgdir[\mbox{\hyperlink{mmu_8h_a110662636733266a8820e15fd32995b7}{PDX}}(va)];}
\DoxyCodeLine{42   \textcolor{keywordflow}{if}(*pde \& \mbox{\hyperlink{mmu_8h_a89bd860de64c44cd8ebaca8dc311b5ac}{PTE\_P}})\{}
\DoxyCodeLine{43     pgtab = (\mbox{\hyperlink{mmu_8h_ab23e75f764f8314a83eaff23508c2ae5}{pte\_t}}*)\mbox{\hyperlink{memlayout_8h_aefd5e8b62c49bba2cf20309c7dd174e2}{P2V}}(\mbox{\hyperlink{mmu_8h_a74b24f9b091875a5313370892e3f37a5}{PTE\_ADDR}}(*pde));}
\DoxyCodeLine{44   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{45     \textcolor{keywordflow}{if}(!alloc || (pgtab = (\mbox{\hyperlink{mmu_8h_ab23e75f764f8314a83eaff23508c2ae5}{pte\_t}}*)\mbox{\hyperlink{defs_8h_a3af104ba40b66dcec8363ac5a70907ed}{kalloc}}()) == 0)}
\DoxyCodeLine{46       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{47     \textcolor{comment}{// Make sure all those PTE\_P bits are zero.}}
\DoxyCodeLine{48     \mbox{\hyperlink{defs_8h_a9d55c9f035076ed1a90b6452770d0b62}{memset}}(pgtab, 0, \mbox{\hyperlink{mmu_8h_a5f96cb6ae6670e023c407cc2f77e1704}{PGSIZE}});}
\DoxyCodeLine{49     \textcolor{comment}{// The permissions here are overly generous, but they can}}
\DoxyCodeLine{50     \textcolor{comment}{// be further restricted by the permissions in the page table}}
\DoxyCodeLine{51     \textcolor{comment}{// entries, if necessary.}}
\DoxyCodeLine{52     *pde = \mbox{\hyperlink{memlayout_8h_a5021188bc7da1304f27e913aee183407}{V2P}}(pgtab) | \mbox{\hyperlink{mmu_8h_a89bd860de64c44cd8ebaca8dc311b5ac}{PTE\_P}} | \mbox{\hyperlink{mmu_8h_a058fcbcc3e1eab2c09c68b3e5221c545}{PTE\_W}} | \mbox{\hyperlink{mmu_8h_adced9836a1dc98d72849361e6ab03cda}{PTE\_U}};}
\DoxyCodeLine{53   \}}
\DoxyCodeLine{54   \textcolor{keywordflow}{return} \&pgtab[\mbox{\hyperlink{mmu_8h_a6430b46123b475c465d6af22a51336fb}{PTX}}(va)];}
\DoxyCodeLine{55 \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_acb8e38162e861af59fa33ff89058bdb5_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/de9/vm_8c_acb8e38162e861af59fa33ff89058bdb5_icgraph}
\end{center}
\end{figure}


\doxysubsection{변수 문서화}
\mbox{\Hypertarget{vm_8c_a923b2158227405b9f7a6eceb6c7104c8}\label{vm_8c_a923b2158227405b9f7a6eceb6c7104c8}} 
\index{vm.c@{vm.c}!data@{data}}
\index{data@{data}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{data}{data}}
{\footnotesize\ttfamily char data\mbox{[}$\,$\mbox{]}}

\mbox{\Hypertarget{vm_8c_aad4e743d8c7a750da6d189aa2ea690ff}\label{vm_8c_aad4e743d8c7a750da6d189aa2ea690ff}} 
\index{vm.c@{vm.c}!kmap@{kmap}}
\index{kmap@{kmap}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{kmap}{kmap}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structkmap}{kmap}} \mbox{\hyperlink{structkmap}{kmap}}\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries 초기값\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{ \{ (\textcolor{keywordtype}{void}*)\mbox{\hyperlink{memlayout_8h_a20cbfc19992a40ab9ccf4aa8ab8283d0}{KERNBASE}}, 0,             \mbox{\hyperlink{memlayout_8h_afa15977c771e531ebd3f3a5c2563ce16}{EXTMEM}},    \mbox{\hyperlink{mmu_8h_a058fcbcc3e1eab2c09c68b3e5221c545}{PTE\_W}}\}, }
\DoxyCodeLine{ \{ (\textcolor{keywordtype}{void}*)\mbox{\hyperlink{memlayout_8h_aca91837d3500b42e38e6427ca4db4946}{KERNLINK}}, \mbox{\hyperlink{memlayout_8h_a5021188bc7da1304f27e913aee183407}{V2P}}(\mbox{\hyperlink{memlayout_8h_aca91837d3500b42e38e6427ca4db4946}{KERNLINK}}), \mbox{\hyperlink{memlayout_8h_a5021188bc7da1304f27e913aee183407}{V2P}}(\mbox{\hyperlink{vm_8c_a923b2158227405b9f7a6eceb6c7104c8}{data}}), 0\},     }
\DoxyCodeLine{ \{ (\textcolor{keywordtype}{void}*)\mbox{\hyperlink{vm_8c_a923b2158227405b9f7a6eceb6c7104c8}{data}},     \mbox{\hyperlink{memlayout_8h_a5021188bc7da1304f27e913aee183407}{V2P}}(\mbox{\hyperlink{vm_8c_a923b2158227405b9f7a6eceb6c7104c8}{data}}),     \mbox{\hyperlink{memlayout_8h_ad3c557a115f7d82d9ef849846779531c}{PHYSTOP}},   \mbox{\hyperlink{mmu_8h_a058fcbcc3e1eab2c09c68b3e5221c545}{PTE\_W}}\}, }
\DoxyCodeLine{ \{ (\textcolor{keywordtype}{void}*)\mbox{\hyperlink{memlayout_8h_a643ab4c8a98a6f7bfde12c8f52f6aafa}{DEVSPACE}}, \mbox{\hyperlink{memlayout_8h_a643ab4c8a98a6f7bfde12c8f52f6aafa}{DEVSPACE}},      0,         \mbox{\hyperlink{mmu_8h_a058fcbcc3e1eab2c09c68b3e5221c545}{PTE\_W}}\}, }
\DoxyCodeLine{\}}

\end{DoxyCode}
\mbox{\Hypertarget{vm_8c_aff01f9f000432fd4171b7edee6c85855}\label{vm_8c_aff01f9f000432fd4171b7edee6c85855}} 
\index{vm.c@{vm.c}!kpgdir@{kpgdir}}
\index{kpgdir@{kpgdir}!vm.c@{vm.c}}
\doxysubsubsection{\texorpdfstring{kpgdir}{kpgdir}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_ac131849542282b2c95dfeaf1f26dc010}{pde\+\_\+t}}$\ast$ kpgdir}



vm.\+c 파일의 11 번째 라인에서 정의되었습니다.

